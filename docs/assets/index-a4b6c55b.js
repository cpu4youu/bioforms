import{s as a,g as M,S as E,e as R,u as D,R as c,_ as y,r as B,x as k,y as z,j as e}from"./index-4c3bd8d7.js";import{u as W}from"./fightersSort-2954d56a.js";import{u as L}from"./use-media-6caf92eb.js";import{u as N}from"./index-49b8ea36.js";import{e as $}from"./emptyTeam-57b35972.js";import{u as O}from"./useQuery-ff627148.js";import"./use-transaction-e4ae8e7b.js";import"./toast-options-5b9183d3.js";import"./weather-query-526fd3ab.js";import"./sleep-da79c358.js";import"./config-query-d6aa3bc1.js";import"./inventory-query-32235798.js";import"./adapters-63c2f267.js";import"./atomic-api-8b97f05e.js";import"./v4-4a60fe23.js";const V=a("div",{d:"flex",direction:"column",gap:"10px",w:"100%",maxW:"400px","@lg":{w:"100%",maxW:"100%"},"@md":{w:"60%",maxW:"619px"},"@sm":{w:"100%",maxW:"100%"}}),P=a("div",{display:"flex",direction:"column",gap:"10px",mt:"20px"}),Q=a("h4",{display:"flex",textTransform:"uppercase",color:"#fff",ff:"$heading","@xlg":{justify:"center"}}),Y=a("div",{display:"flex",justify:"start",gap:"5px","@xlg":{justify:"center"},"@xsm":{gap:"5px"}}),q=a("div",{display:"flex",align:"center",justify:"space-between",w:"100%",gap:"15px"}),K=a("div",{gridArea:"content",variants:{cardSelected:{0:{img:{"&:nth-of-type(1)":{zIndex:"3"},"&:nth-of-type(2)":{opacity:"0.2"}}},1:{img:{"&:nth-of-type(1)":{opacity:"0.2"},"&:nth-of-type(2)":{}}}}},"@xlg":{display:"flex",justify:"center"}}),U=a("div",{display:"flex",gap:"3px"}),I=a("div",{display:"flex",align:"center",justify:"center",direction:"column",padding:"10px",bg:"#1B213A",border:"1px solid #121830",br:"5px",gap:"3px",span:{fw:"bold",ff:"$heading",color:"#BDBDBD",fs:"10px"}}),G=a("div",{border:"1px solid #FFFFFF",br:"5px",w:"85px",h:"85px",">div":{w:"85px",h:"85px"}}),C=a("img",{cursor:"pointer",transition:"all 0.2s ease-in-out",w:"60px",h:"85px",zIndex:"2",variants:{isSelected:{true:{filter:"grayscale(100%)"}}},"@sm":{w:"65px",h:"90px"}}),H=a("div",{d:"flex",w:"100%",h:"100%",gap:"15px"}),A=async s=>{const n=await M({options:{code:E.battleAle,key_type:"i64",index_position:1,limit:"1000",lower_bound:s,upper_bound:s,scope:E.battleAle,table:"nftvalues"}});return(n==null?void 0:n[0])||null},J=s=>O({queryKey:[R.NftValuesState,s],queryFn:()=>X(s),staleTime:1e3*60*60,enabled:!!D.getState().user});async function X(s){if(!s[0]||!s[1])return{weapon:null,crew:null};try{const n=await A(s[0]),x=await A(s[1]);return{weapon:n||null,crew:x||null}}catch(n){return console.log(n),{weapon:null,crew:null}}}const Z=c.lazy(()=>y(()=>import("./index-754acddd.js"),["assets/index-754acddd.js","assets/index-4c3bd8d7.js","assets/index-55fec1ff.css","assets/iconBase-2143c85e.js"])),ee=c.lazy(()=>y(()=>import("./index-02808d74.js"),["assets/index-02808d74.js","assets/index-4c3bd8d7.js","assets/index-55fec1ff.css"])),te=c.lazy(()=>y(()=>import("./index-1b8d72b3.js"),["assets/index-1b8d72b3.js","assets/index-4c3bd8d7.js","assets/index-55fec1ff.css","assets/elements-a94bd2b3.js","assets/classtemps-query-fafb5dd4.js","assets/useQuery-ff627148.js","assets/fightersSort-2954d56a.js","assets/markers-45cb96d1.js","assets/index-49b8ea36.js","assets/use-transaction-e4ae8e7b.js","assets/toast-options-5b9183d3.js","assets/weather-query-526fd3ab.js","assets/sleep-da79c358.js","assets/config-query-d6aa3bc1.js","assets/inventory-query-32235798.js","assets/adapters-63c2f267.js","assets/atomic-api-8b97f05e.js"])),se=({inventoryPosition:s,handleInventoryPosition:n,fighterPosition:x,handleFighterPosition:T})=>{var h,_,w,j,b,v,F,S;const{setSelectedFighter:u}=W(),{isSuperLarge:d}=L(),{selectedCards:o,myTeam:f}=N(),{data:l}=J([(h=o[0])==null?void 0:h.template.template_id,(_=o[1])==null?void 0:_.template.template_id]),m=B.useMemo(()=>[l==null?void 0:l.crew,l==null?void 0:l.weapon].reduce((t,p)=>(p&&(k.forEach(g=>{const r=g;t[`${r}_min`]=(t[r]||0)+Number(p.stats[r]||0),t[`${r}_max`]=(t[r]||0)+Number(p.stats[r]||0)}),z.forEach(g=>{const r=g.value;t[r]=(t[r]||0)+Number(p.stats[r]||0)}),t.max_health=(t.max_health||0)+Number(p.stats.max_health||0)),t),{}),[l]);return e.jsxs(V,{children:[e.jsxs(P,{children:[e.jsx(Q,{children:"YOUR TEAM"}),e.jsx(Y,{children:f==null?void 0:f.map((i,t)=>e.jsx(Z,{onMouseEnter:()=>d&&i?null:u(i),onMouseLeave:()=>d?null:u(null),onMouseDown:()=>T(t),isSelected:x===t,fighter:i},(i==null?void 0:i.fighter_id)??$[t]))})]}),e.jsxs(q,{children:[e.jsxs(K,{cardSelected:s,children:[e.jsx(C,{onClick:()=>n(0),loading:"lazy",src:o[0]?`/assets/aw-nft-images/${(w=o[0])==null?void 0:w.template.template_id}.webp`:"/assets/default-card.png",alt:(b=(j=o[0])==null?void 0:j.data)==null?void 0:b.name}),e.jsx(C,{onClick:()=>n(1),loading:"lazy",src:o[1]?`/assets/aw-nft-images/${(v=o[1])==null?void 0:v.template.template_id}.webp`:"/assets/default-card.png",alt:(S=(F=o[1])==null?void 0:F.data)==null?void 0:S.name})]}),e.jsxs(U,{children:[e.jsx(I,{children:e.jsx("span",{children:"No Buff"})}),e.jsx(G,{children:e.jsx(ee,{onMouseEnter:()=>d&&m?null:u({classname:m.classname||"unknown",racename:m.racename||"unknown",level:1,...m}),onMouseLeave:()=>d?null:u(null),fighter:{element:"air",classname:"bonus",racename:"fighter"}})})]})]}),e.jsx(H,{children:e.jsx(te,{})})]})},he=c.memo(se);export{he as default};

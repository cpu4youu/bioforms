import{s as o,j as e}from"./index-0a7d9506.js";import{u as C,b}from"./all-buildings-ee5cb424.js";import{f as l}from"./constants-2aba6d4c.js";import{u as w}from"./index-32dbd423.js";import"./useQuery-9ccc590b.js";import"./atomic-api-3e6c0771.js";import"./toast-options-feb3eaf9.js";const v=o("div",{mt:"20px","@sm":{mt:"5px"}}),y=o("div",{d:"grid",gridTemplateColumns:"1fr 1fr 1fr",w:"100%",bg:"#242438",padding:"10px 20px",fontSize:"14px",fontWeight:"bold",ff:"$heading",color:"#C9C9C9","@md":{gap:"10px",fontSize:"12px",padding:"10px 10px",span:{textAlign:"center"}}}),S=o("div",{d:"flex",direction:"column",gap:"10px",overflowY:"auto",h:"calc(100vh - 280px)",pb:"20px"}),z=o("button",{d:"grid",gridTemplateColumns:"1fr 1fr 1fr",bg:"#201D2C",padding:"8px",gap:"3px",variants:{isSelected:{true:{bg:"rgb(255 255 255 / 17%)"}}},"@sm":{gap:"3px"}}),_=o("div",{d:"flex",w:"100%",h:"100%",mt:"10px",img:{objectFit:"contain",w:"70px",h:"70px"},span:{ml:"10px",fontSize:"14px",ff:"$heading",color:"#C9C9C9"},"@md":{span:{fontSize:"12px"}},"@sm":{direction:"column-reverse",alignItems:"center",justify:"flex-end",gap:"10px",img:{w:"100%",h:"auto"}}}),$=o("div",{d:"flex",flexWrap:"wrap",gap:"2px 3px",w:"100%",h:"77px"}),m=o("div",{d:"flex",w:"49%",h:"100%",gap:"2px",img:{objectFit:"contain",w:"34px",h:"100%",bg:"#242438"},span:{d:"flex",alignItems:"center",justifyContent:"center",w:"100%",fontSize:"14px",ff:"$heading",fw:"bold",color:"#C9C9C9",bg:"#242438"},"@md":{w:"100%",span:{fontSize:"10px"}}}),T=o("div",{d:"flex",w:"100%",gap:"3px",variants:{isSide:{true:{mt:"0px","@sm":{mt:"8px"}},false:{h:"100%"}}},"@sm":{gap:"3px",flexWrap:"wrap"}}),B=o("button",{d:"flex",justifyContent:"center",alignItems:"center",direction:"column",position:"relative",bg:"#242438",w:"70px",h:"77px",overflow:"hidden",span:{position:"absolute",top:"8px",left:"5px",ff:"$heading",fw:"bold",fs:"16px",color:"#D9CA9A"},img:{objectFit:"contain",w:"77px",h:"100%"},variants:{disabled:{true:{"img, span":{filter:"grayscale(100%)"}}}},"@md":{span:{fontSize:"12px"}},"@sm":{maxW:"48%",span:{fontSize:"12px"},img:{objectFit:"contain",w:"50px"}}}),I=o("div",{position:"absolute",w:"100%",h:"7px",top:0,left:0,bg:"red","@sm":{h:"3px"}}),k=()=>{const{data:p}=C(),{data:d}=b(),{selectedLand:x,setBuildingBoost:g,setSelectedBuild:f,setSelectedLand:h}=w();function j(s){var n,a;h(s);const t={...(n=l)==null?void 0:n[0],...(a=s.buildings)==null?void 0:a[0],index:0},r=((t==null?void 0:t.boost_score)||0)/1e4;f(t),g([r])}return e.jsxs(v,{children:[e.jsxs(y,{children:[e.jsx("span",{children:"Land"}),e.jsx("span",{children:"Income since last claim"}),e.jsx("span",{children:"Buildings"})]}),e.jsx(S,{children:p==null?void 0:p.map(s=>{const t=d==null?void 0:d[s.data.planetName].find(n=>n.x===s.data.x&&n.y===s.data.y),r=t==null?void 0:t.buildings.reduce((n,a)=>({credits:n.credits+a.credits,gems:n.gems+a.gems,shards:n.shards+a.shards,tlm:n.tlm+a.tlm}),{credits:0,gems:0,shards:0,tlm:0});return e.jsxs(z,{isSelected:s.asset_id===Number(x==null?void 0:x.asset_id),onClick:()=>j({...s,...t}),children:[e.jsxs(_,{children:[e.jsx("img",{loading:"lazy",src:`/assets/lands/map_${s.data.planetName}_row-${s.data.y}-column-${s.data.x}.jpg`,alt:"Land"}),e.jsxs("span",{children:[s.data.name," (",s.data.x,":",s.data.y,")"]})]}),e.jsxs($,{children:[e.jsxs(m,{children:[e.jsx("img",{loading:"lazy",src:"/assets/icons/credit.png",alt:""}),e.jsx("span",{children:r==null?void 0:r.credits})]}),e.jsxs(m,{children:[e.jsx("img",{loading:"lazy",src:"/assets/icons/tlm.png",alt:""}),e.jsx("span",{children:r==null?void 0:r.tlm})]})]}),e.jsx(T,{isSide:!1,children:l.map((n,a)=>{const i=t==null?void 0:t.buildings.find(c=>c.building_name===n.building_name.toLowerCase()||c.building_name==="dungeon"&&a===0),u=((i==null?void 0:i.boost_score)||0)/1e4;return e.jsxs(B,{disabled:!t||!i,children:[e.jsx(I,{style:{width:`${u}%`}}),e.jsx("span",{children:i==null?void 0:i.level}),e.jsx("img",{loading:"lazy",src:`/assets/buildings/${n.img}.png`,alt:i==null?void 0:i.building_name,title:i==null?void 0:i.building_name})]},a)})})]},s.asset_id)})})]})};export{k as default};

import{s,r as l,j as a,x as C,y as _}from"./index-d15311a5.js";import{u as z}from"./config-query-1ba3bb73.js";import{u as T}from"./classtemps-query-2d11d14d.js";import{g as k,a as S}from"./resStats-7c9727e3.js";import"./useQuery-e293e13b.js";const D=s("div",{d:"flex",align:"center",justify:"flex-start",direction:"column",position:"relative",gap:"10px",w:"100%",maxW:"500px",bg:"#141423",br:"15px",h:"100%",overflowY:"auto",variants:{isHidden:{true:{"@sm":{display:"none"}}}}}),P=s("div",{d:"flex",align:"center",justify:"center",gap:"3px",w:"100%",h:"180px",position:"relative"}),j=s("img",{zIndex:"1",w:"100%",h:"180px",objectFit:"contain"}),w=s("img",{position:"absolute",top:"0",left:"0",w:"100%",h:"180px",objectFit:"cover",objectPosition:"center bottom",br:"15px 15px 0 0"}),E=s("button",{d:"flex",align:"flex-start",justify:"center",zIndex:"2",textShadow:"0 0 5px rgba(0,0,0)",color:"#fff",fs:"30px",w:"50px",top:"0px",right:"0px",position:"absolute"}),M=s("div",{d:"flex",align:"center",justify:"center",direction:"column",padding:"0 40px 0 40px",w:"100%"}),B=s("div",{d:"flex",align:"center",justify:"center",gap:"10px",mb:"5px",color:"#787878",fw:"bold",ff:"$heading",fs:"12px"}),R=s("h3",{color:"#fff",textTransform:"capitalize",textAlign:"center",fs:"20px",w:"100%"}),L=s("span",{color:"#C7C7C7",textTransform:"capitalize",textAlign:"center",ff:"$heading",fs:"15px",w:"100%","@lgxx":{fs:"12px"}}),y=s("div",{d:"flex",align:"center",justify:"space-between",w:"100%",color:"#fff",textTransform:"capitalize",textAlign:"center",ff:"$heading",fs:"15px",span:{"&:first-child":{fw:"bold",color:"#fff"},"&:last-child":{color:"#B8B8B8"}},"@lgxx":{fs:"12px"}}),I=s("div",{d:"flex",align:"center",justify:"center",direction:"column",gap:"10px",padding:"20px 40px 40px",w:"100%"}),N=s("div",{d:"flex",align:"center",justify:"center",direction:"column",gap:"5px",padding:"20px",w:"100%",bg:"rgba(192, 192, 192, 0.15)",br:"10px"}),W=s("div",{d:"flex",align:"center",justify:"space-between",w:"100%",strong:{color:"#fff",ff:"$heading",fs:"15px",textAlign:"center",textTransform:"capitalize"},span:{d:"flex",align:"center",gap:"5px",color:"#fff",ff:"$heading",fs:"15px",textAlign:"center",textTransform:"capitalize","span:nth-child(2)":{color:"#339DFF"}},"&:last-child img":{filter:"grayscale(.9)"},"@lgxx":{span:{fs:"12px"}}}),H=s("div",{d:"flex",align:"center",justify:"center",direction:"column",gap:"5px",w:"100%"}),Q=s("div",{d:"flex",align:"center",justify:"center",gap:"5px",w:"100%"}),U=s("div",{d:"flex",align:"center",justify:"center",direction:"column",gap:"7px",padding:"10px 0",w:"100%",bg:"rgba(192, 192, 192, 0.15)",br:"10px",strong:{w:"100%",color:"#fff",ff:"$heading",fs:"13px",textAlign:"center",textTransform:"capitalize"},span:{w:"100%",color:"#D5D5D5",ff:"$heading",fs:"12px",textAlign:"center",textTransform:"capitalize"},"@lgxx":{span:{fs:"12px"}}}),V=s("div",{d:"flex",direction:"column",gap:"10px",w:"100%",h3:{w:"100%",color:"#fff",textTransform:"capitalize",ff:"$heading",fs:"15px"},p:{w:"100%",color:"#fff",ff:"$heading",fs:"15px"}}),O=({selectedFighter:n,onCloseFighterDetail:v,isHidden:b,showCloseButton:g=!0})=>{var c;const{data:t}=z(),{data:i}=T(),x=n,d=l.useMemo(()=>{if(n!=null&&n.agePenalty)return n.agePenalty;let o=0;n!=null&&n.creation_date&&(o=Math.floor((Date.now()-new Date(n.creation_date).getTime())/(1e3*60*60*24)));const r=((t==null?void 0:t.age_penaly_percent_day)??0)/100||0;return Math.floor(o*r)},[n,t]),$=l.useCallback((o,r)=>k(o,r,n,i),[i,n]),A=l.useCallback((o,r)=>S(o,r,n,i),[i,n]);return a.jsxs(D,{isHidden:b,children:[a.jsxs(P,{children:[g&&a.jsx(E,{onClick:()=>v(null),children:"x"}),n?a.jsx(j,{src:`/assets/fighter/classes/avatar_${n==null?void 0:n.classname}_${n==null?void 0:n.racename}.png`,alt:`${n==null?void 0:n.classname}_${n==null?void 0:n.racename}`,title:`${n==null?void 0:n.classname}_${n==null?void 0:n.racename}`,loading:"lazy"}):a.jsx(j,{src:"/assets/fighter/classes/full_unknown_unknown.png",alt:"Unknown Fighter",title:"Unknown Fighter",loading:"lazy"}),n!=null&&n.element?a.jsx(w,{src:`/assets/fighter/classes/backgrounds/avatar/avatar_background_${n==null?void 0:n.element}.jpeg`,alt:"",loading:"lazy"}):a.jsx(w,{src:"/assets/fighter/classes/backgrounds/avatar/avatar_background_unknown.jpeg",alt:"",loading:"lazy"})]}),a.jsxs(M,{children:[a.jsxs(R,{children:[n==null?void 0:n.racename," ",n==null?void 0:n.classname]}),a.jsxs(B,{children:["(Level ",(n==null?void 0:n.level)||((c=n==null?void 0:n.stats)==null?void 0:c.level)||"??",")"]}),a.jsxs(L,{children:["Element: ",(n==null?void 0:n.element)||"??"]})]}),a.jsxs(I,{children:[a.jsxs(y,{children:[a.jsx("span",{children:"BASE STATS "}),a.jsxs("span",{children:["Age Penalty: - ",d,"%"]})]}),a.jsx(N,{children:C.map(o=>{const r=(x==null?void 0:x[`${o}_min`])??0,p=(x==null?void 0:x[`${o}_max`])??0,f=Math.floor((r+p)/2),m=Math.floor(Math.abs(p-r)/2),u=$(o,f);return a.jsxs(W,{children:[a.jsxs("strong",{children:[o,":"]}),f?a.jsxs("span",{children:[a.jsx("span",{children:f}),m>0&&a.jsxs("span",{children:["(+-",m,")"]}),u&&a.jsx("img",{src:`/assets/icons/arrows/${u}.png`,alt:"arrow-up",loading:"lazy"})]}):a.jsx("span",{children:"??"})]},o)})}),a.jsxs(H,{children:[a.jsxs(y,{children:[a.jsx("span",{children:"RESISTANCES"}),a.jsx("span",{})]}),a.jsx(Q,{children:_.map(o=>{const r=Number(x==null?void 0:x[o.value]),p=A(o.value,r);return a.jsxs(U,{children:[a.jsx("strong",{children:o.displayname}),r&&r>0?a.jsxs("span",{children:[r,"%"]}):a.jsx("span",{children:"??"}),p&&a.jsx("img",{src:`/assets/icons/arrows/${p}.png`,alt:p,loading:"lazy"})]},o.value)})})]}),a.jsxs(V,{children:[a.jsx("h3",{children:"CLASS"}),a.jsx("p",{children:"Very high Taunt, Medium health, and Above average Damage and initiative. They draw attention away from the rest of the team and seek glory, but are often the first unit hit."})]})]})]})};export{O as default};

import{R as j,r as M,s as D,j as c,u as U,a as D1,b as O1,e as c1,p as oe,g as j1,S as o1,q as se}from"./index-4a337f59.js";import{g as T1,a as Y1}from"./constants-9b21425a.js";import{u as C1}from"./useQuery-48081c09.js";var Z=function(e,r){return Number(e.toFixed(r))},le=function(e,r){return typeof e=="number"?e:r},P=function(e,r,i){i&&typeof i=="function"&&i(e,r)},ue=function(e){return-Math.cos(e*Math.PI)/2+.5},de=function(e){return e},pe=function(e){return e*e},fe=function(e){return e*(2-e)},ve=function(e){return e<.5?2*e*e:-1+(4-2*e)*e},me=function(e){return e*e*e},ce=function(e){return--e*e*e+1},Ce=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},he=function(e){return e*e*e*e},ge=function(e){return 1- --e*e*e*e},we=function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},ye=function(e){return e*e*e*e*e},Se=function(e){return 1+--e*e*e*e*e},be=function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},B1={easeOut:ue,linear:de,easeInQuad:pe,easeOutQuad:fe,easeInOutQuad:ve,easeInCubic:me,easeOutCubic:ce,easeInOutCubic:Ce,easeInQuart:he,easeOutQuart:ge,easeInOutQuart:we,easeInQuint:ye,easeOutQuint:Se,easeInOutQuint:be},N1=function(e){typeof e=="number"&&cancelAnimationFrame(e)},W=function(e){e.mounted&&(N1(e.animation),e.animate=!1,e.animation=null,e.velocity=null)};function x1(e,r,i,n){if(e.mounted){var t=new Date().getTime(),a=1;W(e),e.animation=function(){if(!e.mounted)return N1(e.animation);var o=new Date().getTime()-t,s=o/i,l=B1[r],d=l(s);o>=i?(n(a),e.animation=null):e.animation&&(n(d),requestAnimationFrame(e.animation))},requestAnimationFrame(e.animation)}}function Le(e){var r=e.scale,i=e.positionX,n=e.positionY;return!(Number.isNaN(r)||Number.isNaN(i)||Number.isNaN(n))}function Q(e,r,i,n){var t=Le(r);if(!(!e.mounted||!t)){var a=e.setTransformState,o=e.transformState,s=o.scale,l=o.positionX,d=o.positionY,u=r.scale-s,p=r.positionX-l,f=r.positionY-d;i===0?a(r.scale,r.positionX,r.positionY):x1(e,n,i,function(v){var C=s+u*v,g=l+p*v,h=d+f*v;a(C,g,h)})}}function Pe(e,r,i){var n=e.offsetWidth,t=e.offsetHeight,a=r.offsetWidth,o=r.offsetHeight,s=a*i,l=o*i,d=n-s,u=t-l;return{wrapperWidth:n,wrapperHeight:t,newContentWidth:s,newDiffWidth:d,newContentHeight:l,newDiffHeight:u}}var Te=function(e,r,i,n,t,a,o){var s=e>r?i*(o?1:.5):0,l=n>t?a*(o?1:.5):0,d=e-r-s,u=s,p=n-t-l,f=l;return{minPositionX:d,maxPositionX:u,minPositionY:p,maxPositionY:f}},h1=function(e,r){var i=e.wrapperComponent,n=e.contentComponent,t=e.setup.centerZoomedOut;if(!i||!n)throw new Error("Components are not mounted");var a=Pe(i,n,r),o=a.wrapperWidth,s=a.wrapperHeight,l=a.newContentWidth,d=a.newDiffWidth,u=a.newContentHeight,p=a.newDiffHeight,f=Te(o,l,d,s,u,p,!!t);return f},p1=function(e,r,i,n){return n?e<r?Z(r,2):e>i?Z(i,2):Z(e,2):Z(e,2)},q=function(e,r){var i=h1(e,r);return e.bounds=i,i};function e1(e,r,i,n,t,a,o){var s=i.minPositionX,l=i.minPositionY,d=i.maxPositionX,u=i.maxPositionY,p=0,f=0;o&&(p=t,f=a);var v=p1(e,s-p,d+p,n),C=p1(r,l-f,u+f,n);return{x:v,y:C}}function s1(e,r,i,n,t,a){var o=e.transformState,s=o.scale,l=o.positionX,d=o.positionY,u=n-s;if(typeof r!="number"||typeof i!="number")return console.error("Mouse X and Y position were not provided!"),{x:l,y:d};var p=l-r*u,f=d-i*u,v=e1(p,f,t,a,0,0,null);return v}function i1(e,r,i,n,t){var a=t?n:0,o=r-a;return!Number.isNaN(i)&&e>=i?i:!Number.isNaN(r)&&e<=o?o:e}var X1=function(e,r){var i=e.setup.panning.excluded,n=e.isInitialized,t=e.wrapperComponent,a=r.target,o="shadowRoot"in a&&"composedPath"in r,s=o?r.composedPath().some(function(u){return u instanceof Element?t==null?void 0:t.contains(u):!1}):t==null?void 0:t.contains(a),l=n&&a&&s;if(!l)return!1;var d=l1(a,i);return!d},V1=function(e){var r=e.isInitialized,i=e.isPanning,n=e.setup,t=n.panning.disabled,a=r&&i&&!t;return!!a},Ye=function(e,r){var i=e.transformState,n=i.positionX,t=i.positionY;e.isPanning=!0;var a=r.clientX,o=r.clientY;e.startCoords={x:a-n,y:o-t}},Xe=function(e,r){var i=r.touches,n=e.transformState,t=n.positionX,a=n.positionY;e.isPanning=!0;var o=i.length===1;if(o){var s=i[0].clientX,l=i[0].clientY;e.startCoords={x:s-t,y:l-a}}};function Ve(e){var r=e.transformState,i=r.positionX,n=r.positionY,t=r.scale,a=e.setup,o=a.disabled,s=a.limitToBounds,l=a.centerZoomedOut,d=e.wrapperComponent;if(!(o||!d||!e.bounds)){var u=e.bounds,p=u.maxPositionX,f=u.minPositionX,v=u.maxPositionY,C=u.minPositionY,g=i>p||i<f,h=n>v||n<C,S=i>p?d.offsetWidth:e.setup.minPositionX||0,T=n>v?d.offsetHeight:e.setup.minPositionY||0,L=s1(e,S,T,t,e.bounds,s||l),E=L.x,z=L.y;return{scale:t,positionX:g?E:i,positionY:h?z:n}}}function F1(e,r,i,n,t){var a=e.setup.limitToBounds,o=e.wrapperComponent,s=e.bounds,l=e.transformState,d=l.scale,u=l.positionX,p=l.positionY;if(!(o===null||s===null||r===u&&i===p)){var f=e1(r,i,s,a,n,t,o),v=f.x,C=f.y;e.setTransformState(d,v,C)}}var He=function(e,r,i){var n=e.startCoords,t=e.transformState,a=e.setup.panning,o=a.lockAxisX,s=a.lockAxisY,l=t.positionX,d=t.positionY;if(!n)return{x:l,y:d};var u=r-n.x,p=i-n.y,f=o?l:u,v=s?d:p;return{x:f,y:v}},R=function(e,r){var i=e.setup,n=e.transformState,t=n.scale,a=i.minScale,o=i.disablePadding;return r>0&&t>=a&&!o?r:0},_e=function(e){var r=e.mounted,i=e.setup,n=i.disabled,t=i.velocityAnimation,a=e.transformState.scale,o=t.disabled,s=!o||a>1||!n||r;return!!s},Ae=function(e){var r=e.mounted,i=e.velocity,n=e.bounds,t=e.setup,a=t.disabled,o=t.velocityAnimation,s=e.transformState.scale,l=o.disabled,d=!l||s>1||!a||r;return!(!d||!i||!n)};function Me(e,r){var i=e.setup.velocityAnimation,n=i.equalToMove,t=i.animationTime,a=i.sensitivity;return n?t*r*a:t}function H1(e,r,i,n,t,a,o,s,l,d){if(t){if(r>o&&i>o){var u=o+(e-o)*d;return u>l?l:u<o?o:u}if(r<a&&i<a){var u=a+(e-a)*d;return u<s?s:u>a?a:u}}return n?r:p1(e,a,o,t)}function ze(e,r){var i=1;return r?Math.min(i,e.offsetWidth/window.innerWidth):i}function Ee(e,r){var i=_e(e);if(i){var n=e.lastMousePosition,t=e.velocityTime,a=e.setup,o=e.wrapperComponent,s=a.velocityAnimation.equalToMove,l=Date.now();if(n&&t&&o){var d=ze(o,s),u=r.x-n.x,p=r.y-n.y,f=u/d,v=p/d,C=l-t,g=u*u+p*p,h=Math.sqrt(g)/C;e.velocity={velocityX:f,velocityY:v,total:h}}e.lastMousePosition=r,e.velocityTime=l}}function Ze(e){var r=e.velocity,i=e.bounds,n=e.setup,t=e.wrapperComponent,a=Ae(e);if(!(!a||!r||!i||!t)){var o=r.velocityX,s=r.velocityY,l=r.total,d=i.maxPositionX,u=i.minPositionX,p=i.maxPositionY,f=i.minPositionY,v=n.limitToBounds,C=n.alignmentAnimation,g=n.zoomAnimation,h=n.panning,S=h.lockAxisY,T=h.lockAxisX,L=g.animationType,E=C.sizeX,z=C.sizeY,w=C.velocityAlignmentTime,X=w,V=Me(e,l),_=Math.max(V,X),H=R(e,E),y=R(e,z),A=H*t.offsetWidth/100,B=y*t.offsetHeight/100,O=d+A,k=u-A,N=p+B,x=f-B,$=e.transformState,n1=new Date().getTime();x1(e,L,_,function(m){var Y=e.transformState,F=Y.scale,G=Y.positionX,J=Y.positionY,ie=new Date().getTime()-n1,ne=ie/X,re=B1[C.animationType],S1=1-re(Math.min(1,ne)),b1=1-m,L1=G+o*b1,P1=J+s*b1,te=H1(L1,$.positionX,G,T,v,u,d,k,O,S1),ae=H1(P1,$.positionY,J,S,v,f,p,x,N,S1);(G!==L1||J!==P1)&&e.setTransformState(F,te,ae)})}}function _1(e,r){var i=e.transformState.scale;W(e),q(e,i),window.TouchEvent!==void 0&&r instanceof TouchEvent?Xe(e,r):Ye(e,r)}function g1(e,r){var i=e.transformState.scale,n=e.setup,t=n.minScale,a=n.alignmentAnimation,o=a.disabled,s=a.sizeX,l=a.sizeY,d=a.animationTime,u=a.animationType,p=o||i<t||!s&&!l;if(!p){var f=Ve(e);f&&Q(e,f,r??d,u)}}function A1(e,r,i){var n=e.startCoords,t=e.setup,a=t.alignmentAnimation,o=a.sizeX,s=a.sizeY;if(n){var l=He(e,r,i),d=l.x,u=l.y,p=R(e,o),f=R(e,s);Ee(e,{x:d,y:u}),F1(e,d,u,p,f)}}function ke(e){if(e.isPanning){var r=e.setup.panning.velocityDisabled,i=e.velocity,n=e.wrapperComponent,t=e.contentComponent;e.isPanning=!1,e.animate=!1,e.animation=null;var a=n==null?void 0:n.getBoundingClientRect(),o=t==null?void 0:t.getBoundingClientRect(),s=(a==null?void 0:a.width)||0,l=(a==null?void 0:a.height)||0,d=(o==null?void 0:o.width)||0,u=(o==null?void 0:o.height)||0,p=s<d||l<u,f=!r&&i&&(i==null?void 0:i.total)>.1&&p;f?Ze(e):g1(e)}}function w1(e,r,i,n){var t=e.setup,a=t.minScale,o=t.maxScale,s=t.limitToBounds,l=i1(Z(r,2),a,o,0,!1),d=q(e,l),u=s1(e,i,n,l,d,s),p=u.x,f=u.y;return{scale:l,positionX:p,positionY:f}}function K1(e,r,i){var n=e.transformState.scale,t=e.wrapperComponent,a=e.setup,o=a.minScale,s=a.limitToBounds,l=a.zoomAnimation,d=l.disabled,u=l.animationTime,p=l.animationType,f=d||n>=o;if((n>=1||s)&&g1(e),!(f||!t||!e.mounted)){var v=r||t.offsetWidth/2,C=i||t.offsetHeight/2,g=w1(e,o,v,C);g&&Q(e,g,u,p)}}var K=function(){return K=Object.assign||function(r){for(var i,n=1,t=arguments.length;n<t;n++){i=arguments[n];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])}return r},K.apply(this,arguments)};function M1(e,r,i){if(i||arguments.length===2)for(var n=0,t=r.length,a;n<t;n++)(a||!(n in r))&&(a||(a=Array.prototype.slice.call(r,0,n)),a[n]=r[n]);return e.concat(a||Array.prototype.slice.call(r))}var r1={previousScale:1,scale:1,positionX:0,positionY:0},I={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},f1={wrapperClass:"react-transform-wrapper",contentClass:"react-transform-component"},R1=function(e){var r,i,n,t;return{previousScale:(r=e.initialScale)!==null&&r!==void 0?r:r1.scale,scale:(i=e.initialScale)!==null&&i!==void 0?i:r1.scale,positionX:(n=e.initialPositionX)!==null&&n!==void 0?n:r1.positionX,positionY:(t=e.initialPositionY)!==null&&t!==void 0?t:r1.positionY}},z1=function(e){var r=K({},I);return Object.keys(e).forEach(function(i){var n=typeof e[i]<"u",t=typeof I[i]<"u";if(t&&n){var a=Object.prototype.toString.call(I[i]),o=a==="[object Object]",s=a==="[object Array]";o?r[i]=K(K({},I[i]),e[i]):s?r[i]=M1(M1([],I[i],!0),e[i],!0):r[i]=e[i]}}),r},Q1=function(e,r,i){var n=e.transformState.scale,t=e.wrapperComponent,a=e.setup,o=a.maxScale,s=a.minScale,l=a.zoomAnimation,d=a.smooth,u=l.size;if(!t)throw new Error("Wrapper is not mounted");var p=d?n*Math.exp(r*i):n+r*i,f=i1(Z(p,3),s,o,u,!1);return f};function q1(e,r,i,n,t){var a=e.wrapperComponent,o=e.transformState,s=o.scale,l=o.positionX,d=o.positionY;if(!a)return console.error("No WrapperComponent found");var u=a.offsetWidth,p=a.offsetHeight,f=(u/2-l)/s,v=(p/2-d)/s,C=Q1(e,r,i),g=w1(e,C,f,v);if(!g)return console.error("Error during zoom event. New transformation state was not calculated.");Q(e,g,n,t)}function U1(e,r,i,n){var t=e.setup,a=e.wrapperComponent,o=t.limitToBounds,s=R1(e.props),l=e.transformState,d=l.scale,u=l.positionX,p=l.positionY;if(a){var f=h1(e,s.scale),v=e1(s.positionX,s.positionY,f,o,0,0,a),C={scale:s.scale,positionX:v.x,positionY:v.y};d===s.scale&&u===s.positionX&&p===s.positionY||(n==null||n(),Q(e,C,r,i))}}function We(e,r,i,n){var t=e.getBoundingClientRect(),a=r.getBoundingClientRect(),o=i.getBoundingClientRect(),s=a.x*n.scale,l=a.y*n.scale;return{x:(t.x-o.x+s)/n.scale,y:(t.y-o.y+l)/n.scale}}function De(e,r,i){var n=e.wrapperComponent,t=e.contentComponent,a=e.transformState,o=e.setup,s=o.limitToBounds,l=o.minScale,d=o.maxScale;if(!n||!t)return a;var u=n.getBoundingClientRect(),p=r.getBoundingClientRect(),f=We(r,n,t,a),v=f.x,C=f.y,g=p.width/a.scale,h=p.height/a.scale,S=n.offsetWidth/g,T=n.offsetHeight/h,L=i1(i||Math.min(S,T),l,d,0,!1),E=(u.width-g*L)/2,z=(u.height-h*L)/2,w=(u.left-v)*L+E,X=(u.top-C)*L+z,V=h1(e,L),_=e1(w,X,V,s,0,0,n),H=_.x,y=_.y;return{positionX:H,positionY:y,scale:L}}var Oe=function(e){return function(r,i,n){r===void 0&&(r=.5),i===void 0&&(i=300),n===void 0&&(n="easeOut"),q1(e,1,r,i,n)}},je=function(e){return function(r,i,n){r===void 0&&(r=.5),i===void 0&&(i=300),n===void 0&&(n="easeOut"),q1(e,-1,r,i,n)}},Be=function(e){return function(r,i,n,t,a){t===void 0&&(t=300),a===void 0&&(a="easeOut");var o=e.transformState,s=o.positionX,l=o.positionY,d=o.scale,u=e.wrapperComponent,p=e.contentComponent,f=e.setup.disabled;if(!(f||!u||!p)){var v={positionX:Number.isNaN(r)?s:r,positionY:Number.isNaN(i)?l:i,scale:Number.isNaN(n)?d:n};Q(e,v,t,a)}}},Ne=function(e){return function(r,i){r===void 0&&(r=200),i===void 0&&(i="easeOut"),U1(e,r,i)}},xe=function(e){return function(r,i,n){i===void 0&&(i=200),n===void 0&&(n="easeOut");var t=e.transformState,a=e.wrapperComponent,o=e.contentComponent;if(a&&o){var s=$1(r||t.scale,a,o);Q(e,s,i,n)}}},Fe=function(e){return function(r,i,n,t){n===void 0&&(n=600),t===void 0&&(t="easeOut"),W(e);var a=e.wrapperComponent,o=typeof r=="string"?document.getElementById(r):r;if(a&&o&&a.contains(o)){var s=De(e,o,i);Q(e,s,n,t)}}},v1=function(e){return{instance:e,zoomIn:Oe(e),zoomOut:je(e),setTransform:Be(e),resetTransform:Ne(e),centerView:xe(e),zoomToElement:Fe(e)}},Ke=function(e){return{instance:e,state:e.transformState}},b=function(e){var r={};return Object.assign(r,Ke(e)),Object.assign(r,v1(e)),r},u1=!1;function d1(){try{var e={get passive(){return u1=!0,!1}};return e}catch{return u1=!1,u1}}var t1=".".concat(f1.wrapperClass),l1=function(e,r){return r.some(function(i){return e.matches("".concat(t1," ").concat(i,", ").concat(t1," .").concat(i,", ").concat(t1," ").concat(i," *, ").concat(t1," .").concat(i," *"))})},m1=function(e){e&&clearTimeout(e)},Re=function(e,r,i){return"translate(".concat(e,"px, ").concat(r,"px) scale(").concat(i,")")},$1=function(e,r,i){var n=i.offsetWidth*e,t=i.offsetHeight*e,a=(r.offsetWidth-n)/2,o=(r.offsetHeight-t)/2;return{scale:e,positionX:a,positionY:o}};function Qe(e){return function(r){e.forEach(function(i){typeof i=="function"?i(r):i!=null&&(i.current=r)})}}var qe=function(e,r){var i=e.setup.wheel,n=i.disabled,t=i.wheelDisabled,a=i.touchPadDisabled,o=i.excluded,s=e.isInitialized,l=e.isPanning,d=r.target,u=s&&!l&&!n&&d;if(!u||t&&!r.ctrlKey||a&&r.ctrlKey)return!1;var p=l1(d,o);return!p},Ue=function(e){return e?e.deltaY<0?1:-1:0};function $e(e,r){var i=Ue(e),n=le(r,i);return n}function G1(e,r,i){var n=r.getBoundingClientRect(),t=0,a=0;if("clientX"in e)t=(e.clientX-n.left)/i,a=(e.clientY-n.top)/i;else{var o=e.touches[0];t=(o.clientX-n.left)/i,a=(o.clientY-n.top)/i}return(Number.isNaN(t)||Number.isNaN(a))&&console.error("No mouse or touch offset found"),{x:t,y:a}}var Ge=function(e,r,i,n,t){var a=e.transformState.scale,o=e.wrapperComponent,s=e.setup,l=s.maxScale,d=s.minScale,u=s.zoomAnimation,p=s.disablePadding,f=u.size,v=u.disabled;if(!o)throw new Error("Wrapper is not mounted");var C=a+r*i;if(t)return C;var g=n?!1:!v,h=i1(Z(C,3),d,l,f,g&&!p);return h},Je=function(e,r){var i=e.previousWheelEvent,n=e.transformState.scale,t=e.setup,a=t.maxScale,o=t.minScale;return i?n<a||n>o||Math.sign(i.deltaY)!==Math.sign(r.deltaY)||i.deltaY>0&&i.deltaY<r.deltaY||i.deltaY<0&&i.deltaY>r.deltaY||Math.sign(i.deltaY)!==Math.sign(r.deltaY):!1},Ie=function(e,r){var i=e.setup.pinch,n=i.disabled,t=i.excluded,a=e.isInitialized,o=r.target,s=a&&!n&&o;if(!s)return!1;var l=l1(o,t);return!l},ei=function(e){var r=e.setup.pinch.disabled,i=e.isInitialized,n=e.pinchStartDistance,t=i&&!r&&n;return!!t},ii=function(e,r,i){var n=i.getBoundingClientRect(),t=e.touches,a=Z(t[0].clientX-n.left,5),o=Z(t[0].clientY-n.top,5),s=Z(t[1].clientX-n.left,5),l=Z(t[1].clientY-n.top,5);return{x:(a+s)/2/r,y:(o+l)/2/r}},J1=function(e){return Math.sqrt(Math.pow(e.touches[0].pageX-e.touches[1].pageX,2)+Math.pow(e.touches[0].pageY-e.touches[1].pageY,2))},ni=function(e,r){var i=e.pinchStartScale,n=e.pinchStartDistance,t=e.setup,a=t.maxScale,o=t.minScale,s=t.zoomAnimation,l=t.disablePadding,d=s.size,u=s.disabled;if(!i||n===null||!r)throw new Error("Pinch touches distance was not provided");if(r<0)return e.transformState.scale;var p=r/n,f=p*i;return i1(Z(f,2),o,a,d,!u&&!l)},ri=160,ti=100,ai=function(e,r){var i=e.props,n=i.onWheelStart,t=i.onZoomStart;e.wheelStopEventTimer||(W(e),P(b(e),r,n),P(b(e),r,t))},oi=function(e,r){var i=e.props,n=i.onWheel,t=i.onZoom,a=e.contentComponent,o=e.setup,s=e.transformState,l=s.scale,d=o.limitToBounds,u=o.centerZoomedOut,p=o.zoomAnimation,f=o.wheel,v=o.disablePadding,C=o.smooth,g=p.size,h=p.disabled,S=f.step,T=f.smoothStep;if(!a)throw new Error("Component not mounted");r.preventDefault(),r.stopPropagation();var L=$e(r,null),E=C?T*Math.abs(r.deltaY):S,z=Ge(e,L,E,!r.ctrlKey);if(l!==z){var w=q(e,z),X=G1(r,a,l),V=h||g===0||u||v,_=d&&V,H=s1(e,X.x,X.y,z,w,_),y=H.x,A=H.y;e.previousWheelEvent=r,e.setTransformState(z,y,A),P(b(e),r,n),P(b(e),r,t)}},si=function(e,r){var i=e.props,n=i.onWheelStop,t=i.onZoomStop;m1(e.wheelAnimationTimer),e.wheelAnimationTimer=setTimeout(function(){e.mounted&&(K1(e,r.x,r.y),e.wheelAnimationTimer=null)},ti);var a=Je(e,r);a&&(m1(e.wheelStopEventTimer),e.wheelStopEventTimer=setTimeout(function(){e.mounted&&(e.wheelStopEventTimer=null,P(b(e),r,n),P(b(e),r,t))},ri))},I1=function(e){for(var r=0,i=0,n=0;n<2;n+=1)r+=e.touches[n].clientX,i+=e.touches[n].clientY;var t=r/2,a=i/2;return{x:t,y:a}},li=function(e,r){var i=J1(r);e.pinchStartDistance=i,e.lastDistance=i,e.pinchStartScale=e.transformState.scale,e.isPanning=!1;var n=I1(r);e.pinchLastCenterX=n.x,e.pinchLastCenterY=n.y,W(e)},ui=function(e,r){var i=e.contentComponent,n=e.pinchStartDistance,t=e.wrapperComponent,a=e.transformState.scale,o=e.setup,s=o.limitToBounds,l=o.centerZoomedOut,d=o.zoomAnimation,u=o.alignmentAnimation,p=d.disabled,f=d.size;if(!(n===null||!i)){var v=ii(r,a,i);if(!(!Number.isFinite(v.x)||!Number.isFinite(v.y))){var C=J1(r),g=ni(e,C),h=I1(r),S=h.x-(e.pinchLastCenterX||0),T=h.y-(e.pinchLastCenterY||0);if(!(g===a&&S===0&&T===0)){e.pinchLastCenterX=h.x,e.pinchLastCenterY=h.y;var L=q(e,g),E=p||f===0||l,z=s&&E,w=s1(e,v.x,v.y,g,L,z),X=w.x,V=w.y;e.pinchMidpoint=v,e.lastDistance=C;var _=u.sizeX,H=u.sizeY,y=R(e,_),A=R(e,H),B=X+S,O=V+T,k=e1(B,O,L,s,y,A,t),N=k.x,x=k.y;e.setTransformState(g,N,x)}}}},di=function(e){var r=e.pinchMidpoint;e.velocity=null,e.lastDistance=null,e.pinchMidpoint=null,e.pinchStartScale=null,e.pinchStartDistance=null,K1(e,r==null?void 0:r.x,r==null?void 0:r.y)},ee=function(e,r){var i=e.props.onZoomStop,n=e.setup.doubleClick.animationTime;m1(e.doubleClickStopEventTimer),e.doubleClickStopEventTimer=setTimeout(function(){e.doubleClickStopEventTimer=null,P(b(e),r,i)},n)},pi=function(e,r){var i=e.props,n=i.onZoomStart,t=i.onZoom,a=e.setup.doubleClick,o=a.animationTime,s=a.animationType;P(b(e),r,n),U1(e,o,s,function(){return P(b(e),r,t)}),ee(e,r)};function fi(e,r){return e==="toggle"?r===1?1:-1:e==="zoomOut"?-1:1}function vi(e,r){var i=e.setup,n=e.doubleClickStopEventTimer,t=e.transformState,a=e.contentComponent,o=t.scale,s=e.props,l=s.onZoomStart,d=s.onZoom,u=i.doubleClick,p=u.disabled,f=u.mode,v=u.step,C=u.animationTime,g=u.animationType;if(!p&&!n){if(f==="reset")return pi(e,r);if(!a)return console.error("No ContentComponent found");var h=fi(f,e.transformState.scale),S=Q1(e,h,v);if(o!==S){P(b(e),r,l);var T=G1(r,a,o),L=w1(e,S,T.x,T.y);if(!L)return console.error("Error during zoom event. New transformation state was not calculated.");P(b(e),r,d),Q(e,L,C,g),ee(e,r)}}}var mi=function(e,r){var i=e.isInitialized,n=e.setup,t=e.wrapperComponent,a=n.doubleClick,o=a.disabled,s=a.excluded,l=r.target,d=t==null?void 0:t.contains(l),u=i&&l&&d&&!o;if(!u)return!1;var p=l1(l,s);return!p},ci=function(){function e(r){var i=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){i.initializeWindowEvents()},this.unmount=function(){i.cleanupWindowEvents()},this.update=function(n){i.props=n,q(i,i.transformState.scale),i.setup=z1(n)},this.initializeWindowEvents=function(){var n,t,a=d1(),o=(n=i.wrapperComponent)===null||n===void 0?void 0:n.ownerDocument,s=o==null?void 0:o.defaultView;(t=i.wrapperComponent)===null||t===void 0||t.addEventListener("wheel",i.onWheelPanning,a),s==null||s.addEventListener("mousedown",i.onPanningStart,a),s==null||s.addEventListener("mousemove",i.onPanning,a),s==null||s.addEventListener("mouseup",i.onPanningStop,a),o==null||o.addEventListener("mouseleave",i.clearPanning,a),s==null||s.addEventListener("keyup",i.setKeyUnPressed,a),s==null||s.addEventListener("keydown",i.setKeyPressed,a)},this.cleanupWindowEvents=function(){var n,t,a=d1(),o=(n=i.wrapperComponent)===null||n===void 0?void 0:n.ownerDocument,s=o==null?void 0:o.defaultView;s==null||s.removeEventListener("mousedown",i.onPanningStart,a),s==null||s.removeEventListener("mousemove",i.onPanning,a),s==null||s.removeEventListener("mouseup",i.onPanningStop,a),o==null||o.removeEventListener("mouseleave",i.clearPanning,a),s==null||s.removeEventListener("keyup",i.setKeyUnPressed,a),s==null||s.removeEventListener("keydown",i.setKeyPressed,a),document.removeEventListener("mouseleave",i.clearPanning,a),W(i),(t=i.observer)===null||t===void 0||t.disconnect()},this.handleInitializeWrapperEvents=function(n){var t=d1();n.addEventListener("wheel",i.onWheelZoom,t),n.addEventListener("dblclick",i.onDoubleClick,t),n.addEventListener("touchstart",i.onTouchPanningStart,t),n.addEventListener("touchmove",i.onTouchPanning,t),n.addEventListener("touchend",i.onTouchPanningStop,t)},this.handleInitialize=function(n,t){var a=!1,o=i.setup.centerOnInit,s=function(l,d){for(var u=0,p=l;u<p.length;u++){var f=p[u];if(f.target===d)return!0}return!1};i.applyTransformation(),i.onInitCallbacks.forEach(function(l){l(b(i))}),i.observer=new ResizeObserver(function(l){if(s(l,n)||s(l,t))if(o&&!a){var d=t.offsetWidth,u=t.offsetHeight;(d>0||u>0)&&(a=!0,i.setCenter())}else W(i),q(i,i.transformState.scale),g1(i,0)}),i.observer.observe(n),i.observer.observe(t)},this.onWheelZoom=function(n){var t=i.setup.disabled;if(!t){var a=qe(i,n);if(a){var o=i.isPressingKeys(i.setup.wheel.activationKeys);o&&(ai(i,n),oi(i,n),si(i,n))}}},this.onWheelPanning=function(n){var t=i.setup,a=t.disabled,o=t.wheel,s=t.panning;if(!(!i.wrapperComponent||!i.contentComponent||a||!o.wheelDisabled||s.disabled||!s.wheelPanning||n.ctrlKey)){n.preventDefault(),n.stopPropagation();var l=i.transformState,d=l.positionX,u=l.positionY,p=d-n.deltaX,f=u-n.deltaY,v=s.lockAxisX?d:p,C=s.lockAxisY?u:f,g=i.setup.alignmentAnimation,h=g.sizeX,S=g.sizeY,T=R(i,h),L=R(i,S);v===d&&C===u||F1(i,v,C,T,L)}},this.onPanningStart=function(n){var t=i.setup.disabled,a=i.props.onPanningStart;if(!t){var o=X1(i,n);if(o){var s=i.isPressingKeys(i.setup.panning.activationKeys);s&&(n.button===0&&!i.setup.panning.allowLeftClickPan||n.button===1&&!i.setup.panning.allowMiddleClickPan||n.button===2&&!i.setup.panning.allowRightClickPan||(n.preventDefault(),n.stopPropagation(),W(i),_1(i,n),P(b(i),n,a)))}}},this.onPanning=function(n){var t=i.setup.disabled,a=i.props.onPanning;if(!t){var o=V1(i);if(o){var s=i.isPressingKeys(i.setup.panning.activationKeys);s&&(n.preventDefault(),n.stopPropagation(),A1(i,n.clientX,n.clientY),P(b(i),n,a))}}},this.onPanningStop=function(n){var t=i.props.onPanningStop;i.isPanning&&(ke(i),P(b(i),n,t))},this.onPinchStart=function(n){var t=i.setup.disabled,a=i.props,o=a.onPinchingStart,s=a.onZoomStart;if(!t){var l=Ie(i,n);l&&(li(i,n),W(i),P(b(i),n,o),P(b(i),n,s))}},this.onPinch=function(n){var t=i.setup.disabled,a=i.props,o=a.onPinching,s=a.onZoom;if(!t){var l=ei(i);l&&(n.preventDefault(),n.stopPropagation(),ui(i,n),P(b(i),n,o),P(b(i),n,s))}},this.onPinchStop=function(n){var t=i.props,a=t.onPinchingStop,o=t.onZoomStop;i.pinchStartScale&&(di(i),P(b(i),n,a),P(b(i),n,o))},this.onTouchPanningStart=function(n){var t=i.setup.disabled,a=i.props.onPanningStart;if(!t){var o=X1(i,n);if(o){var s=i.lastTouch&&+new Date-i.lastTouch<200&&n.touches.length===1;if(!s){i.lastTouch=+new Date,W(i);var l=n.touches,d=l.length===1,u=l.length===2;d&&(W(i),_1(i,n),P(b(i),n,a)),u&&i.onPinchStart(n)}}}},this.onTouchPanning=function(n){var t=i.setup.disabled,a=i.props.onPanning;if(i.isPanning&&n.touches.length===1){if(t)return;var o=V1(i);if(!o)return;n.preventDefault(),n.stopPropagation();var s=n.touches[0];A1(i,s.clientX,s.clientY),P(b(i),n,a)}else n.touches.length>1&&i.onPinch(n)},this.onTouchPanningStop=function(n){i.onPanningStop(n),i.onPinchStop(n)},this.onDoubleClick=function(n){var t=i.setup.disabled;if(!t){var a=mi(i,n);a&&vi(i,n)}},this.clearPanning=function(n){i.isPanning&&i.onPanningStop(n)},this.setKeyPressed=function(n){i.pressedKeys[n.key]=!0},this.setKeyUnPressed=function(n){i.pressedKeys[n.key]=!1},this.isPressingKeys=function(n){return n.length?!!n.find(function(t){return i.pressedKeys[t]}):!0},this.setTransformState=function(n,t,a){var o=i.props.onTransformed;if(!Number.isNaN(n)&&!Number.isNaN(t)&&!Number.isNaN(a)){n!==i.transformState.scale&&(i.transformState.previousScale=i.transformState.scale,i.transformState.scale=n),i.transformState.positionX=t,i.transformState.positionY=a,i.applyTransformation();var s=b(i);i.onChangeCallbacks.forEach(function(l){return l(s)}),P(s,{scale:n,positionX:t,positionY:a},o)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(i.wrapperComponent&&i.contentComponent){var n=$1(i.transformState.scale,i.wrapperComponent,i.contentComponent);i.setTransformState(n.scale,n.positionX,n.positionY)}},this.handleTransformStyles=function(n,t,a){return i.props.customTransform?i.props.customTransform(n,t,a):Re(n,t,a)},this.applyTransformation=function(){if(!(!i.mounted||!i.contentComponent)){var n=i.transformState,t=n.scale,a=n.positionX,o=n.positionY,s=i.handleTransformStyles(a,o,t);i.contentComponent.style.transform=s}},this.getContext=function(){return b(i)},this.onChange=function(n){return i.onChangeCallbacks.has(n)||i.onChangeCallbacks.add(n),function(){i.onChangeCallbacks.delete(n)}},this.onInit=function(n){return i.onInitCallbacks.has(n)||i.onInitCallbacks.add(n),function(){i.onInitCallbacks.delete(n)}},this.init=function(n,t){i.cleanupWindowEvents(),i.wrapperComponent=n,i.contentComponent=t,q(i,i.transformState.scale),i.handleInitializeWrapperEvents(n),i.handleInitialize(n,t),i.initializeWindowEvents(),i.isInitialized=!0;var a=b(i);P(a,void 0,i.props.onInit)},this.props=r,this.setup=z1(this.props),this.transformState=R1(this.props)}return e}(),y1=j.createContext(null),Ci=function(e,r){return typeof e=="function"?e(r):e},hi=j.forwardRef(function(e,r){var i=M.useRef(new ci(e)).current,n=Ci(e.children,v1(i));return M.useImperativeHandle(r,function(){return v1(i)},[i]),M.useEffect(function(){i.update(e)},[i,e]),j.createElement(y1.Provider,{value:i},n)});j.forwardRef(function(e,r){var i=M.useRef(null),n=M.useContext(y1);return M.useEffect(function(){return n.onChange(function(t){if(i.current){var a=0,o=0;i.current.style.transform=n.handleTransformStyles(a,o,1/t.instance.transformState.scale)}})},[n]),j.createElement("div",K({},e,{ref:Qe([i,r])}))});function gi(e,r){r===void 0&&(r={});var i=r.insertAt;if(!(!e||typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",i==="top"&&n.firstChild?n.insertBefore(t,n.firstChild):n.appendChild(t),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}}var wi=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
  transform: translate3d(0, 0, 0);
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,E1={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};gi(wi);var yi=function(e){var r=e.children,i=e.wrapperClass,n=i===void 0?"":i,t=e.contentClass,a=t===void 0?"":t,o=e.wrapperStyle,s=e.contentStyle,l=e.wrapperProps,d=l===void 0?{}:l,u=e.contentProps,p=u===void 0?{}:u,f=M.useContext(y1),v=f.init,C=f.cleanupWindowEvents,g=M.useRef(null),h=M.useRef(null);return M.useEffect(function(){var S=g.current,T=h.current;return S!==null&&T!==null&&v&&(v==null||v(S,T)),function(){C==null||C()}},[]),j.createElement("div",K({},d,{ref:g,className:"".concat(f1.wrapperClass," ").concat(E1.wrapper," ").concat(n),style:o}),j.createElement("div",K({},p,{ref:h,className:"".concat(f1.contentClass," ").concat(E1.content," ").concat(a),style:s}),r))};const Si=D("div",{d:"flex",w:"100%",px:"10px",".react-transform-wrapper":{maxH:"calc(100vh - 250px)"},"@sm":{".react-transform-wrapper":{maxH:"calc(100vh - 190px)"}},"@media (max-width: 768px) and (max-height: 500px)":{".react-transform-wrapper":{maxH:"calc(100vh)"}}}),bi=D("div",{d:"flex",w:"1920px",h:"1080px",position:"relative",img:{w:"1920px",h:"1080px"}});D("div",{d:"flex",align:"center",flexWrap:"wrap",gap:"20px",mt:"10px",pl:"20px",w:"100%"});D("div",{d:"flex",align:"center",justify:"center",gap:"5px",color:"#fff",ff:"$heading",fs:"10px",svg:{w:"17px",h:"17px"},"&:nth-child(1)":{fill:"#80FF00"},"&:nth-child(2)":{fill:"#EB094D"},"&:nth-child(3)":{fill:"#FFB800"}});const Li=D("button",{position:"absolute",border:"1px solid rgba(0,0,0,0.6)",zIndex:1,w:"calc(100% / 40)",h:"calc(100% / 20)"}),Pi=D("div",{d:"flex",align:"center",justify:"center",w:"100%",h:"100%",svg:{w:"20px",h:"20px"},variants:{isSelected:{true:{bg:"rgba(0, 186, 255, 0.58)"}},type:{miningEvent:{zIndex:2},portal:{zIndex:2}}}}),Ti=D("div",{d:"flex",align:"center",justify:"center",direction:"column",position:"relative",zIndex:999,img:{objectFit:"contain",w:"35px",h:"45px"}}),Yi=D("div",{d:"flex",align:"center",justify:"center",direction:"column",position:"relative",zIndex:999,span:{position:"absolute",top:"-8px",left:"50%",transform:"translate(-50%, -50%)",color:"#fff",fw:900,ff:"$heading",fs:"16px",br:"5px","-webkit-text-stroke":"1px #000"}}),Z1=D("div",{position:"relative",".lock":{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:4},variants:{isLocked:{true:{filter:"grayscale(100%)"}}}}),Xi=D("div",{position:"relative"}),a1=D("span",{position:"absolute",top:"-8px",left:"50%",transform:"translate(-50%, -50%)",textTransform:"capitalize",padding:"2px 5px",bg:"#333333",color:"#fff",ff:"$heading",fs:"10px",br:"5px",variants:{type:{portal:{bg:"#333333"},tavern:{bg:"#002B10"},dungeon:{bg:"#002738"},arena:{bg:"#362700"}}}}),k1=()=>c.jsx("svg",{className:"lock",width:"18",height:"19",viewBox:"0 0 18 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M9 1C12.1919 1 14.7246 3.66329 14.7246 6.87988V7.50488C15.2323 7.63 15.705 7.85309 16.1035 8.26465C16.622 8.80012 16.8245 9.45859 16.915 10.1543C17.0022 10.8244 17 11.6684 17 12.6631C17 13.6576 17.0022 14.5009 16.915 15.1709C16.8245 15.8666 16.622 16.5251 16.1035 17.0605C15.5807 17.6004 14.9308 17.8155 14.2422 17.9111C13.5856 18.0023 12.7606 18 11.7998 18H6.2002C5.23941 18 4.4144 18.0023 3.75781 17.9111C3.06921 17.8155 2.41926 17.6004 1.89648 17.0605C1.37801 16.5251 1.17553 15.8666 1.08496 15.1709C0.997791 14.5009 0.999999 13.6576 1 12.6631C1 11.6684 0.997765 10.8244 1.08496 10.1543C1.17553 9.45859 1.37798 8.80012 1.89648 8.26465C2.29498 7.85309 2.76766 7.63 3.27539 7.50488V6.87988C3.27539 3.66329 5.80808 1 9 1ZM9 4.08398C7.55273 4.08398 6.3252 5.30557 6.3252 6.87988V7.3252H11.6748V6.87988C11.6748 5.30557 10.4473 4.08398 9 4.08398Z",fill:"#FFB800",stroke:"#1C274C",strokeWidth:"2"})}),W1=({text:e,type:r,isLocked:i})=>{switch(r){case"arena":return c.jsxs(Z1,{isLocked:i,children:[c.jsx(a1,{type:"arena",children:e}),i&&c.jsx(k1,{}),c.jsxs("svg",{width:"32",height:"33",viewBox:"0 0 32 33",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"30px",height:"30px"},children:[c.jsx("path",{d:"M14.6221 1.2334C15.2223 0.853807 15.9666 0.949907 16.4619 1.42871L16.4609 1.42969L18.7891 3.64941L18.9209 3.79004C19.2062 4.13267 19.334 4.56686 19.334 4.96875C19.3339 5.427 19.1666 5.92543 18.79 6.28418L18.791 6.28516L17 7.99316V8.4541C17.4113 8.46843 17.8857 8.48941 18.4043 8.51953C18.6987 8.4073 19.0454 8.37721 19.4043 8.50391C19.4808 8.53093 19.5514 8.56536 19.6182 8.60156C21.4488 8.74534 23.6441 9.00991 25.501 9.50977V4.22461C25.501 3.68044 25.7401 3.06686 26.2842 2.71875L26.4004 2.65137C26.949 2.36368 27.5777 2.4576 28.0293 2.82422L28.123 2.90625V2.90723L30.4551 5.13184C30.8332 5.49083 31 5.99177 31 6.45117L30.9922 6.625C30.9552 7.0327 30.7858 7.45359 30.4561 7.76758L30.457 7.76855L28.6641 9.47852V10.9287C29.313 11.4505 29.8311 12.1727 29.8311 13.1328C29.831 13.1823 29.8284 13.2371 29.8252 13.2832V13.2842L29.8184 13.3594V13.3799L29.8145 13.4229L28.6602 26.6396C28.6378 27.5575 28.1458 28.2681 27.5244 28.7803C26.9029 29.2925 26.0863 29.6678 25.2363 29.9531C23.5283 30.5264 21.3934 30.8309 19.5889 30.9961L18.498 31.0957V25.0068C18.498 24.0942 17.95 23.7805 17.748 23.7803H13.0811C12.8793 23.7803 12.3311 24.0938 12.3311 25.0068V31.0938L11.2373 30.9912C9.43232 30.8222 7.29545 30.5114 5.58496 29.9248C4.73348 29.6328 3.91571 29.249 3.29395 28.7256C2.67115 28.2011 2.18772 27.4805 2.16504 26.5586L1.00684 13.2998V13.291L1.00586 13.2812C1.00268 13.2351 1 13.1802 1 13.1309V4.22461C1.00002 3.68048 1.239 3.06685 1.7832 2.71875L1.78809 2.71582C2.39894 2.32978 3.13487 2.44326 3.62207 2.90723H3.62305L5.9541 5.13184C6.33238 5.49082 6.499 5.99188 6.49902 6.45117C6.49902 6.90501 6.33615 7.40593 5.95508 7.76758L5.95605 7.76855L4.16602 9.47656V9.875C4.98032 9.57912 5.88634 9.35028 6.79395 9.17285C8.26028 8.88622 9.82794 8.7116 11.2109 8.60254C11.2807 8.5646 11.3547 8.52965 11.4346 8.50195L11.4375 8.50098C11.7905 8.37967 12.1339 8.40764 12.4287 8.51953C12.9475 8.48997 13.422 8.4685 13.833 8.4541V2.74219C13.833 2.19777 14.0729 1.58239 14.6201 1.23438L14.6221 1.2334ZM15.415 11.9043C14.9008 11.9043 14.4025 11.9117 13.9199 11.9248L14.4395 14.3477C14.7587 14.3531 15.0837 14.3574 15.415 14.3574C15.7461 14.3574 16.0715 14.3531 16.3906 14.3477L16.9102 11.9248C16.4277 11.9117 15.9291 11.9043 15.415 11.9043ZM19.6816 14.1807L19.7676 14.1738C19.9836 14.155 20.1747 14.1406 20.3643 14.1221C20.5508 14.1023 20.7249 14.081 20.915 14.0586L20.9248 14.0576C21.0718 14.0417 21.2074 14.0264 21.334 14.0107L22.3516 12.3906C21.6764 12.2855 20.9341 12.1914 20.125 12.1143L19.6816 14.1807ZM10.707 12.1152C9.89746 12.1925 9.15519 12.2873 8.48047 12.3945L9.49316 14.0049C10.0131 14.0708 10.5652 14.1292 11.1494 14.1787L10.707 12.1152ZM29.8164 13.3818C29.8163 13.3839 29.8165 13.3859 29.8164 13.3877C29.8159 13.395 29.8157 13.4014 29.8154 13.4053C29.8151 13.4087 29.8145 13.4117 29.8145 13.4121L29.8154 13.4102C29.8156 13.408 29.816 13.4031 29.8164 13.3975C29.8167 13.3934 29.8161 13.3881 29.8164 13.3818Z",fill:"url(#paint0_linear_2827_30)",stroke:"#362700",strokeWidth:"2"}),c.jsx("defs",{children:c.jsx("linearGradient",{id:"paint0_linear_2827_30",x1:"16",y1:"2",x2:"16",y2:"30",gradientUnits:"userSpaceOnUse",children:c.jsx("stop",{stopColor:"#FFAE00"})})})]})]});case"dungeon":return c.jsxs(Z1,{isLocked:i,children:[c.jsx(a1,{type:"tavern",children:e}),i&&c.jsx(k1,{}),c.jsx("svg",{width:"34",height:"38",viewBox:"0 0 34 38",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"35px",height:"35px"},children:c.jsx("path",{d:"M19.2969 2C20.4937 2 21.9849 2.34281 23.75 3.54883C24.414 4.00194 25.3476 4.34737 25.9736 4.45312L26.9082 4.49219H26.9111C27.8001 4.53263 28.3488 5.31868 28.3076 6.07715L28.3086 6.07812L28.2363 7.47656L28.2031 8.10547L28.627 7.92383L28.1543 9.05176L28.1094 9.92285L27.8926 9.67773L27.6709 10.208L27.1055 11.5576L26.6709 12.5947L25.6914 12.043C24.2757 11.2447 23.2272 11.1513 22.4307 11.1777C22.2208 11.1847 22.0228 11.2008 21.8232 11.2178C21.6334 11.2339 21.4194 11.2536 21.2217 11.2617C20.8437 11.2773 20.2965 11.2685 19.7969 10.9482V10.9473C19.4868 10.7486 19.2533 10.4918 19.1016 10.1875C18.503 10.3777 17.8631 10.6135 17.2002 10.9004L18.3008 10.9355L18.2695 11.9346C18.301 10.9354 18.3021 10.9355 18.3027 10.9355H18.3125C18.317 10.9357 18.3225 10.9362 18.3281 10.9365C18.3394 10.9371 18.3533 10.9383 18.3691 10.9395C18.4008 10.9417 18.4414 10.9455 18.4902 10.9512C18.5884 10.9625 18.7202 10.9814 18.8799 11.0156C19.1994 11.0841 19.6313 11.2115 20.1299 11.4453C21.1348 11.9167 22.3778 12.8084 23.5039 14.4736L23.6973 14.7402C24.1643 15.3425 24.8039 15.9132 25.2871 16.2207L26.1455 16.6279L26.1475 16.6289C26.9111 16.9943 27.1696 17.8925 26.8662 18.5967L26.8672 18.5977L26.3232 19.873L26.0498 20.5127H26.4756L25.7061 21.3164L25.3389 22.1787L25.2109 21.835L24.8584 22.2041L23.873 23.2344L23.6943 23.4199C24.3473 23.3651 25.0803 23.385 25.8916 23.5215H25.8936C26.6583 23.6511 27.6357 23.5682 28.252 23.3955L29.125 23.0303L29.127 23.0293C29.9612 22.6818 30.8151 23.1753 31.0664 23.9385H31.0654L31.5117 25.2461L31.6914 25.7715L32 25.4424V26.6748L32.2627 27.4443L32 27.3242V30.5361L30.9229 30.4521C29.3395 30.3296 28.3371 30.6936 27.6016 31.0654C27.409 31.1628 27.231 31.2627 27.0527 31.3643C26.8826 31.4611 26.6937 31.5703 26.5156 31.6621C26.1826 31.8338 25.6757 32.0635 25.0879 31.9834H25.0869C24.7696 31.9398 24.4682 31.8274 24.2061 31.6289C23.9483 31.4337 23.7768 31.1917 23.6592 30.9609C23.6267 30.8971 23.5975 30.831 23.5703 30.7637C22.634 31.0287 21.5058 31.248 20.2715 31.248C19.4019 31.248 18.477 31.14 17.5312 30.8652V30.8643C16.3482 30.561 15.2159 30.011 14.1768 29.4375C13.6499 29.1467 13.1306 28.8413 12.6377 28.5527C12.1394 28.261 11.6663 27.9856 11.208 27.7412C9.07327 26.6031 6.85655 27.1684 5.35254 28.79L5.20898 28.9502C4.74659 29.4861 4.21554 30.395 3.86719 31.001L2 34.249V18.125L2.08301 17.9346C2.48138 17.0202 2.91015 16.1526 3.39844 15.3379C3.2698 15.1832 3.17104 15.0298 3.09863 14.9004C2.98917 14.7048 2.91465 14.5232 2.86719 14.3906C2.84314 14.3234 2.82521 14.2658 2.8125 14.2227C2.80613 14.201 2.80078 14.1825 2.79688 14.168C2.79498 14.1609 2.79334 14.1547 2.79199 14.1494C2.7913 14.1467 2.79059 14.1438 2.79004 14.1416C2.78978 14.1405 2.78929 14.1396 2.78906 14.1387V14.1367V14.1357L2.37402 12.4424L4.04492 12.9395C4.29588 13.0142 4.48514 13.0056 4.68848 12.9385C4.91452 12.8638 5.19574 12.7022 5.59082 12.3926C5.87689 12.073 6.16893 11.7666 6.46582 11.4727C6.338 11.2291 6.25069 10.9947 6.19238 10.7939C6.12783 10.5717 6.09329 10.3765 6.07422 10.2334C6.06465 10.1616 6.05815 10.1012 6.05469 10.0557C6.05296 10.033 6.05254 10.0133 6.05176 9.99805C6.05137 9.99038 6.05101 9.98323 6.05078 9.97754C6.05067 9.9748 6.04988 9.97199 6.0498 9.96973V9.96484C6.04979 9.96449 6.0502 9.96375 7.0498 9.93555L6.0498 9.96387L6.00195 8.27148L7.50781 9.04688C7.88251 9.23986 8.14079 9.28942 8.38672 9.2793C8.64811 9.26847 8.97197 9.1851 9.47656 8.98242C9.68899 8.83568 9.90158 8.69364 10.1143 8.55664C10.0382 8.24966 10.0127 7.96113 10.0068 7.73633C10.0002 7.48392 10.0161 7.26292 10.0332 7.10449C10.0418 7.02461 10.051 6.95863 10.0586 6.91016C10.0624 6.88598 10.0657 6.8659 10.0684 6.85059C10.0697 6.84298 10.0713 6.83633 10.0723 6.83105C10.0727 6.82858 10.0729 6.82616 10.0732 6.82422L10.0742 6.82129V6.81934C10.0764 6.8195 10.12 6.82803 11.0107 7.00195L10.0742 6.81836L10.46 4.84375L11.8008 6.34375C12.1214 6.70215 12.3936 6.80983 12.6152 6.84277C12.8594 6.87903 13.1464 6.83813 13.5137 6.72363C13.5626 6.7018 13.6115 6.68054 13.6602 6.65918C13.5997 6.39673 13.5668 6.15231 13.5508 5.94629C13.5319 5.70359 13.5333 5.4946 13.5391 5.34375C13.5419 5.26791 13.5461 5.20506 13.5498 5.15918C13.5517 5.13633 13.5532 5.11705 13.5547 5.10254C13.5554 5.09542 13.5561 5.08897 13.5566 5.08398C13.5569 5.0816 13.5574 5.07902 13.5576 5.07715V5.07324V5.07227L13.7959 3.05859L15.249 4.47363C15.7177 4.9302 16.0389 5.10199 16.3389 5.18359C16.6619 5.27142 17.0544 5.28172 17.7402 5.23926C18.0037 5.17043 18.2502 5.10983 18.4775 5.05762C18.4682 5.04655 18.4598 5.03455 18.4502 5.02344C18.1237 4.64373 17.7403 4.29151 17.4014 4.0127L16.1973 3.02246L17.5996 2.34082L18.0371 3.24121L17.6006 2.34082L17.6045 2.33887C17.6062 2.33806 17.6084 2.33783 17.6104 2.33691C17.6142 2.33509 17.6182 2.33232 17.623 2.33008C17.6329 2.32554 17.6453 2.32053 17.6592 2.31445C17.6868 2.30235 17.7224 2.28721 17.7656 2.27051C17.8524 2.23699 17.9709 2.1961 18.1162 2.15625C18.4059 2.07681 18.8105 2 19.2969 2ZM30.1494 26.4785C30.0734 26.4438 29.9928 26.4416 29.9092 26.4814C29.7379 26.5659 29.5878 26.8521 29.708 27.1475L29.7539 27.2363C29.805 27.314 29.8692 27.3608 29.9268 27.3848C30.0009 27.4156 30.0775 27.4152 30.1553 27.3779L30.1572 27.377C30.196 27.3584 30.2338 27.3321 30.2695 27.2939L30.7676 26.7607L30.1494 26.4785ZM16.9346 19.123C14.5826 19.3657 12.7272 20.2911 11.4521 21.168C11.8258 21.3286 12.2019 21.5188 12.584 21.7354C12.7022 21.6083 12.8225 21.5021 12.9346 21.417C13.1208 21.2755 13.298 21.1768 13.4297 21.1123C13.4964 21.0797 13.5545 21.0541 13.5986 21.0361C13.6203 21.0273 13.6391 21.0203 13.6543 21.0146C13.6619 21.0118 13.669 21.0089 13.6748 21.0068L13.6865 21.0029L13.6885 21.002C13.6889 21.0018 13.6904 21.0023 14.0146 21.9482L13.6904 21.002L15.1348 20.5068L15.0107 22.0293C14.9722 22.5033 15.0314 22.8184 15.1348 23.082C15.2391 23.348 15.4077 23.6108 15.6797 23.9727C15.8562 24.1248 16.1521 24.3828 16.4404 24.6318C16.4473 24.6229 16.4542 24.6141 16.4609 24.6055C16.5924 24.4376 16.7192 24.3062 16.8164 24.2148C16.8654 24.1688 16.9087 24.1319 16.9414 24.1045C16.9576 24.091 16.9711 24.0793 16.9824 24.0703C16.9881 24.0658 16.9937 24.062 16.998 24.0586C17.0002 24.0569 17.0021 24.0551 17.0039 24.0537C17.0048 24.053 17.006 24.0524 17.0068 24.0518L17.0078 24.0508H17.0088C17.012 24.0545 17.0491 24.1038 17.5137 24.7158L17.0088 24.0498L18.3779 23.0107L18.6045 24.7148C18.6825 25.3001 18.8398 25.6251 18.9932 25.8232C19.0005 25.8327 19.01 25.8404 19.0176 25.8496L19.8691 24.9814L20.583 25.6816C19.9201 25.0315 19.8731 24.9851 19.8701 24.9814L19.873 24.9785C19.8743 24.9772 19.8755 24.9751 19.877 24.9736C19.8799 24.9707 19.8839 24.9676 19.8877 24.9639C19.8955 24.9562 19.9047 24.9463 19.916 24.9355C19.9389 24.9139 19.9695 24.887 20.0068 24.8545C20.0816 24.7893 20.1858 24.704 20.3193 24.6074C20.5861 24.4145 20.972 24.1746 21.4775 23.959C21.8284 23.8094 22.2338 23.673 22.6924 23.5713L22.3701 23.1689C21.3135 21.8512 20.358 21.3436 19.6045 21.0508C19.4063 20.9738 19.2168 20.9091 19.0254 20.8457C18.8431 20.7854 18.6381 20.719 18.4521 20.6484C18.092 20.5118 17.6033 20.2917 17.2627 19.8174V19.8164C17.108 19.6008 16.9966 19.369 16.9346 19.123ZM24.2441 19.5791C24.1669 19.5471 24.0902 19.5513 24.0156 19.5869C23.9386 19.6238 23.852 19.7018 23.8027 19.8379C23.706 20.1096 23.8244 20.3524 23.9668 20.4551L24.0293 20.4902L24.0322 20.4912C24.0692 20.5066 24.104 20.5127 24.1357 20.5127H24.7197L24.4658 19.8291C24.4174 19.6987 24.3318 19.616 24.2441 19.5791ZM13.0713 13.3613C12.5579 13.7713 12.0744 14.2068 11.6211 14.668C12.0069 14.5561 12.4114 14.4535 12.832 14.3633C12.848 14.1524 12.8842 13.9621 12.9248 13.8027C12.9691 13.6288 13.0237 13.4795 13.0713 13.3613ZM16.6768 11.1357C16.3655 11.2815 16.0499 11.4378 15.7334 11.6084C15.3506 11.8147 14.98 12.0319 14.6211 12.2588L15.0049 13.1445C15.1683 13.5218 15.3365 13.6976 15.4795 13.7949C15.6254 13.8942 15.8304 13.969 16.165 14.0029C16.8067 14.0025 17.4685 14.0413 18.1455 14.1338C18.1224 14.0554 18.098 13.974 18.0693 13.8906C17.8906 13.3706 17.6341 12.8479 17.3965 12.4229L16.6768 11.1357ZM18.2305 12.9346C18.2314 12.9346 18.2323 12.9345 18.2334 12.9346C18.2305 12.9343 18.2282 12.9337 18.2266 12.9336C18.2275 12.9336 18.2291 12.9345 18.2305 12.9346ZM26.2471 7.96973C26.1152 7.97076 25.8801 8.11159 25.8818 8.4502L25.8926 8.56738C25.9416 8.8201 26.1378 8.92472 26.252 8.92383H26.2529C26.2875 8.92357 26.3212 8.91722 26.3535 8.90332L26.9727 8.63574L26.4883 8.08789C26.4116 8.00114 26.326 7.96908 26.248 7.96973H26.2471Z",fill:"#0087C0",stroke:"#002738",strokeWidth:"2"})})]});case"youControl":return c.jsxs("svg",{fill:"rgba(173, 255, 0, 0.65)",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("circle",{cx:"50",cy:"50",r:"50"}),c.jsx("text",{x:"50",y:"75",fontSize:"5em",textAnchor:"middle",style:{fill:"white",stroke:"#000",strokeWidth:5,fontWeight:"bold",fontFamily:"Orbitron, sans-serif"},children:e})]});case"miningEvent":return c.jsxs(Yi,{children:[c.jsx("span",{children:e}),c.jsxs("svg",{fill:"#FFB800",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 490 490",children:[c.jsx("text",{x:"50",y:"75",fontSize:"5em",textAnchor:"middle",style:{fill:"white",stroke:"#000",strokeWidth:5,fontWeight:"bold",fontFamily:"Orbitron, sans-serif"},children:e}),c.jsx("polygon",{points:"245,456.701 490,33.299 0,33.299 "})]})]});case"portal":return c.jsxs(Ti,{children:[c.jsx(a1,{type:"portal",children:e}),c.jsx("img",{loading:"lazy",src:"./assets/maps/portal.webp",alt:"portal"})]});case"flag":return c.jsxs("svg",{width:"34",height:"40",viewBox:"0 0 34 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:999,width:"25px",height:"32px"},children:[c.jsx("path",{d:"M28.5001 28.3647C30.8863 29.4007 32.3334 30.7598 32.3334 32.2501C32.3334 35.495 25.4679 38.1251 17.0001 38.1251C8.53225 38.1251 1.66675 35.495 1.66675 32.2501C1.66675 30.7617 3.11383 29.3987 5.50008 28.3647",stroke:"#27000C",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M17 1.9165C22.8387 1.9165 27.4998 6.99525 27.5 13.5356C27.5 15.2794 26.8216 17.2474 25.9033 19.1431V19.144C24.9751 21.0615 23.7472 23.0106 22.5332 24.7495C21.2191 26.6238 19.8177 28.4322 18.3379 30.1724L17.6826 29.561L17 28.9224L16.3174 29.561L15.6621 30.1724C14.181 28.4327 12.7792 26.6228 11.4639 24.7485C10.2533 23.0088 9.02434 21.0604 8.09668 19.144V19.1431C7.17842 17.2474 6.5 15.2794 6.5 13.5356C6.50017 6.9934 11.1612 1.9165 17 1.9165ZM17 7.74951C15.7111 7.74951 14.4799 8.27347 13.5752 9.19775C12.6712 10.1214 12.167 11.3694 12.167 12.6665C12.167 13.9636 12.6712 15.2116 13.5752 16.1353C14.4799 17.0595 15.7111 17.5835 17 17.5835C18.2889 17.5835 19.5201 17.0595 20.4248 16.1353C21.3288 15.2116 21.833 13.9636 21.833 12.6665C21.833 11.3694 21.3288 10.1214 20.4248 9.19775C19.5767 8.33131 18.4417 7.8173 17.2412 7.75635L17 7.74951Z",fill:"#DA452B",stroke:"#300000",strokeWidth:"2"})]});case"tavern":return c.jsxs(Xi,{children:[c.jsx(a1,{type:"tavern",children:e}),c.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"30px",height:"30px"},children:[c.jsxs("mask",{id:"path-1-outside-1_2827_27",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"32",height:"32",fill:"black",children:[c.jsx("rect",{fill:"white",width:"32",height:"32"}),c.jsx("path",{d:"M6.84848 2V8.185H8.66667V2H6.84848ZM23.3333 2V8.31385H25.1515V2H23.3333ZM2 3.03083V4.96364H5.75758V3.03083H2ZM9.75758 3.03083V4.96364H22.2424V3.03083H9.75758ZM26.2424 3.03083V4.96364H30V3.03083H26.2424ZM4.66667 8.185V14.5633L8.10909 15.4781L4.66667 16.4768V24.601C5.53879 24.3755 6.42485 24.4915 7.25455 24.8201C8.33939 25.2388 9.3697 25.9797 10.3818 26.7593C12.4061 28.3249 14.3758 30 16 30C17.6242 30 19.5939 28.3249 21.6182 26.7593C22.6303 25.9797 23.6606 25.2388 24.7455 24.8201C25.5758 24.4915 26.4606 24.3755 27.3333 24.601V21.8564L26.4 21.167L24.6909 19.9043L27.3333 20.1684V13.5582L24.5636 12.624L27.3333 12.012V8.185H26.2424V9.47354H22.2424V8.185H9.75758V9.34468H5.75758V8.185H4.66667ZM15.8364 10.1178H15.8545C16.7576 10.15 17.2364 10.8845 17.4606 11.1164C17.5758 11.2388 17.5697 11.2195 17.5879 11.2195C17.9212 11.0584 18 10.9811 18.2727 10.7234H18.4788C19.0848 10.7234 19.6182 11.0649 19.9758 11.5481C20.3333 12.0313 20.5333 12.6691 20.5333 13.3585C20.5333 13.6098 20.5091 13.8481 20.4545 14.0801C20.703 13.9834 20.9455 13.9061 21.1939 13.8932C21.2848 13.8803 21.3697 13.8868 21.4545 13.8997C21.8121 13.9383 22.2242 14.2347 22.3394 14.6535C22.9636 16.8569 22.8061 19.2536 22.3455 21.1477C22.1818 21.8306 21.703 22.2816 21.2182 22.4556C20.9455 22.5522 20.6788 22.5909 20.4242 22.6102C20.4121 22.7391 20.4242 24.7105 20.4242 25.838H11.5758C11.5697 24.6848 11.5758 23.6024 11.5758 22.4878C11.7879 20.5357 12.1152 17.8748 12.3394 15.7552C11.5455 15.3557 10.9879 14.5439 10.9879 13.584C10.9879 12.2181 12.1212 11.1486 13.4485 11.1486C13.697 11.1486 13.9455 11.1873 14.1758 11.2646C14.5576 10.5881 15.1394 10.1178 15.8364 10.1178ZM15.8303 11.2775C15.5455 11.2839 15.1818 11.5545 14.9515 12.2052L14.7333 12.8302L14.1818 12.5081C13.9636 12.3792 13.703 12.3083 13.4485 12.3083C12.6545 12.3083 12.0788 12.9011 12.0788 13.584C12.0788 14.2669 12.6545 14.8596 13.4485 14.8596C13.7758 14.8596 14.0909 14.7501 14.3273 14.5633L14.8061 14.1832L15.1212 14.7243C15.3515 15.1302 15.6121 15.272 15.8364 15.272C16.1212 15.272 16.4909 14.9949 16.7273 14.3313L17.1455 13.1394L17.7152 14.254C17.9273 14.6599 18.2061 14.8339 18.4788 14.8339C18.703 14.8339 18.9212 14.7115 19.1152 14.4537C19.303 14.196 19.4424 13.803 19.4424 13.3585C19.4424 12.9139 19.303 12.5209 19.1152 12.2632C18.9697 12.0699 18.8121 11.954 18.6424 11.9024C18.303 12.1859 17.9879 12.3599 17.6424 12.3792C17.2364 12.3985 16.903 12.1537 16.703 11.954C16.3152 11.5545 16.2121 11.2968 15.8303 11.2775ZM21.3091 15.0529C20.7091 15.1302 20.1152 15.5361 19.6788 15.9034L20.2606 21.4505C20.497 21.4376 20.7152 21.4119 20.8667 21.3539C21.103 21.2701 21.2061 21.2057 21.2909 20.8642C21.703 19.1569 21.8303 16.96 21.3091 15.0529ZM17.3333 15.5426C16.9576 16.0773 16.4424 16.4317 15.8364 16.4317C15.3273 16.4317 14.8667 16.1804 14.5091 15.7745C14.1758 15.9356 13.8121 16.0193 13.4485 16.0193H13.4121L12.7333 22.4878H19.2667L18.5879 15.9871C18.5515 15.9936 18.5152 15.9936 18.4788 15.9936C18.0545 15.9936 17.6606 15.826 17.3333 15.5426ZM12.6667 23.6475V24.6783H19.3333V23.6475H12.6667Z"})]}),c.jsx("path",{d:"M6.84848 2V8.185H8.66667V2H6.84848ZM23.3333 2V8.31385H25.1515V2H23.3333ZM2 3.03083V4.96364H5.75758V3.03083H2ZM9.75758 3.03083V4.96364H22.2424V3.03083H9.75758ZM26.2424 3.03083V4.96364H30V3.03083H26.2424ZM4.66667 8.185V14.5633L8.10909 15.4781L4.66667 16.4768V24.601C5.53879 24.3755 6.42485 24.4915 7.25455 24.8201C8.33939 25.2388 9.3697 25.9797 10.3818 26.7593C12.4061 28.3249 14.3758 30 16 30C17.6242 30 19.5939 28.3249 21.6182 26.7593C22.6303 25.9797 23.6606 25.2388 24.7455 24.8201C25.5758 24.4915 26.4606 24.3755 27.3333 24.601V21.8564L26.4 21.167L24.6909 19.9043L27.3333 20.1684V13.5582L24.5636 12.624L27.3333 12.012V8.185H26.2424V9.47354H22.2424V8.185H9.75758V9.34468H5.75758V8.185H4.66667ZM15.8364 10.1178H15.8545C16.7576 10.15 17.2364 10.8845 17.4606 11.1164C17.5758 11.2388 17.5697 11.2195 17.5879 11.2195C17.9212 11.0584 18 10.9811 18.2727 10.7234H18.4788C19.0848 10.7234 19.6182 11.0649 19.9758 11.5481C20.3333 12.0313 20.5333 12.6691 20.5333 13.3585C20.5333 13.6098 20.5091 13.8481 20.4545 14.0801C20.703 13.9834 20.9455 13.9061 21.1939 13.8932C21.2848 13.8803 21.3697 13.8868 21.4545 13.8997C21.8121 13.9383 22.2242 14.2347 22.3394 14.6535C22.9636 16.8569 22.8061 19.2536 22.3455 21.1477C22.1818 21.8306 21.703 22.2816 21.2182 22.4556C20.9455 22.5522 20.6788 22.5909 20.4242 22.6102C20.4121 22.7391 20.4242 24.7105 20.4242 25.838H11.5758C11.5697 24.6848 11.5758 23.6024 11.5758 22.4878C11.7879 20.5357 12.1152 17.8748 12.3394 15.7552C11.5455 15.3557 10.9879 14.5439 10.9879 13.584C10.9879 12.2181 12.1212 11.1486 13.4485 11.1486C13.697 11.1486 13.9455 11.1873 14.1758 11.2646C14.5576 10.5881 15.1394 10.1178 15.8364 10.1178ZM15.8303 11.2775C15.5455 11.2839 15.1818 11.5545 14.9515 12.2052L14.7333 12.8302L14.1818 12.5081C13.9636 12.3792 13.703 12.3083 13.4485 12.3083C12.6545 12.3083 12.0788 12.9011 12.0788 13.584C12.0788 14.2669 12.6545 14.8596 13.4485 14.8596C13.7758 14.8596 14.0909 14.7501 14.3273 14.5633L14.8061 14.1832L15.1212 14.7243C15.3515 15.1302 15.6121 15.272 15.8364 15.272C16.1212 15.272 16.4909 14.9949 16.7273 14.3313L17.1455 13.1394L17.7152 14.254C17.9273 14.6599 18.2061 14.8339 18.4788 14.8339C18.703 14.8339 18.9212 14.7115 19.1152 14.4537C19.303 14.196 19.4424 13.803 19.4424 13.3585C19.4424 12.9139 19.303 12.5209 19.1152 12.2632C18.9697 12.0699 18.8121 11.954 18.6424 11.9024C18.303 12.1859 17.9879 12.3599 17.6424 12.3792C17.2364 12.3985 16.903 12.1537 16.703 11.954C16.3152 11.5545 16.2121 11.2968 15.8303 11.2775ZM21.3091 15.0529C20.7091 15.1302 20.1152 15.5361 19.6788 15.9034L20.2606 21.4505C20.497 21.4376 20.7152 21.4119 20.8667 21.3539C21.103 21.2701 21.2061 21.2057 21.2909 20.8642C21.703 19.1569 21.8303 16.96 21.3091 15.0529ZM17.3333 15.5426C16.9576 16.0773 16.4424 16.4317 15.8364 16.4317C15.3273 16.4317 14.8667 16.1804 14.5091 15.7745C14.1758 15.9356 13.8121 16.0193 13.4485 16.0193H13.4121L12.7333 22.4878H19.2667L18.5879 15.9871C18.5515 15.9936 18.5152 15.9936 18.4788 15.9936C18.0545 15.9936 17.6606 15.826 17.3333 15.5426ZM12.6667 23.6475V24.6783H19.3333V23.6475H12.6667Z",fill:"#00C04A"}),c.jsx("path",{d:"M6.84848 2V8.185H8.66667V2H6.84848ZM23.3333 2V8.31385H25.1515V2H23.3333ZM2 3.03083V4.96364H5.75758V3.03083H2ZM9.75758 3.03083V4.96364H22.2424V3.03083H9.75758ZM26.2424 3.03083V4.96364H30V3.03083H26.2424ZM4.66667 8.185V14.5633L8.10909 15.4781L4.66667 16.4768V24.601C5.53879 24.3755 6.42485 24.4915 7.25455 24.8201C8.33939 25.2388 9.3697 25.9797 10.3818 26.7593C12.4061 28.3249 14.3758 30 16 30C17.6242 30 19.5939 28.3249 21.6182 26.7593C22.6303 25.9797 23.6606 25.2388 24.7455 24.8201C25.5758 24.4915 26.4606 24.3755 27.3333 24.601V21.8564L26.4 21.167L24.6909 19.9043L27.3333 20.1684V13.5582L24.5636 12.624L27.3333 12.012V8.185H26.2424V9.47354H22.2424V8.185H9.75758V9.34468H5.75758V8.185H4.66667ZM15.8364 10.1178H15.8545C16.7576 10.15 17.2364 10.8845 17.4606 11.1164C17.5758 11.2388 17.5697 11.2195 17.5879 11.2195C17.9212 11.0584 18 10.9811 18.2727 10.7234H18.4788C19.0848 10.7234 19.6182 11.0649 19.9758 11.5481C20.3333 12.0313 20.5333 12.6691 20.5333 13.3585C20.5333 13.6098 20.5091 13.8481 20.4545 14.0801C20.703 13.9834 20.9455 13.9061 21.1939 13.8932C21.2848 13.8803 21.3697 13.8868 21.4545 13.8997C21.8121 13.9383 22.2242 14.2347 22.3394 14.6535C22.9636 16.8569 22.8061 19.2536 22.3455 21.1477C22.1818 21.8306 21.703 22.2816 21.2182 22.4556C20.9455 22.5522 20.6788 22.5909 20.4242 22.6102C20.4121 22.7391 20.4242 24.7105 20.4242 25.838H11.5758C11.5697 24.6848 11.5758 23.6024 11.5758 22.4878C11.7879 20.5357 12.1152 17.8748 12.3394 15.7552C11.5455 15.3557 10.9879 14.5439 10.9879 13.584C10.9879 12.2181 12.1212 11.1486 13.4485 11.1486C13.697 11.1486 13.9455 11.1873 14.1758 11.2646C14.5576 10.5881 15.1394 10.1178 15.8364 10.1178ZM15.8303 11.2775C15.5455 11.2839 15.1818 11.5545 14.9515 12.2052L14.7333 12.8302L14.1818 12.5081C13.9636 12.3792 13.703 12.3083 13.4485 12.3083C12.6545 12.3083 12.0788 12.9011 12.0788 13.584C12.0788 14.2669 12.6545 14.8596 13.4485 14.8596C13.7758 14.8596 14.0909 14.7501 14.3273 14.5633L14.8061 14.1832L15.1212 14.7243C15.3515 15.1302 15.6121 15.272 15.8364 15.272C16.1212 15.272 16.4909 14.9949 16.7273 14.3313L17.1455 13.1394L17.7152 14.254C17.9273 14.6599 18.2061 14.8339 18.4788 14.8339C18.703 14.8339 18.9212 14.7115 19.1152 14.4537C19.303 14.196 19.4424 13.803 19.4424 13.3585C19.4424 12.9139 19.303 12.5209 19.1152 12.2632C18.9697 12.0699 18.8121 11.954 18.6424 11.9024C18.303 12.1859 17.9879 12.3599 17.6424 12.3792C17.2364 12.3985 16.903 12.1537 16.703 11.954C16.3152 11.5545 16.2121 11.2968 15.8303 11.2775ZM21.3091 15.0529C20.7091 15.1302 20.1152 15.5361 19.6788 15.9034L20.2606 21.4505C20.497 21.4376 20.7152 21.4119 20.8667 21.3539C21.103 21.2701 21.2061 21.2057 21.2909 20.8642C21.703 19.1569 21.8303 16.96 21.3091 15.0529ZM17.3333 15.5426C16.9576 16.0773 16.4424 16.4317 15.8364 16.4317C15.3273 16.4317 14.8667 16.1804 14.5091 15.7745C14.1758 15.9356 13.8121 16.0193 13.4485 16.0193H13.4121L12.7333 22.4878H19.2667L18.5879 15.9871C18.5515 15.9936 18.5152 15.9936 18.4788 15.9936C18.0545 15.9936 17.6606 15.826 17.3333 15.5426ZM12.6667 23.6475V24.6783H19.3333V23.6475H12.6667Z",stroke:"#002B10",strokeWidth:"4",mask:"url(#path-1-outside-1_2827_27)"})]})]});default:return null}},Vi=({columnIndex:e,rowIndex:r,style:i,onClick:n})=>{const t=U(D1(p=>p.user)),{allAreas:a,selectedMap:o,selectedCoordinates:s}=O1(),l=`${e},${r}`,d=a[l],u=t.planet===o.value&&t.mapX===e&&t.mapY===r;return c.jsx(Li,{style:i,onClick:n,children:c.jsxs(Pi,{isSelected:(s==null?void 0:s.x)===e&&(s==null?void 0:s.y)===r,type:(d==null?void 0:d.type)||"empty",children:[!!d&&W1({text:d.text||"",type:d.type,isLocked:d.isLocked}),u&&W1({text:"",type:"flag"})]})})},Hi=e=>C1({queryKey:[c1.playerDataState,e],queryFn:()=>_i(e),staleTime:1e3*60*20,enabled:!!U.getState().user});async function _i(e){try{const r=await oe(e);return r||null}catch(r){return console.log(r),null}}const Ai=async()=>{const e=await j1({options:{code:o1.playersAle,index_position:1,limit:"1000",scope:o1.playersAle,table:se.config}});return(e==null?void 0:e[0])||null},Mi=()=>C1({queryKey:[c1.PlayerConfigState],queryFn:()=>zi(),staleTime:1e3*60*60,enabled:!!U.getState().user});async function zi(){try{return await Ai()}catch(e){return console.log(e),null}}const Ei=e=>{if(!e)return!1;try{const r=new Date(e);if(isNaN(r.getTime()))return!1;const i=new Date,n=new Date(Date.UTC(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate())),t=new Date(Date.UTC(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()));return n.getTime()===t.getTime()}catch(r){return console.error("Error parsing date:",r),!1}},Zi=async e=>await j1({options:{code:o1.arenaAle,key_type:"i64",index_position:2,limit:"1000",lower_bound:e,upper_bound:e,scope:o1.arenaAle,table:"arenacap"}}),ki=()=>C1({queryKey:[c1.ArenaCapState],queryFn:()=>Wi(),staleTime:1e3*60*60,enabled:!!U.getState().user});async function Wi(){const e=U.getState().user;if(!e)return null;try{const r=await Zi(e==null?void 0:e.name);return r||null}catch(r){return console.log(r),null}}const Di=()=>{const e=U(D1(w=>w.user)),{allAreas:r,selectedMap:i,selectedCoordinates:n,setSelectedCoordinates:t,setSelectedTypes:a,setAllAreas:o,setAllTypes:s,setBuildingsOnSelectedLand:l,setMoveCost:d}=O1(),u=j.useRef(null),p=j.useRef(null),[f,v]=M.useState([]),[C,g]=M.useState(8),{data:h}=Hi((i==null?void 0:i.value)||""),{data:S}=Mi(),{data:T}=ki(),L=M.useCallback(()=>{var k,N,x,$,n1;if(!e)return null;const w=Ei(e.last_dungeon_reset),X=((k=h==null?void 0:h.filter(m=>!!m.special_effect))==null?void 0:k.map(m=>({x:m.x-1,y:m.y-1,type:"portal",text:m.special_effect.slice(2,1/0)})))||[],V=((N=[...e.active_taverns,e.last_tavern].filter(m=>m.planet===(i==null?void 0:i.value)))==null?void 0:N.map(m=>({x:m.x-1,y:m.y-1,type:"tavern",text:m.boost_score/1e5>0?(m.boost_score/1e5).toFixed(1):""})))||[],_=((x=h==null?void 0:h.filter(m=>m.buildings.some(Y=>Y.building_name==="dungeon")))==null?void 0:x.map(m=>{const Y=e.played_dungeons.split(",").some(F=>{const[G,J]=F.split(".");return G===m.planet&&J===m.land_id&&w});return{x:m.x-1,y:m.y-1,type:"dungeon",isLocked:Y,text:m.buildings[0].boost_score/1e5>0?(m.buildings[0].boost_score/1e5).toFixed(1):""}}))||[],H=(($=h==null?void 0:h.filter(m=>m.buildings.some(Y=>Y.building_name==="arena")))==null?void 0:$.map(m=>{const Y=T==null?void 0:T.some(F=>F.planet===m.planet&&F.land_id===m.land_id);return{...m,x:m.x-1,y:m.y-1,isLocked:Y,type:"arena",text:m.buildings[0].boost_score/1e5>0?(m.buildings[0].boost_score/1e5).toFixed(1):""}}))||[],y=[...X,...V,..._,...H],A=y.reduce((m,Y)=>(m.some(({value:F})=>F===Y.type)||m.push({label:Y.type.charAt(0).toUpperCase()+Y.type.slice(1),value:Y.type}),m),[]),B=(n1=(h==null?void 0:h.filter(m=>{var Y;return!!((Y=m.buildings)!=null&&Y.length)}))||[])==null?void 0:n1.flatMap(m=>m.buildings);l(B),s(A),a(A);const O={};y==null||y.forEach(m=>{A.some(Y=>Y.value!=="mixed"?Y.value===m.type:!0)&&(O[`${m.x},${m.y}`]=m)}),o(O)},[e,h,i,l,s,a,o]);M.useEffect(()=>{const V=1920/T1,_=1080/Y1,H=[];for(let y=0;y<T1;y++){H[y]=[];for(let A=0;A<Y1;A++)H[y][A]={x:y*V,y:A*_,type:""}}v(H),L()},[L]);const E=M.useCallback(w=>{if(!e)return;if((n==null?void 0:n.x)===w.clientX&&(n==null?void 0:n.y)===w.clientY){t(null);return}if(t({x:w.clientX,y:w.clientY,type:w.type,isLocked:w.isLocked}),e.mapX===w.clientX&&e.mapY===w.clientY){d(0);return}const X=Math.sqrt(Math.pow(e.mapX-w.clientX,2)+Math.pow(e.mapY-w.clientY,2));let V=Math.ceil(X)+((S==null?void 0:S.travel_base_cost)||0);w.type==="portal"&&(V+=(S==null?void 0:S.travel_portal_cost)||0),d(V)},[e,n,S]),z=M.useMemo(()=>f.map((w,X)=>w.map((V,_)=>{const H=`${X},${_}`,y=r[H];return c.jsx(Vi,{columnIndex:X,rowIndex:_,onClick:()=>E({clientX:X,clientY:_,type:(y==null?void 0:y.type)||"",isLocked:(y==null?void 0:y.isLocked)||!1}),style:{top:V.y,left:V.x}},H)})),[f,r,E]);return M.useEffect(()=>{var w,X,V,_;if(e.planet===(i==null?void 0:i.value)&&u.current&&p.current){const H=1940-((w=u.current)==null?void 0:w.clientWidth),y=20*54-((X=u.current)==null?void 0:X.clientHeight),A=((V=u.current)==null?void 0:V.clientWidth)/48,B=((_=u.current)==null?void 0:_.clientHeight)/54,O=e.mapX*48-A/2*48,k=e.mapY*54-B/2*54,N=O>H?H:O<0?0:O,x=k>y?y:k<0?0:k;p.current.setTransform(-N,-x,1,0)}},[i,e.mapX,e.mapY,e.planet]),c.jsx(Si,{ref:u,children:c.jsx(hi,{ref:p,disablePadding:!0,maxScale:2,doubleClick:{step:C},onPanningStop:w=>{w.state.scale!==1?g(-8):g(8)},initialScale:1,centerZoomedOut:!1,centerOnInit:!1,children:c.jsx(yi,{children:c.jsxs(bi,{children:[c.jsx("img",{loading:"lazy",src:`/assets/maps/${i==null?void 0:i.value}.jpg`,alt:""}),z]})})})})},Ni=j.memo(Di);export{Ni as default};

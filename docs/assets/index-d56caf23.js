import{s as n,d as R,u as w,r as h,j as t}from"./index-0a7d9506.js";import{s as Q}from"./shimmer-f3913ada.js";import{a as W,u as H}from"./inventory-query-68ac82ea.js";import{u as M}from"./useQuery-9ccc590b.js";import P from"./index-be9b47a9.js";import{u as Y}from"./index-fd309dbb.js";import"./atomic-api-3e6c0771.js";import"./toast-options-feb3eaf9.js";import"./index-17a772b9.js";import"./sleep-da79c358.js";import"./use-transaction-9d0d6f50.js";n("div",{d:"grid",gridTemplateAreas:`
    "empty header"
    "main main"
  `,gridTemplateColumns:"3fr 1fr",gap:"10px",br:"15px",w:"100%",h:"100%"});n("div",{gridArea:"header",d:"flex",justifyContent:"flex-end",gap:"10px",minHeight:"65px",button:{padding:"20px",w:"100%",maxW:"100%",div:{d:"flex",alignItems:"center",gap:"5px",color:"#828282",img:{objectFit:"contain",w:"24px"}}}});n("div",{gridArea:"main",position:"relative",d:"flex",align:"flex-start",alignContent:"flex-start",justify:"flex-center",justifyContent:"flex-center",w:"100%",gap:"10px",padding:"10px",br:"0 15px 15px 15px",bg:"#141423","@md":{h:"calc(100vh - 175px)",direction:"column"}});n("div",{d:"flex",align:"flex-start",alignContent:"flex-start",justify:"flex-center",justifyContent:"flex-center",br:"15px 15px 0 0",bg:"#19192D",position:"absolute",top:"-35px",left:"0",button:{border:"1px solid rgba(0, 0, 0, 0.25)",padding:"10px 20px",color:"#fff","&:first-child":{br:"15px 0 0 0"},"&:last-child":{br:"0 15px 0 0"}}});const K=n("div",{d:"flex",direction:"column",w:"100%",maxW:"820px",padding:"24px 30px",minH:"calc(100vh - 175px)",maxH:"calc(100vh - 175px)",overflowY:"auto","@md":{h:"unset"}}),T=n("div",{d:"flex",direction:"column",gap:"10px",w:"100%"}),U=n("div",{d:"flex",gap:"10px",mt:"20px",w:"100%",img:{width:25,height:25}}),z=n("span",{d:"flex",direction:"column",w:"100%",color:"#fff",fs:"16px",ff:"$heading"}),L=n("span",{d:"flex",direction:"column",w:"100%",padding:"10px 10px 20px 10px",bg:"#201D2C",color:"#fff",fs:"16px",ff:"$heading"}),G=n("div",{d:"flex",w:"100%",m:"17px 0 60px"}),V=n("div",{display:"flex",justify:"center",gap:"10px",img:{"&:hover":{transform:"scale(1.05)",zIndex:"4","-webkit-filter":"drop-shadow(0px 0px 8px #00BAFF)",filter:"drop-shadow(0px 0px 5px #00BAFF)"}},variants:{cardSelected:{0:{img:{"&:nth-of-type(2)":{opacity:"0.2"},"&:nth-of-type(3)":{opacity:"0.2"}}},1:{img:{"&:nth-of-type(1)":{opacity:"0.2"},"&:nth-of-type(3)":{opacity:"0.2"}}},2:{img:{"&:nth-of-type(1)":{opacity:"0.2"},"&:nth-of-type(2)":{opacity:"0.2"}}}}}}),f=n("img",{cursor:"pointer",transition:"all 0.2s ease-in-out",w:"85px",h:"116px",zIndex:"2",variants:{isSelected:{true:{filter:"grayscale(100%)"}}},"@sm":{w:"65px",h:"90px"}}),J=n("div",{d:"flex",gap:"10px",alignContent:"flex-start",flexWrap:"wrap",overflow:"auto",w:"100%",h:"calc(100vh - 235px)","@md":{h:"unset"}}),k=n("div",{w:"85px",h:"116px",background:"linear-gradient( -90deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.25) ,rgba(255, 255, 255, 0.15))",br:"10px",backgroundSize:"400% 400%",animation:`${Q} 1.2s ease-in-out infinite`,"@sm":{width:"70px",height:"100px"}}),O=p=>M({queryKey:[R.AssetsIdState,p],queryFn:()=>X(p),staleTime:1e3*60*60,enabled:!!w.getState().user});async function X(p){const{user:d}=w.getState();try{const{getAssets:c}=W,s={owner:d==null?void 0:d.name,limit:1e3,ids:p.join(",")},x=[];let r=0;do{r++;const o=await c({...s,page:r});x.push(...o)}while(r*1e3===x.length);return x}catch(c){return console.log(c),null}}const le=()=>{var j,v,b,C,S,A,_,I,F;const p=w(({user:e})=>e),{data:d,isLoading:c}=H("tool.worlds",!0),{data:s,isLoading:x}=O(p.mine_nfts),[r,o]=h.useState(0),[E,$]=h.useState([0]),{selectedCards:a,setSelectedCards:g}=Y();function y(e){if(!e){const i=a.map((u,D)=>{if(D!==r)return u});o(r+1),g(i);return}if(a.some(i=>(i==null?void 0:i.asset_id)===(e==null?void 0:e.asset_id))){o(-1);return}const l=a.map((i,u)=>u===r?e:i);o(r+1),g(l),r===2&&o(-1)}function m(e){if(e===r){o(-1);return}o(e)}function B(e){$(e)}return h.useEffect(()=>{g([(s==null?void 0:s[0])??void 0,(s==null?void 0:s[1])??void 0,(s==null?void 0:s[2])??void 0])},[s]),t.jsxs(t.Fragment,{children:[t.jsxs(K,{children:[t.jsxs(T,{children:[t.jsx(z,{children:"Mining Tools"}),t.jsx(L,{children:"These tools are used by trainers to mine for instant rewards when playing Taverns, Dungeons or Arenas."})]}),t.jsx(G,{children:t.jsx(V,{cardSelected:r,children:x?new Array(3).fill(0).map((e,l)=>t.jsx(k,{},l)):t.jsxs(t.Fragment,{children:[t.jsx(f,{onClick:()=>m(0),loading:"lazy",src:a[0]?`/assets/aw-nft-images/${(j=a[0])==null?void 0:j.template.template_id}.webp`:"/assets/default-card.png",alt:(b=(v=a[0])==null?void 0:v.data)==null?void 0:b.name}),t.jsx(f,{onClick:()=>m(1),loading:"lazy",src:a[1]?`/assets/aw-nft-images/${(C=a[1])==null?void 0:C.template.template_id}.webp`:"/assets/default-card.png",alt:(A=(S=a[1])==null?void 0:S.data)==null?void 0:A.name}),t.jsx(f,{onClick:()=>m(2),loading:"lazy",src:a[1]?`/assets/aw-nft-images/${(_=a[1])==null?void 0:_.template.template_id}.webp`:"/assets/default-card.png",alt:(F=(I=a[1])==null?void 0:I.data)==null?void 0:F.name})]})})}),t.jsxs(T,{children:[t.jsx(z,{children:"Landowner Rewards"}),t.jsx(L,{children:"Whenever a player performs a mine on a landowners land, the landowner also gets rewards. Use the slider to select the percentage of TLM / Shard rewards."})]}),t.jsxs(U,{children:[t.jsx("img",{loading:"lazy",src:"/assets/icons/tlm.png",alt:""}),t.jsx(P,{onValueChange:B,value:E}),t.jsx("img",{loading:"lazy",src:"/assets/icons/credit.png",alt:""})]})]}),t.jsx(J,{children:c?new Array(30).fill(0).map((e,l)=>t.jsx(k,{},l)):t.jsxs(t.Fragment,{children:[t.jsx(f,{onClick:()=>y(void 0),src:"/assets/default-card.png",alt:"default card"}),d==null?void 0:d.map(e=>{var l;return t.jsx(f,{isSelected:a.some(i=>(i==null?void 0:i.asset_id)===(e==null?void 0:e.asset_id)),onClick:()=>y(e),loading:"lazy",src:`/assets/aw-nft-images/${e==null?void 0:e.template.template_id}.webp`,alt:(l=e==null?void 0:e.data)==null?void 0:l.name},e==null?void 0:e.asset_id)})]})})]})};export{le as default};

import{s as a,e as Y,u as h,r as $,j as t}from"./index-a01e37b3.js";import{s as K}from"./shimmer-b99dc08a.js";import{a as U,u as V}from"./inventory-query-105768a9.js";import{u as G}from"./useQuery-0dda4b17.js";import J from"./index-3610d1bc.js";import{u as O}from"./index-d2fdf328.js";import"./atomic-api-ebc55b93.js";import"./toast-options-223281cd.js";import"./index-713ebc55.js";import"./use-transaction-64e719ac.js";import"./sleep-da79c358.js";a("div",{d:"grid",gridTemplateAreas:`
    "empty header"
    "main main"
  `,gridTemplateColumns:"3fr 1fr",gap:"10px",br:"15px",w:"100%",h:"100%"});a("div",{gridArea:"header",d:"flex",justifyContent:"flex-end",gap:"10px",minHeight:"65px",button:{padding:"20px",w:"100%",maxW:"100%",div:{d:"flex",alignItems:"center",gap:"5px",color:"#828282",img:{objectFit:"contain",w:"24px"}}}});a("div",{gridArea:"main",position:"relative",d:"flex",align:"flex-start",alignContent:"flex-start",justify:"flex-center",justifyContent:"flex-center",w:"100%",gap:"10px",padding:"10px",br:"0 15px 15px 15px",bg:"#141423","@md":{h:"calc(100vh - 175px)",direction:"column"}});a("div",{d:"flex",align:"flex-start",alignContent:"flex-start",justify:"flex-center",justifyContent:"flex-center",br:"15px 15px 0 0",bg:"#19192D",position:"absolute",top:"-35px",left:"0",button:{border:"1px solid rgba(0, 0, 0, 0.25)",padding:"10px 20px",color:"#fff","&:first-child":{br:"15px 0 0 0"},"&:last-child":{br:"0 15px 0 0"}}});const X=a("div",{d:"flex",direction:"column",w:"100%",maxW:"820px",padding:"24px 30px",minH:"calc(100vh - 175px)",maxH:"calc(100vh - 175px)",overflowY:"auto","@md":{h:"unset"}}),B=a("div",{d:"flex",direction:"column",gap:"10px",w:"100%"}),Z=a("div",{d:"flex",gap:"10px",mt:"20px",w:"100%",img:{width:25,height:25}}),D=a("span",{d:"flex",direction:"column",w:"100%",color:"#fff",fs:"16px",ff:"$heading"}),R=a("span",{d:"flex",direction:"column",w:"100%",padding:"10px 10px 20px 10px",bg:"#201D2C",color:"#fff",fs:"16px",ff:"$heading"}),q=a("div",{d:"flex",w:"100%",m:"17px 0 60px"}),N=a("div",{display:"flex",justify:"center",gap:"10px",img:{"&:hover":{transform:"scale(1.05)",zIndex:"4","-webkit-filter":"drop-shadow(0px 0px 8px #00BAFF)",filter:"drop-shadow(0px 0px 5px #00BAFF)"}},variants:{cardSelected:{0:{img:{"&:nth-of-type(2)":{opacity:"0.2"},"&:nth-of-type(3)":{opacity:"0.2"}}},1:{img:{"&:nth-of-type(1)":{opacity:"0.2"},"&:nth-of-type(3)":{opacity:"0.2"}}},2:{img:{"&:nth-of-type(1)":{opacity:"0.2"},"&:nth-of-type(2)":{opacity:"0.2"}}}}}}),f=a("img",{cursor:"pointer",transition:"all 0.2s ease-in-out",w:"85px",h:"116px",zIndex:"2",variants:{isSelected:{true:{filter:"grayscale(100%)"}}},"@sm":{w:"65px",h:"90px"}}),ee=a("div",{d:"flex",gap:"10px",alignContent:"flex-start",flexWrap:"wrap",overflow:"auto",w:"100%",h:"calc(100vh - 235px)","@md":{h:"unset"}}),M=a("div",{w:"85px",h:"116px",background:"linear-gradient( -90deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.25) ,rgba(255, 255, 255, 0.15))",br:"10px",backgroundSize:"400% 400%",animation:`${K} 1.2s ease-in-out infinite`,"@sm":{width:"70px",height:"100px"}}),te=o=>G({queryKey:[Y.AssetsIdState,o],queryFn:()=>ne(o),staleTime:1e3*60*60,enabled:!!h.getState().user});async function ne(o){const{user:l}=h.getState();if(o.length===0||!l)return null;try{const{getAssets:c}=U,s={owner:l==null?void 0:l.name,limit:1e3,ids:o.join(",")},x=[];let r=0;do{r++;const d=await c({...s,page:r}),n=await c({...s,page:r,owner:"tools.mc",ids:o.join(",")});x.push(...d,...n)}while(r*2e3===x.length);return x}catch(c){return console.log(c),null}}const ge=()=>{var y,j,v,b,C,S,A,_,F,I,T,z,L,k,E;const o=h(({user:e})=>e),{data:l,isLoading:c}=V("tool.worlds",!0),{data:s,isLoading:x}=te(o.mine_nfts),[r,d]=$.useState(0),{selectedCards:n,setSelectedCards:g,rewardSlider:Q,setRewardSlider:W}=O();function w(e){if(!e){const i=n.map((u,P)=>{if(P!==r)return u});d(r+1),g(i);return}if(n.some(i=>(i==null?void 0:i.asset_id)===(e==null?void 0:e.asset_id))){d(-1);return}const p=n.map((i,u)=>u===r?e:i);d(r+1),g(p),r===2&&d(-1)}function m(e){if(e===r){d(-1);return}d(e)}function H(e){W(e[0])}return $.useEffect(()=>{g([(s==null?void 0:s[0])??void 0,(s==null?void 0:s[1])??void 0,(s==null?void 0:s[2])??void 0])},[s]),t.jsxs(t.Fragment,{children:[t.jsxs(X,{children:[t.jsxs(B,{children:[t.jsx(D,{children:"Mining Tools"}),t.jsx(R,{children:"These tools are used by trainers to mine for instant rewards when playing Taverns, Dungeons or Arenas."})]}),t.jsx(q,{children:t.jsx(N,{cardSelected:r,children:x?new Array(3).fill(0).map((e,p)=>t.jsx(M,{},p)):t.jsxs(t.Fragment,{children:[t.jsx(f,{onClick:()=>m(0),loading:"lazy",src:n[0]?`/assets/aw-nft-images/${(y=n[0])==null?void 0:y.template.template_id}.webp`:"/assets/default-card.png",alt:(v=(j=n[0])==null?void 0:j.data)==null?void 0:v.name,title:(C=(b=n[0])==null?void 0:b.data)==null?void 0:C.name}),t.jsx(f,{onClick:()=>m(1),loading:"lazy",src:n[1]?`/assets/aw-nft-images/${(S=n[1])==null?void 0:S.template.template_id}.webp`:"/assets/default-card.png",alt:(_=(A=n[1])==null?void 0:A.data)==null?void 0:_.name,title:(I=(F=n[1])==null?void 0:F.data)==null?void 0:I.name}),t.jsx(f,{onClick:()=>m(2),loading:"lazy",src:n[2]?`/assets/aw-nft-images/${(T=n[2])==null?void 0:T.template.template_id}.webp`:"/assets/default-card.png",alt:(L=(z=n[2])==null?void 0:z.data)==null?void 0:L.name,title:(E=(k=n[2])==null?void 0:k.data)==null?void 0:E.name})]})})}),t.jsxs(B,{children:[t.jsx(D,{children:"Landowner Rewards"}),t.jsx(R,{children:"Whenever a player performs a mine on a landowners land, the landowner also gets rewards. Use the slider to select the percentage of TLM / Shard rewards."})]}),t.jsxs(Z,{children:[t.jsx("img",{loading:"lazy",src:"/assets/icons/tlm.png",alt:""}),t.jsx(J,{onValueChange:H,value:[Q],showSplittedValues:!0}),t.jsx("img",{loading:"lazy",src:"/assets/icons/credit.png",alt:""})]})]}),t.jsx(ee,{children:c?new Array(30).fill(0).map((e,p)=>t.jsx(M,{},p)):t.jsxs(t.Fragment,{children:[t.jsx(f,{onClick:()=>w(void 0),src:"/assets/default-card.png",alt:"default card"}),l==null?void 0:l.map(e=>{var p;return t.jsx(f,{isSelected:n.some(i=>(i==null?void 0:i.asset_id)===(e==null?void 0:e.asset_id)),onClick:()=>w(e),loading:"lazy",src:`/assets/aw-nft-images/${e==null?void 0:e.template.template_id}.webp`,alt:(p=e==null?void 0:e.data)==null?void 0:p.name},e==null?void 0:e.asset_id)})]})})]})};export{ge as default};

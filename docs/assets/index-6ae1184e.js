import{R as D,r as P,s as _,c as fe,d as hi,Q as q,u as li,W as pe,S as ce,a as ve,e as me,b as he,_ as J,j as f}from"./index-d38e97e9.js";import{s as zi}from"./sleep-da79c358.js";var W=function(i,r){return Number(i.toFixed(r))},ge=function(i,r){return typeof i=="number"?i:r},T=function(i,r,e){e&&typeof e=="function"&&e(i,r)},we=function(i){return-Math.cos(i*Math.PI)/2+.5},Se=function(i){return i},ye=function(i){return i*i},be=function(i){return i*(2-i)},Pe=function(i){return i<.5?2*i*i:-1+(4-2*i)*i},Ce=function(i){return i*i*i},Te=function(i){return--i*i*i+1},Ye=function(i){return i<.5?4*i*i*i:(i-1)*(2*i-2)*(2*i-2)+1},Xe=function(i){return i*i*i*i},xe=function(i){return 1- --i*i*i*i},Ae=function(i){return i<.5?8*i*i*i*i:1-8*--i*i*i*i},Ee=function(i){return i*i*i*i*i},ze=function(i){return 1+--i*i*i*i*i},_e=function(i){return i<.5?16*i*i*i*i*i:1+16*--i*i*i*i*i},Vi={easeOut:we,linear:Se,easeInQuad:ye,easeOutQuad:be,easeInOutQuad:Pe,easeInCubic:Ce,easeOutCubic:Te,easeInOutCubic:Ye,easeInQuart:Xe,easeOutQuart:xe,easeInOutQuart:Ae,easeInQuint:Ee,easeOutQuint:ze,easeInOutQuint:_e},Fi=function(i){typeof i=="number"&&cancelAnimationFrame(i)},B=function(i){i.mounted&&(Fi(i.animation),i.animate=!1,i.animation=null,i.velocity=null)};function Ki(i,r,e,n){if(i.mounted){var a=new Date().getTime(),t=1;B(i),i.animation=function(){if(!i.mounted)return Fi(i.animation);var o=new Date().getTime()-a,s=o/e,l=Vi[r],d=l(s);o>=e?(n(t),i.animation=null):i.animation&&(n(d),requestAnimationFrame(i.animation))},requestAnimationFrame(i.animation)}}function je(i){var r=i.scale,e=i.positionX,n=i.positionY;return!(Number.isNaN(r)||Number.isNaN(e)||Number.isNaN(n))}function F(i,r,e,n){var a=je(r);if(!(!i.mounted||!a)){var t=i.setTransformState,o=i.transformState,s=o.scale,l=o.positionX,d=o.positionY,u=r.scale-s,p=r.positionX-l,c=r.positionY-d;e===0?t(r.scale,r.positionX,r.positionY):Ki(i,n,e,function(v){var m=s+u*v,h=l+p*v,S=d+c*v;t(m,h,S)})}}function De(i,r,e){var n=i.offsetWidth,a=i.offsetHeight,t=r.offsetWidth,o=r.offsetHeight,s=t*e,l=o*e,d=n-s,u=a-l;return{wrapperWidth:n,wrapperHeight:a,newContentWidth:s,newDiffWidth:d,newContentHeight:l,newDiffHeight:u}}var We=function(i,r,e,n,a,t,o){var s=i>r?e*(o?1:.5):0,l=n>a?t*(o?1:.5):0,d=i-r-s,u=s,p=n-a-l,c=l;return{minPositionX:d,maxPositionX:u,minPositionY:p,maxPositionY:c}},Pi=function(i,r){var e=i.wrapperComponent,n=i.contentComponent,a=i.setup.centerZoomedOut;if(!e||!n)throw new Error("Components are not mounted");var t=De(e,n,r),o=t.wrapperWidth,s=t.wrapperHeight,l=t.newContentWidth,d=t.newDiffWidth,u=t.newContentHeight,p=t.newDiffHeight,c=We(o,l,d,s,u,p,!!a);return c},gi=function(i,r,e,n){return n?i<r?W(r,2):i>e?W(e,2):W(i,2):W(i,2)},G=function(i,r){var e=Pi(i,r);return i.bounds=e,e};function ni(i,r,e,n,a,t,o){var s=e.minPositionX,l=e.minPositionY,d=e.maxPositionX,u=e.maxPositionY,p=0,c=0;o&&(p=a,c=t);var v=gi(i,s-p,d+p,n),m=gi(r,l-c,u+c,n);return{x:v,y:m}}function ui(i,r,e,n,a,t){var o=i.transformState,s=o.scale,l=o.positionX,d=o.positionY,u=n-s;if(typeof r!="number"||typeof e!="number")return console.error("Mouse X and Y position were not provided!"),{x:l,y:d};var p=l-r*u,c=d-e*u,v=ni(p,c,a,t,0,0,null);return v}function ri(i,r,e,n,a){var t=a?n:0,o=r-t;return!Number.isNaN(e)&&i>=e?e:!Number.isNaN(r)&&i<=o?o:i}var _i=function(i,r){var e=i.setup.panning.excluded,n=i.isInitialized,a=i.wrapperComponent,t=r.target,o="shadowRoot"in t&&"composedPath"in r,s=o?r.composedPath().some(function(u){return u instanceof Element?a==null?void 0:a.contains(u):!1}):a==null?void 0:a.contains(t),l=n&&t&&s;if(!l)return!1;var d=di(t,e);return!d},ji=function(i){var r=i.isInitialized,e=i.isPanning,n=i.setup,a=n.panning.disabled,t=r&&e&&!a;return!!t},ke=function(i,r){var e=i.transformState,n=e.positionX,a=e.positionY;i.isPanning=!0;var t=r.clientX,o=r.clientY;i.startCoords={x:t-n,y:o-a}},Oe=function(i,r){var e=r.touches,n=i.transformState,a=n.positionX,t=n.positionY;i.isPanning=!0;var o=e.length===1;if(o){var s=e[0].clientX,l=e[0].clientY;i.startCoords={x:s-a,y:l-t}}};function Me(i){var r=i.transformState,e=r.positionX,n=r.positionY,a=r.scale,t=i.setup,o=t.disabled,s=t.limitToBounds,l=t.centerZoomedOut,d=i.wrapperComponent;if(!(o||!d||!i.bounds)){var u=i.bounds,p=u.maxPositionX,c=u.minPositionX,v=u.maxPositionY,m=u.minPositionY,h=e>p||e<c,S=n>v||n<m,Y=e>p?d.offsetWidth:i.setup.minPositionX||0,x=n>v?d.offsetHeight:i.setup.minPositionY||0,C=ui(i,Y,x,a,i.bounds,s||l),k=C.x,j=C.y;return{scale:a,positionX:h?k:e,positionY:S?j:n}}}function $i(i,r,e,n,a){var t=i.setup.limitToBounds,o=i.wrapperComponent,s=i.bounds,l=i.transformState,d=l.scale,u=l.positionX,p=l.positionY;if(!(o===null||s===null||r===u&&e===p)){var c=ni(r,e,s,t,n,a,o),v=c.x,m=c.y;i.setTransformState(d,v,m)}}var Ne=function(i,r,e){var n=i.startCoords,a=i.transformState,t=i.setup.panning,o=t.lockAxisX,s=t.lockAxisY,l=a.positionX,d=a.positionY;if(!n)return{x:l,y:d};var u=r-n.x,p=e-n.y,c=o?l:u,v=s?d:p;return{x:c,y:v}},V=function(i,r){var e=i.setup,n=i.transformState,a=n.scale,t=e.minScale,o=e.disablePadding;return r>0&&a>=t&&!o?r:0},Le=function(i){var r=i.mounted,e=i.setup,n=e.disabled,a=e.velocityAnimation,t=i.transformState.scale,o=a.disabled,s=!o||t>1||!n||r;return!!s},Be=function(i){var r=i.mounted,e=i.velocity,n=i.bounds,a=i.setup,t=a.disabled,o=a.velocityAnimation,s=i.transformState.scale,l=o.disabled,d=!l||s>1||!t||r;return!(!d||!e||!n)};function Ze(i,r){var e=i.setup.velocityAnimation,n=e.equalToMove,a=e.animationTime,t=e.sensitivity;return n?a*r*t:a}function Di(i,r,e,n,a,t,o,s,l,d){if(a){if(r>o&&e>o){var u=o+(i-o)*d;return u>l?l:u<o?o:u}if(r<t&&e<t){var u=t+(i-t)*d;return u<s?s:u>t?t:u}}return n?r:gi(i,t,o,a)}function He(i,r){var e=1;return r?Math.min(e,i.offsetWidth/window.innerWidth):e}function Re(i,r){var e=Le(i);if(e){var n=i.lastMousePosition,a=i.velocityTime,t=i.setup,o=i.wrapperComponent,s=t.velocityAnimation.equalToMove,l=Date.now();if(n&&a&&o){var d=He(o,s),u=r.x-n.x,p=r.y-n.y,c=u/d,v=p/d,m=l-a,h=u*u+p*p,S=Math.sqrt(h)/m;i.velocity={velocityX:c,velocityY:v,total:S}}i.lastMousePosition=r,i.velocityTime=l}}function Ve(i){var r=i.velocity,e=i.bounds,n=i.setup,a=i.wrapperComponent,t=Be(i);if(!(!t||!r||!e||!a)){var o=r.velocityX,s=r.velocityY,l=r.total,d=e.maxPositionX,u=e.minPositionX,p=e.maxPositionY,c=e.minPositionY,v=n.limitToBounds,m=n.alignmentAnimation,h=n.zoomAnimation,S=n.panning,Y=S.lockAxisY,x=S.lockAxisX,C=h.animationType,k=m.sizeX,j=m.sizeY,E=m.velocityAlignmentTime,O=E,N=Ze(i,l),M=Math.max(N,O),L=V(i,k),Z=V(i,j),H=L*a.offsetWidth/100,K=Z*a.offsetHeight/100,U=d+H,g=u-H,X=p+K,A=c-K,w=i.transformState,y=new Date().getTime();Ki(i,C,M,function($){var z=i.transformState,I=z.scale,fi=z.positionX,pi=z.positionY,oe=new Date().getTime()-y,se=oe/O,le=Vi[m.animationType],Xi=1-le(Math.min(1,se)),xi=1-$,Ai=fi+o*xi,Ei=pi+s*xi,ue=Di(Ai,w.positionX,fi,x,v,u,d,g,U,Xi),de=Di(Ei,w.positionY,pi,Y,v,c,p,A,X,Xi);(fi!==Ai||pi!==Ei)&&i.setTransformState(I,ue,de)})}}function Wi(i,r){var e=i.transformState.scale;B(i),G(i,e),window.TouchEvent!==void 0&&r instanceof TouchEvent?Oe(i,r):ke(i,r)}function Qi(i){var r=i.transformState.scale,e=i.setup,n=e.minScale,a=e.alignmentAnimation,t=a.disabled,o=a.sizeX,s=a.sizeY,l=a.animationTime,d=a.animationType,u=t||r<n||!o&&!s;if(!u){var p=Me(i);p&&F(i,p,l,d)}}function ki(i,r,e){var n=i.startCoords,a=i.setup,t=a.alignmentAnimation,o=t.sizeX,s=t.sizeY;if(n){var l=Ne(i,r,e),d=l.x,u=l.y,p=V(i,o),c=V(i,s);Re(i,{x:d,y:u}),$i(i,d,u,p,c)}}function Fe(i){if(i.isPanning){var r=i.setup.panning.velocityDisabled,e=i.velocity,n=i.wrapperComponent,a=i.contentComponent;i.isPanning=!1,i.animate=!1,i.animation=null;var t=n==null?void 0:n.getBoundingClientRect(),o=a==null?void 0:a.getBoundingClientRect(),s=(t==null?void 0:t.width)||0,l=(t==null?void 0:t.height)||0,d=(o==null?void 0:o.width)||0,u=(o==null?void 0:o.height)||0,p=s<d||l<u,c=!r&&e&&(e==null?void 0:e.total)>.1&&p;c?Ve(i):Qi(i)}}function Ci(i,r,e,n){var a=i.setup,t=a.minScale,o=a.maxScale,s=a.limitToBounds,l=ri(W(r,2),t,o,0,!1),d=G(i,l),u=ui(i,e,n,l,d,s),p=u.x,c=u.y;return{scale:l,positionX:p,positionY:c}}function Ui(i,r,e){var n=i.transformState.scale,a=i.wrapperComponent,t=i.setup,o=t.minScale,s=t.limitToBounds,l=t.zoomAnimation,d=l.disabled,u=l.animationTime,p=l.animationType,c=d||n>=o;if((n>=1||s)&&Qi(i),!(c||!a||!i.mounted)){var v=r||a.offsetWidth/2,m=e||a.offsetHeight/2,h=Ci(i,o,v,m);h&&F(i,h,u,p)}}var R=function(){return R=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}return r},R.apply(this,arguments)};function Oi(i,r,e){if(e||arguments.length===2)for(var n=0,a=r.length,t;n<a;n++)(t||!(n in r))&&(t||(t=Array.prototype.slice.call(r,0,n)),t[n]=r[n]);return i.concat(t||Array.prototype.slice.call(r))}var ti={previousScale:1,scale:1,positionX:0,positionY:0},ii={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},wi={wrapperClass:"react-transform-wrapper",contentClass:"react-transform-component"},qi=function(i){var r,e,n,a;return{previousScale:(r=i.initialScale)!==null&&r!==void 0?r:ti.scale,scale:(e=i.initialScale)!==null&&e!==void 0?e:ti.scale,positionX:(n=i.initialPositionX)!==null&&n!==void 0?n:ti.positionX,positionY:(a=i.initialPositionY)!==null&&a!==void 0?a:ti.positionY}},Mi=function(i){var r=R({},ii);return Object.keys(i).forEach(function(e){var n=typeof i[e]<"u",a=typeof ii[e]<"u";if(a&&n){var t=Object.prototype.toString.call(ii[e]),o=t==="[object Object]",s=t==="[object Array]";o?r[e]=R(R({},ii[e]),i[e]):s?r[e]=Oi(Oi([],ii[e],!0),i[e],!0):r[e]=i[e]}}),r},Gi=function(i,r,e){var n=i.transformState.scale,a=i.wrapperComponent,t=i.setup,o=t.maxScale,s=t.minScale,l=t.zoomAnimation,d=t.smooth,u=l.size;if(!a)throw new Error("Wrapper is not mounted");var p=d?n*Math.exp(r*e):n+r*e,c=ri(W(p,3),s,o,u,!1);return c};function Ji(i,r,e,n,a){var t=i.wrapperComponent,o=i.transformState,s=o.scale,l=o.positionX,d=o.positionY;if(!t)return console.error("No WrapperComponent found");var u=t.offsetWidth,p=t.offsetHeight,c=(u/2-l)/s,v=(p/2-d)/s,m=Gi(i,r,e),h=Ci(i,m,c,v);if(!h)return console.error("Error during zoom event. New transformation state was not calculated.");F(i,h,n,a)}function Ii(i,r,e,n){var a=i.setup,t=i.wrapperComponent,o=a.limitToBounds,s=qi(i.props),l=i.transformState,d=l.scale,u=l.positionX,p=l.positionY;if(t){var c=Pi(i,s.scale),v=ni(s.positionX,s.positionY,c,o,0,0,t),m={scale:s.scale,positionX:v.x,positionY:v.y};d===s.scale&&u===s.positionX&&p===s.positionY||(n==null||n(),F(i,m,r,e))}}function Ke(i,r,e,n){var a=i.getBoundingClientRect(),t=r.getBoundingClientRect(),o=e.getBoundingClientRect(),s=t.x*n.scale,l=t.y*n.scale;return{x:(a.x-o.x+s)/n.scale,y:(a.y-o.y+l)/n.scale}}function $e(i,r,e){var n=i.wrapperComponent,a=i.contentComponent,t=i.transformState,o=i.setup,s=o.limitToBounds,l=o.minScale,d=o.maxScale;if(!n||!a)return t;var u=n.getBoundingClientRect(),p=r.getBoundingClientRect(),c=Ke(r,n,a,t),v=c.x,m=c.y,h=p.width/t.scale,S=p.height/t.scale,Y=n.offsetWidth/h,x=n.offsetHeight/S,C=ri(e||Math.min(Y,x),l,d,0,!1),k=(u.width-h*C)/2,j=(u.height-S*C)/2,E=(u.left-v)*C+k,O=(u.top-m)*C+j,N=Pi(i,C),M=ni(E,O,N,s,0,0,n),L=M.x,Z=M.y;return{positionX:L,positionY:Z,scale:C}}var Qe=function(i){return function(r,e,n){r===void 0&&(r=.5),e===void 0&&(e=300),n===void 0&&(n="easeOut"),Ji(i,1,r,e,n)}},Ue=function(i){return function(r,e,n){r===void 0&&(r=.5),e===void 0&&(e=300),n===void 0&&(n="easeOut"),Ji(i,-1,r,e,n)}},qe=function(i){return function(r,e,n,a,t){a===void 0&&(a=300),t===void 0&&(t="easeOut");var o=i.transformState,s=o.positionX,l=o.positionY,d=o.scale,u=i.wrapperComponent,p=i.contentComponent,c=i.setup.disabled;if(!(c||!u||!p)){var v={positionX:Number.isNaN(r)?s:r,positionY:Number.isNaN(e)?l:e,scale:Number.isNaN(n)?d:n};F(i,v,a,t)}}},Ge=function(i){return function(r,e){r===void 0&&(r=200),e===void 0&&(e="easeOut"),Ii(i,r,e)}},Je=function(i){return function(r,e,n){e===void 0&&(e=200),n===void 0&&(n="easeOut");var a=i.transformState,t=i.wrapperComponent,o=i.contentComponent;if(t&&o){var s=ie(r||a.scale,t,o);F(i,s,e,n)}}},Ie=function(i){return function(r,e,n,a){n===void 0&&(n=600),a===void 0&&(a="easeOut"),B(i);var t=i.wrapperComponent,o=typeof r=="string"?document.getElementById(r):r;if(t&&o&&t.contains(o)){var s=$e(i,o,e);F(i,s,n,a)}}},Si=function(i){return{instance:i,zoomIn:Qe(i),zoomOut:Ue(i),setTransform:qe(i),resetTransform:Ge(i),centerView:Je(i),zoomToElement:Ie(i)}},en=function(i){return{instance:i,state:i.transformState}},b=function(i){var r={};return Object.assign(r,en(i)),Object.assign(r,Si(i)),r},ci=!1;function vi(){try{var i={get passive(){return ci=!0,!1}};return i}catch{return ci=!1,ci}}var ai=".".concat(wi.wrapperClass),di=function(i,r){return r.some(function(e){return i.matches("".concat(ai," ").concat(e,", ").concat(ai," .").concat(e,", ").concat(ai," ").concat(e," *, ").concat(ai," .").concat(e," *"))})},yi=function(i){i&&clearTimeout(i)},nn=function(i,r,e){return"translate(".concat(i,"px, ").concat(r,"px) scale(").concat(e,")")},ie=function(i,r,e){var n=e.offsetWidth*i,a=e.offsetHeight*i,t=(r.offsetWidth-n)/2,o=(r.offsetHeight-a)/2;return{scale:i,positionX:t,positionY:o}};function rn(i){return function(r){i.forEach(function(e){typeof e=="function"?e(r):e!=null&&(e.current=r)})}}var tn=function(i,r){var e=i.setup.wheel,n=e.disabled,a=e.wheelDisabled,t=e.touchPadDisabled,o=e.excluded,s=i.isInitialized,l=i.isPanning,d=r.target,u=s&&!l&&!n&&d;if(!u||a&&!r.ctrlKey||t&&r.ctrlKey)return!1;var p=di(d,o);return!p},an=function(i){return i?i.deltaY<0?1:-1:0};function on(i,r){var e=an(i),n=ge(r,e);return n}function ee(i,r,e){var n=r.getBoundingClientRect(),a=0,t=0;if("clientX"in i)a=(i.clientX-n.left)/e,t=(i.clientY-n.top)/e;else{var o=i.touches[0];a=(o.clientX-n.left)/e,t=(o.clientY-n.top)/e}return(Number.isNaN(a)||Number.isNaN(t))&&console.error("No mouse or touch offset found"),{x:a,y:t}}var sn=function(i,r,e,n,a){var t=i.transformState.scale,o=i.wrapperComponent,s=i.setup,l=s.maxScale,d=s.minScale,u=s.zoomAnimation,p=s.disablePadding,c=u.size,v=u.disabled;if(!o)throw new Error("Wrapper is not mounted");var m=t+r*e;if(a)return m;var h=n?!1:!v,S=ri(W(m,3),d,l,c,h&&!p);return S},ln=function(i,r){var e=i.previousWheelEvent,n=i.transformState.scale,a=i.setup,t=a.maxScale,o=a.minScale;return e?n<t||n>o||Math.sign(e.deltaY)!==Math.sign(r.deltaY)||e.deltaY>0&&e.deltaY<r.deltaY||e.deltaY<0&&e.deltaY>r.deltaY||Math.sign(e.deltaY)!==Math.sign(r.deltaY):!1},un=function(i,r){var e=i.setup.pinch,n=e.disabled,a=e.excluded,t=i.isInitialized,o=r.target,s=t&&!n&&o;if(!s)return!1;var l=di(o,a);return!l},dn=function(i){var r=i.setup.pinch.disabled,e=i.isInitialized,n=i.pinchStartDistance,a=e&&!r&&n;return!!a},fn=function(i,r,e){var n=e.getBoundingClientRect(),a=i.touches,t=W(a[0].clientX-n.left,5),o=W(a[0].clientY-n.top,5),s=W(a[1].clientX-n.left,5),l=W(a[1].clientY-n.top,5);return{x:(t+s)/2/r,y:(o+l)/2/r}},ne=function(i){return Math.sqrt(Math.pow(i.touches[0].pageX-i.touches[1].pageX,2)+Math.pow(i.touches[0].pageY-i.touches[1].pageY,2))},pn=function(i,r){var e=i.pinchStartScale,n=i.pinchStartDistance,a=i.setup,t=a.maxScale,o=a.minScale,s=a.zoomAnimation,l=a.disablePadding,d=s.size,u=s.disabled;if(!e||n===null||!r)throw new Error("Pinch touches distance was not provided");if(r<0)return i.transformState.scale;var p=r/n,c=p*e;return ri(W(c,2),o,t,d,!u&&!l)},cn=160,vn=100,mn=function(i,r){var e=i.props,n=e.onWheelStart,a=e.onZoomStart;i.wheelStopEventTimer||(B(i),T(b(i),r,n),T(b(i),r,a))},hn=function(i,r){var e=i.props,n=e.onWheel,a=e.onZoom,t=i.contentComponent,o=i.setup,s=i.transformState,l=s.scale,d=o.limitToBounds,u=o.centerZoomedOut,p=o.zoomAnimation,c=o.wheel,v=o.disablePadding,m=o.smooth,h=p.size,S=p.disabled,Y=c.step,x=c.smoothStep;if(!t)throw new Error("Component not mounted");r.preventDefault(),r.stopPropagation();var C=on(r,null),k=m?x*Math.abs(r.deltaY):Y,j=sn(i,C,k,!r.ctrlKey);if(l!==j){var E=G(i,j),O=ee(r,t,l),N=S||h===0||u||v,M=d&&N,L=ui(i,O.x,O.y,j,E,M),Z=L.x,H=L.y;i.previousWheelEvent=r,i.setTransformState(j,Z,H),T(b(i),r,n),T(b(i),r,a)}},gn=function(i,r){var e=i.props,n=e.onWheelStop,a=e.onZoomStop;yi(i.wheelAnimationTimer),i.wheelAnimationTimer=setTimeout(function(){i.mounted&&(Ui(i,r.x,r.y),i.wheelAnimationTimer=null)},vn);var t=ln(i,r);t&&(yi(i.wheelStopEventTimer),i.wheelStopEventTimer=setTimeout(function(){i.mounted&&(i.wheelStopEventTimer=null,T(b(i),r,n),T(b(i),r,a))},cn))},re=function(i){for(var r=0,e=0,n=0;n<2;n+=1)r+=i.touches[n].clientX,e+=i.touches[n].clientY;var a=r/2,t=e/2;return{x:a,y:t}},wn=function(i,r){var e=ne(r);i.pinchStartDistance=e,i.lastDistance=e,i.pinchStartScale=i.transformState.scale,i.isPanning=!1;var n=re(r);i.pinchLastCenterX=n.x,i.pinchLastCenterY=n.y,B(i)},Sn=function(i,r){var e=i.contentComponent,n=i.pinchStartDistance,a=i.wrapperComponent,t=i.transformState.scale,o=i.setup,s=o.limitToBounds,l=o.centerZoomedOut,d=o.zoomAnimation,u=o.alignmentAnimation,p=d.disabled,c=d.size;if(!(n===null||!e)){var v=fn(r,t,e);if(!(!Number.isFinite(v.x)||!Number.isFinite(v.y))){var m=ne(r),h=pn(i,m),S=re(r),Y=S.x-(i.pinchLastCenterX||0),x=S.y-(i.pinchLastCenterY||0);if(!(h===t&&Y===0&&x===0)){i.pinchLastCenterX=S.x,i.pinchLastCenterY=S.y;var C=G(i,h),k=p||c===0||l,j=s&&k,E=ui(i,v.x,v.y,h,C,j),O=E.x,N=E.y;i.pinchMidpoint=v,i.lastDistance=m;var M=u.sizeX,L=u.sizeY,Z=V(i,M),H=V(i,L),K=O+Y,U=N+x,g=ni(K,U,C,s,Z,H,a),X=g.x,A=g.y;i.setTransformState(h,X,A)}}}},yn=function(i){var r=i.pinchMidpoint;i.velocity=null,i.lastDistance=null,i.pinchMidpoint=null,i.pinchStartScale=null,i.pinchStartDistance=null,Ui(i,r==null?void 0:r.x,r==null?void 0:r.y)},te=function(i,r){var e=i.props.onZoomStop,n=i.setup.doubleClick.animationTime;yi(i.doubleClickStopEventTimer),i.doubleClickStopEventTimer=setTimeout(function(){i.doubleClickStopEventTimer=null,T(b(i),r,e)},n)},bn=function(i,r){var e=i.props,n=e.onZoomStart,a=e.onZoom,t=i.setup.doubleClick,o=t.animationTime,s=t.animationType;T(b(i),r,n),Ii(i,o,s,function(){return T(b(i),r,a)}),te(i,r)};function Pn(i,r){return i==="toggle"?r===1?1:-1:i==="zoomOut"?-1:1}function Cn(i,r){var e=i.setup,n=i.doubleClickStopEventTimer,a=i.transformState,t=i.contentComponent,o=a.scale,s=i.props,l=s.onZoomStart,d=s.onZoom,u=e.doubleClick,p=u.disabled,c=u.mode,v=u.step,m=u.animationTime,h=u.animationType;if(!p&&!n){if(c==="reset")return bn(i,r);if(!t)return console.error("No ContentComponent found");var S=Pn(c,i.transformState.scale),Y=Gi(i,S,v);if(o!==Y){T(b(i),r,l);var x=ee(r,t,o),C=Ci(i,Y,x.x,x.y);if(!C)return console.error("Error during zoom event. New transformation state was not calculated.");T(b(i),r,d),F(i,C,m,h),te(i,r)}}}var Tn=function(i,r){var e=i.isInitialized,n=i.setup,a=i.wrapperComponent,t=n.doubleClick,o=t.disabled,s=t.excluded,l=r.target,d=a==null?void 0:a.contains(l),u=e&&l&&d&&!o;if(!u)return!1;var p=di(l,s);return!p},Yn=function(){function i(r){var e=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){e.initializeWindowEvents()},this.unmount=function(){e.cleanupWindowEvents()},this.update=function(n){e.props=n,G(e,e.transformState.scale),e.setup=Mi(n)},this.initializeWindowEvents=function(){var n,a,t=vi(),o=(n=e.wrapperComponent)===null||n===void 0?void 0:n.ownerDocument,s=o==null?void 0:o.defaultView;(a=e.wrapperComponent)===null||a===void 0||a.addEventListener("wheel",e.onWheelPanning,t),s==null||s.addEventListener("mousedown",e.onPanningStart,t),s==null||s.addEventListener("mousemove",e.onPanning,t),s==null||s.addEventListener("mouseup",e.onPanningStop,t),o==null||o.addEventListener("mouseleave",e.clearPanning,t),s==null||s.addEventListener("keyup",e.setKeyUnPressed,t),s==null||s.addEventListener("keydown",e.setKeyPressed,t)},this.cleanupWindowEvents=function(){var n,a,t=vi(),o=(n=e.wrapperComponent)===null||n===void 0?void 0:n.ownerDocument,s=o==null?void 0:o.defaultView;s==null||s.removeEventListener("mousedown",e.onPanningStart,t),s==null||s.removeEventListener("mousemove",e.onPanning,t),s==null||s.removeEventListener("mouseup",e.onPanningStop,t),o==null||o.removeEventListener("mouseleave",e.clearPanning,t),s==null||s.removeEventListener("keyup",e.setKeyUnPressed,t),s==null||s.removeEventListener("keydown",e.setKeyPressed,t),document.removeEventListener("mouseleave",e.clearPanning,t),B(e),(a=e.observer)===null||a===void 0||a.disconnect()},this.handleInitializeWrapperEvents=function(n){var a=vi();n.addEventListener("wheel",e.onWheelZoom,a),n.addEventListener("dblclick",e.onDoubleClick,a),n.addEventListener("touchstart",e.onTouchPanningStart,a),n.addEventListener("touchmove",e.onTouchPanning,a),n.addEventListener("touchend",e.onTouchPanningStop,a)},this.handleInitialize=function(n){var a=e.setup.centerOnInit;e.applyTransformation(),e.onInitCallbacks.forEach(function(t){return t(b(e))}),a&&(e.setCenter(),e.observer=new ResizeObserver(function(){var t,o=n.offsetWidth,s=n.offsetHeight;(o>0||s>0)&&(e.onInitCallbacks.forEach(function(l){return l(b(e))}),e.setCenter(),(t=e.observer)===null||t===void 0||t.disconnect())}),setTimeout(function(){var t;(t=e.observer)===null||t===void 0||t.disconnect()},5e3),e.observer.observe(n))},this.onWheelZoom=function(n){var a=e.setup.disabled;if(!a){var t=tn(e,n);if(t){var o=e.isPressingKeys(e.setup.wheel.activationKeys);o&&(mn(e,n),hn(e,n),gn(e,n))}}},this.onWheelPanning=function(n){var a=e.setup,t=a.disabled,o=a.wheel,s=a.panning;if(!(!e.wrapperComponent||!e.contentComponent||t||!o.wheelDisabled||s.disabled||!s.wheelPanning||n.ctrlKey)){n.preventDefault(),n.stopPropagation();var l=e.transformState,d=l.positionX,u=l.positionY,p=d-n.deltaX,c=u-n.deltaY,v=s.lockAxisX?d:p,m=s.lockAxisY?u:c,h=e.setup.alignmentAnimation,S=h.sizeX,Y=h.sizeY,x=V(e,S),C=V(e,Y);v===d&&m===u||$i(e,v,m,x,C)}},this.onPanningStart=function(n){var a=e.setup.disabled,t=e.props.onPanningStart;if(!a){var o=_i(e,n);if(o){var s=e.isPressingKeys(e.setup.panning.activationKeys);s&&(n.button===0&&!e.setup.panning.allowLeftClickPan||n.button===1&&!e.setup.panning.allowMiddleClickPan||n.button===2&&!e.setup.panning.allowRightClickPan||(n.preventDefault(),n.stopPropagation(),B(e),Wi(e,n),T(b(e),n,t)))}}},this.onPanning=function(n){var a=e.setup.disabled,t=e.props.onPanning;if(!a){var o=ji(e);if(o){var s=e.isPressingKeys(e.setup.panning.activationKeys);s&&(n.preventDefault(),n.stopPropagation(),ki(e,n.clientX,n.clientY),T(b(e),n,t))}}},this.onPanningStop=function(n){var a=e.props.onPanningStop;e.isPanning&&(Fe(e),T(b(e),n,a))},this.onPinchStart=function(n){var a=e.setup.disabled,t=e.props,o=t.onPinchingStart,s=t.onZoomStart;if(!a){var l=un(e,n);l&&(wn(e,n),B(e),T(b(e),n,o),T(b(e),n,s))}},this.onPinch=function(n){var a=e.setup.disabled,t=e.props,o=t.onPinching,s=t.onZoom;if(!a){var l=dn(e);l&&(n.preventDefault(),n.stopPropagation(),Sn(e,n),T(b(e),n,o),T(b(e),n,s))}},this.onPinchStop=function(n){var a=e.props,t=a.onPinchingStop,o=a.onZoomStop;e.pinchStartScale&&(yn(e),T(b(e),n,t),T(b(e),n,o))},this.onTouchPanningStart=function(n){var a=e.setup.disabled,t=e.props.onPanningStart;if(!a){var o=_i(e,n);if(o){var s=e.lastTouch&&+new Date-e.lastTouch<200;if(!s){e.lastTouch=+new Date,B(e);var l=n.touches,d=l.length===1,u=l.length===2;d&&(B(e),Wi(e,n),T(b(e),n,t)),u&&e.onPinchStart(n)}}}},this.onTouchPanning=function(n){var a=e.setup.disabled,t=e.props.onPanning;if(e.isPanning&&n.touches.length===1){if(a)return;var o=ji(e);if(!o)return;n.preventDefault(),n.stopPropagation();var s=n.touches[0];ki(e,s.clientX,s.clientY),T(b(e),n,t)}else n.touches.length>1&&e.onPinch(n)},this.onTouchPanningStop=function(n){e.onPanningStop(n),e.onPinchStop(n)},this.onDoubleClick=function(n){var a=e.setup.disabled;if(!a){var t=Tn(e,n);t&&Cn(e,n)}},this.clearPanning=function(n){e.isPanning&&e.onPanningStop(n)},this.setKeyPressed=function(n){e.pressedKeys[n.key]=!0},this.setKeyUnPressed=function(n){e.pressedKeys[n.key]=!1},this.isPressingKeys=function(n){return n.length?!!n.find(function(a){return e.pressedKeys[a]}):!0},this.setTransformState=function(n,a,t){var o=e.props.onTransformed;if(!Number.isNaN(n)&&!Number.isNaN(a)&&!Number.isNaN(t)){n!==e.transformState.scale&&(e.transformState.previousScale=e.transformState.scale,e.transformState.scale=n),e.transformState.positionX=a,e.transformState.positionY=t,e.applyTransformation();var s=b(e);e.onChangeCallbacks.forEach(function(l){return l(s)}),T(s,{scale:n,positionX:a,positionY:t},o)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(e.wrapperComponent&&e.contentComponent){var n=ie(e.transformState.scale,e.wrapperComponent,e.contentComponent);e.setTransformState(n.scale,n.positionX,n.positionY)}},this.handleTransformStyles=function(n,a,t){return e.props.customTransform?e.props.customTransform(n,a,t):nn(n,a,t)},this.applyTransformation=function(){if(!(!e.mounted||!e.contentComponent)){var n=e.transformState,a=n.scale,t=n.positionX,o=n.positionY,s=e.handleTransformStyles(t,o,a);e.contentComponent.style.transform=s}},this.getContext=function(){return b(e)},this.onChange=function(n){return e.onChangeCallbacks.has(n)||e.onChangeCallbacks.add(n),function(){e.onChangeCallbacks.delete(n)}},this.onInit=function(n){return e.onInitCallbacks.has(n)||e.onInitCallbacks.add(n),function(){e.onInitCallbacks.delete(n)}},this.init=function(n,a){e.cleanupWindowEvents(),e.wrapperComponent=n,e.contentComponent=a,G(e,e.transformState.scale),e.handleInitializeWrapperEvents(n),e.handleInitialize(a),e.initializeWindowEvents(),e.isInitialized=!0;var t=b(e);T(t,void 0,e.props.onInit)},this.props=r,this.setup=Mi(this.props),this.transformState=qi(this.props)}return i}(),Ti=D.createContext(null),Xn=function(i,r){return typeof i=="function"?i(r):i},xn=D.forwardRef(function(i,r){var e=P.useRef(new Yn(i)).current,n=Xn(i.children,Si(e));return P.useImperativeHandle(r,function(){return Si(e)},[e]),P.useEffect(function(){e.update(i)},[e,i]),D.createElement(Ti.Provider,{value:e},n)});D.forwardRef(function(i,r){var e=P.useRef(null),n=P.useContext(Ti);return P.useEffect(function(){return n.onChange(function(a){if(e.current){var t=0,o=0;e.current.style.transform=n.handleTransformStyles(t,o,1/a.instance.transformState.scale)}})},[n]),D.createElement("div",R({},i,{ref:rn([e,r])}))});function An(i,r){r===void 0&&(r={});var e=r.insertAt;if(!(!i||typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",e==="top"&&n.firstChild?n.insertBefore(a,n.firstChild):n.appendChild(a),a.styleSheet?a.styleSheet.cssText=i:a.appendChild(document.createTextNode(i))}}var En=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,Ni={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};An(En);var zn=function(i){var r=i.children,e=i.wrapperClass,n=e===void 0?"":e,a=i.contentClass,t=a===void 0?"":a,o=i.wrapperStyle,s=i.contentStyle,l=i.wrapperProps,d=l===void 0?{}:l,u=i.contentProps,p=u===void 0?{}:u,c=P.useContext(Ti),v=c.init,m=c.cleanupWindowEvents,h=P.useRef(null),S=P.useRef(null);return P.useEffect(function(){var Y=h.current,x=S.current;return Y!==null&&x!==null&&v&&(v==null||v(Y,x)),function(){m==null||m()}},[]),D.createElement("div",R({},d,{ref:h,className:"".concat(wi.wrapperClass," ").concat(Ni.wrapper," ").concat(n),style:o}),D.createElement("div",R({},p,{ref:S,className:"".concat(wi.contentClass," ").concat(Ni.content," ").concat(t),style:s}),r))};const _n=_("div",{d:"flex",align:"center",justify:"center",direction:"column",position:"relative",w:"100%"}),jn=_("div",{d:"flex",align:"flex-end",justify:"flex-end",gap:"10px",position:"relative",w:"100%",button:{maxW:"205px",h:"70px",svg:{fill:"#00BAFF"},span:{d:"flex",align:"center",gap:"5px",justify:"center",color:"#828282"}},"@sm":{button:{justify:"center",gap:"2px",padding:"0",maxW:"33%",h:"45px",fs:"12px",span:{gap:"0px"},svg:{display:"none"}}}}),Dn=_("div",{d:"flex",align:"flex-end",justify:"flex-end",direction:"column",mt:"10px",padding:"15px 0px",bg:"#141423",br:"15px",w:"100%"}),Wn=_("div",{d:"grid",gap:"10px",gridTemplateAreas:`
    "currentLocation destination"
    "team team"
  `,px:"20px",pb:"10px",w:"100%","@sm":{}}),kn=_("div",{d:"block",gridArea:"currentLocation",p:{fs:"24px",ff:"$heading",color:"#fff",textTransform:"capitalize","&:not(:first-child)":{fs:"14px"}},"@sm":{p:{fs:"14px","&:not(:first-child)":{fs:"10px",color:"#8A8A8A"}}}}),On=_("div",{d:"block",gridArea:"destination",w:"max-content",ml:"auto",p:{textAlign:"right",fs:"24px",ff:"$heading",color:"#fff",textTransform:"capitalize","&:not(:first-child)":{fs:"14px"}},"@sm":{p:{fs:"14px","&:not(:first-child)":{fs:"10px",color:"#8A8A8A"}}}}),Mn=_("div",{d:"flex",gridArea:"team",w:"max-content",ml:"auto",">div":{ml:"5px","&:nth-child(3)":{ml:"25px"}},"@sm":{}}),Q=_("div",{d:"flex",align:"center",gap:"5px",direction:"column",img:{w:"35px",h:"35px"},span:{fs:"12px",ff:"$heading",color:"#A6A6A6"},"@sm":{}}),Nn=_("div",{d:"flex",w:"100%",px:"10px",".react-transform-wrapper":{maxH:"calc(100vh - 360px)"},"@sm":{".react-transform-wrapper":{maxH:"calc(100vh - 290px)"}},"@media (max-width: 768px) and (max-height: 500px)":{".react-transform-wrapper":{maxH:"calc(100vh)"}}}),Li=_("div",{d:"flex",w:"1420px",h:"710px",position:"relative",img:{w:"1420px",h:"710px"}}),Ln=_("button",{d:"flex",align:"center",justify:"center",position:"absolute",border:"1px solid #000",zIndex:1,w:"35.5px",h:"35.5px",svg:{w:"20px",h:"20px"},variants:{isSelected:{true:{bg:"rgba(0, 186, 255, 0.58)"}},type:{empty:{},arena:{},youControl:{},miningEvent:{zIndex:2},portal:{zIndex:2},flag:{}}}}),Bn=_("div",{d:"flex",align:"center",flexWrap:"wrap",gap:"20px",mt:"10px",pl:"20px",w:"100%"}),ei=_("div",{d:"flex",align:"center",justify:"center",gap:"5px",color:"#fff",ff:"$heading",fs:"10px",svg:{w:"17px",h:"17px"},"&:nth-child(1)":{fill:"#80FF00"},"&:nth-child(2)":{fill:"#EB094D"},"&:nth-child(3)":{fill:"#FFB800"}}),Zn=_("div",{d:"flex",align:"center",justify:"center",direction:"column",position:"relative",zIndex:999,span:{position:"absolute",top:"-8px",left:"50%",transform:"translate(-50%, -50%)",textTransform:"capitalize",padding:"2px 5px",bg:"#333333",color:"#fff",ff:"$heading",fs:"10px",br:"5px"}}),Hn=_("div",{d:"flex",align:"center",justify:"center",direction:"column",position:"relative",zIndex:999,span:{position:"absolute",top:"-8px",left:"50%",transform:"translate(-50%, -50%)",color:"#fff",fw:900,ff:"$heading",fs:"16px",br:"5px","-webkit-text-stroke":"1px #000"}}),mi=i=>{const r=new Date(new Date().toUTCString().substring(0,25)),e=+i-+r;let n={days:0,hours:0,minutes:0,seconds:0};return e>0&&(n={days:Math.floor(e/(1e3*60*60)/24),hours:Math.floor(e/(1e3*60*60)%24),minutes:Math.floor(e/1e3/60%60),seconds:Math.floor(e/1e3%60)}),{...n,difference:e}},Bi=i=>{if(i&&((i==null?void 0:i.seconds)>0||(i==null?void 0:i.minutes)>0||(i==null?void 0:i.hours)>0)){const r=i.hours>0?`${i.hours>9?`${i.hours}:`:`0${i.hours}:`}`:"",e=i.minutes>0?`${i.minutes>9?i.minutes:`0${i.minutes}`}`:"00",n=i.seconds>9?i.seconds:`0${i.seconds}`;return`${r}${e}:${n}`}return"MINE"};function bi(i){"@babel/helpers - typeof";return bi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},bi(i)}function ae(i){if(i===null||i===!0||i===!1)return NaN;var r=Number(i);return isNaN(r)?r:r<0?Math.ceil(r):Math.floor(r)}function Yi(i,r){if(r.length<i)throw new TypeError(i+" argument"+(i>1?"s":"")+" required, but only "+r.length+" present")}function Rn(i){Yi(1,arguments);var r=Object.prototype.toString.call(i);return i instanceof Date||bi(i)==="object"&&r==="[object Date]"?new Date(i.getTime()):typeof i=="number"||r==="[object Number]"?new Date(i):((typeof i=="string"||r==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Vn(i,r){Yi(2,arguments);var e=Rn(i).getTime(),n=ae(r);return new Date(e+n)}function Fn(i,r){Yi(2,arguments);var e=ae(r);return Vn(i,e*1e3)}const Kn=fe((i,r)=>({arenaSelected:null,setArenaSelected:e=>i({arenaSelected:e})}));function $n(i){var r;return i?((r=i[0])==null?void 0:r.toUpperCase())+i.slice(1):""}function oi(i,r){var e,n;if(console.log({err:i}),!!i)return i instanceof hi.RpcError&&console.log(JSON.stringify(i.json,null,2)),i&&(i!=null&&i.message)?$n((n=(e=i==null?void 0:i.message)==null?void 0:e.replace("assertion failure with message: ",""))==null?void 0:n.replace("- 3","")):r??i.message}const si={position:q.POSITION.TOP_RIGHT,className:"custom-toast-container"};function Qn(){async function i(t,o){try{const s=li.getState().user,l=li.getState().ual;if(!l)throw new Error("UAL is not initialized");if(!s)throw new Error("User is not logged in");const d=s.userType;return l.activeUser instanceof pe?await n(l,t):d==="anchor"?await e(l,t):d==="wax"?await r(t,o):!1}catch(s){return console.log(s),q.error(oi(s),si),!1}}async function r(t,o){const s=li.getState().ual;if(!s)throw new Error("UAL is not initialized");try{const l=await s.activeUser.signTransaction(t,{blocksBehind:3,expireSeconds:1200,...o});return console.log("returned",l),!0}catch(l){return console.log(l),q.error(oi(l),si),!1}}async function e(t,o){try{const s={actions:o.actions.filter(d=>(d==null?void 0:d.account)!=="cpu.mc")},l=await t.activeUser.signTransaction(s,{blocksBehind:3,expireSeconds:1200});return console.log("returned",l),!0}catch(s){return console.log(s),q.error(oi(s),si),!1}}async function n(t,o){console.log("ual-wombat",t);try{const s={actions:o.actions.filter(l=>(l==null?void 0:l.account)!=="cpu.mc")};return await t.activeUser.signTransaction(s,{expireSeconds:120,blocksBehind:3}),!0}catch(s){return console.log(s),q.error(oi(s),si),!1}}async function a(t){const o=localStorage.getItem(`${ce}_server`),l=`https:${ve[Number(o)].value}`,d=new hi.JsonRpc(l,{fetch}),u=new me.JsSignatureProvider(["5KfNZXk82jua4CEnir7KRC4eyG8VaGzgfu6myXRnLLL6mjjsESj"]);return new hi.Api({rpc:d,signatureProvider:u,textDecoder:new TextDecoder,textEncoder:new TextEncoder}).serializeActions(t)}return{executeTransaction:i,serializeActions:a}}async function Un(i,r,e){const{executeTransaction:n}=Qn(),a=qn(i,r,e);return!!await n(a)}function qn(i,r,e){return{actions:[{account:he.FIGHTERTESTS,name:"travel",authorization:[{actor:i.name,permission:i.authorization.permission}],data:{wallet:i.name,x:r,y:e}}]}}const Zi=D.lazy(()=>J(()=>import("./index-b98c51f1.js"),["assets/index-b98c51f1.js","assets/index-d38e97e9.js","assets/index-55fec1ff.css"])),Gn=D.lazy(()=>J(()=>import("./box-gloves-a3386eb2.js"),["assets/box-gloves-a3386eb2.js","assets/index-d38e97e9.js","assets/index-55fec1ff.css"])),Jn=D.lazy(()=>J(()=>import("./travel-arrow-fbd3beba.js"),["assets/travel-arrow-fbd3beba.js","assets/index-d38e97e9.js","assets/index-55fec1ff.css"])),Hi=D.lazy(()=>J(()=>import("./portal-7483643c.js"),["assets/portal-7483643c.js","assets/index-d38e97e9.js","assets/index-55fec1ff.css"])),In=D.lazy(()=>J(()=>import("./flag-334c0857.js"),["assets/flag-334c0857.js","assets/index-d38e97e9.js","assets/index-55fec1ff.css"])),ir=D.lazy(()=>J(()=>import("./index-08d45e79.js"),["assets/index-08d45e79.js","assets/index-d38e97e9.js","assets/index-55fec1ff.css"])),Ri=40,er=20,tr=()=>{var U;const{arenaSelected:i,setArenaSelected:r}=Kn(),{user:e,updatePlayerData:n,updateLandsData:a}=li(),t=P.useRef(null),[o,s]=P.useState([]),[l,d]=P.useState([]),[u,p]=P.useState(null),[c,v]=P.useState(!1),[m,h]=P.useState(8),[S,Y]=P.useState(0),[x,C]=P.useState(!1),[k,j]=P.useState(!0),[E,O]=P.useState({x:0,y:0}),N=P.useCallback(()=>{var $;if(!e)return null;const g=Array.from({length:6},(z,I)=>({number:I+1,x:Math.floor(Math.random()*39),y:Math.floor(Math.random()*19),type:"arena"})),X=Array.from({length:6},(z,I)=>({number:I+1,x:Math.floor(Math.random()*39),y:Math.floor(Math.random()*19),type:"youControl"})),A=new Date(new Date().toUTCString().substring(0,25)),w=Array.from({length:3},()=>{const z=Fn(A,Math.random()*6e3);return{x:Math.floor(Math.random()*39),y:Math.floor(Math.random()*19),type:"miningEvent",expirationDate:z,formattedTimeLeft:Bi(mi(z)),mineTime:mi(z)}}),y=(($=e==null?void 0:e.playerLand)==null?void 0:$.filter(z=>!!z.special_effect).map(z=>({x:z.x-1,y:z.y-1,type:"portal",text:z.special_effect.slice(2,1/0)})))||[];d([...g,...X,...w,...y])},[e]);P.useEffect(()=>{const X=1420/Ri,A=[];for(let w=0;w<Ri;w++){A[w]=[];for(let y=0;y<er;y++)A[w][y]={x:w*X,y:y*X}}s(A),N()},[N]);function M(g,X){switch(X){case"arena":return f.jsxs("svg",{fill:"rgba(235, 9, 77, 0.67)",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("circle",{cx:"50",cy:"50",r:"50"}),f.jsx("text",{x:"50",y:"75",fontSize:"5em",textAnchor:"middle",style:{fill:"white",stroke:"#000",strokeWidth:5,fontWeight:"bold",fontFamily:"Orbitron, sans-serif"},children:g})]});case"youControl":return f.jsxs("svg",{fill:"rgba(173, 255, 0, 0.65)",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("circle",{cx:"50",cy:"50",r:"50"}),f.jsx("text",{x:"50",y:"75",fontSize:"5em",textAnchor:"middle",style:{fill:"white",stroke:"#000",strokeWidth:5,fontWeight:"bold",fontFamily:"Orbitron, sans-serif"},children:g})]});case"miningEvent":return f.jsxs(Hn,{children:[f.jsx("span",{children:g}),f.jsxs("svg",{fill:"#FFB800",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 490 490",children:[f.jsx("text",{x:"50",y:"75",fontSize:"5em",textAnchor:"middle",style:{fill:"white",stroke:"#000",strokeWidth:5,fontWeight:"bold",fontFamily:"Orbitron, sans-serif"},children:g}),f.jsx("polygon",{points:"245,456.701 490,33.299 0,33.299 "})]})]});case"portal":return f.jsxs(Zn,{children:[f.jsx("span",{children:g}),f.jsx(Hi,{})]});case"flag":return f.jsx("svg",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:999},width:"13",height:"18",viewBox:"0 0 13 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M1.08791 17.4499V9.24111L12.4945 5.91144C12.7253 5.8455 12.8901 5.6477 12.8901 5.41693C12.8901 5.18616 12.7582 4.95539 12.5604 4.85649L0.758242 0.043309C0.593407 -0.0226251 0.395604 -0.0226248 0.230769 0.109243C0.0659337 0.208144 0 0.372979 0 0.570781V17.4499H1.08791Z",fill:"#D32C54"})});default:return null}}function L(g){if(!e)return;if((u==null?void 0:u.x)===g.clientX&&(u==null?void 0:u.y)===g.clientY){p(null);return}if(p({x:g.clientX,y:g.clientY}),e.mapX===g.clientX&&e.mapY===g.clientY){Y(0);return}const X=Math.sqrt(Math.pow(e.mapX-g.clientX,2)+Math.pow(e.mapY-g.clientY,2)),A=Math.ceil(X);Y(A),g.type==="arena"?v(!0):v(!1)}function Z(g){r(g)}async function H(){try{if(C(!0),!e||!u||!await Un(e,(u==null?void 0:u.x)+1||0,(u==null?void 0:u.y)+1||0))return;await zi(2e3),await n(),await a(),Y(0),p(null),q.success("Travel successful")}catch(g){console.error(g)}finally{C(!1)}}const K=P.useCallback(async()=>{var X;if(!e||!(t!=null&&t.current))return;await zi(1400);const g=(X=t==null?void 0:t.current)==null?void 0:X.getBoundingClientRect().width;j(!1),O({x:e.x<=20?0:g-1425,y:e.y<=10?0:document.body.clientWidth<760?-288:-360})},[e,t]);return P.useEffect(()=>{K()},[K]),P.useEffect(()=>{const g=setInterval(()=>{var A;const X=(A=l==null?void 0:l.filter(w=>(w==null?void 0:w.formattedTimeLeft)!=="MINE"))==null?void 0:A.map(w=>{if(w.type==="miningEvent"&&(w==null?void 0:w.formattedTimeLeft)!=="MINE"&&(w!=null&&w.expirationDate)){const y=mi(w==null?void 0:w.expirationDate);return{...w,formattedTimeLeft:Bi(y),mineTime:y}}return w});d(X)},1e3);return()=>clearInterval(g)},[l]),i?f.jsx(ir,{}):(console.log(e),f.jsxs(_n,{children:[f.jsxs(jn,{children:[f.jsx(Zi,{disabled:!c,color:"black",onClick:()=>Z("click"),icon:Gn,children:"Enter Arena"}),f.jsxs(Zi,{isLoading:x,disabled:!u||!S||S>(((U=e==null?void 0:e.activestats)==null?void 0:U.action_points)||0)||x,color:"black",onClick:H,icon:Jn,children:["Travel",f.jsxs("span",{children:["- ",S,f.jsx("img",{loading:"lazy",src:"/assets/icons/potion.png",alt:""})]})]})]}),f.jsxs(Dn,{ref:t,children:[f.jsxs(Wn,{children:[f.jsxs(kn,{children:[f.jsx("p",{children:"Current Location"}),!!e&&f.jsxs("p",{children:[e.planet," (",e.x,":",e.y,")"]})]}),f.jsxs(On,{children:[f.jsx("p",{children:"Selected"}),f.jsxs("p",{children:[e==null?void 0:e.planet," ",u&&`(${u==null?void 0:u.x}:${u==null?void 0:u.y})`]}),f.jsx("p",{children:"Arena Level 5"})]}),f.jsxs(Mn,{children:[f.jsx(Q,{children:f.jsx("img",{loading:"lazy",src:"/assets/mock/image.png",alt:""})}),f.jsx(Q,{children:f.jsx("img",{loading:"lazy",src:"/assets/mock/image-1.png",alt:""})}),f.jsxs(Q,{children:[f.jsx("img",{loading:"lazy",src:"/assets/mock/image-2.png",alt:""}),f.jsx("span",{children:"10"})]}),f.jsxs(Q,{children:[f.jsx("img",{loading:"lazy",src:"/assets/mock/image-3.png",alt:""}),f.jsx("span",{children:"3"})]}),f.jsxs(Q,{children:[f.jsx("img",{loading:"lazy",src:"/assets/mock/image-4.png",alt:""}),f.jsx("span",{children:"4"})]}),f.jsxs(Q,{children:[f.jsx("img",{loading:"lazy",src:"/assets/mock/image-5.png",alt:""}),f.jsx("span",{children:"5"})]}),f.jsxs(Q,{children:[f.jsx("img",{loading:"lazy",src:"/assets/mock/image-6.png",alt:""}),f.jsx("span",{children:"3"})]})]})]}),(e==null?void 0:e.playerLand)&&f.jsx(Nn,{children:k?f.jsx(Li,{}):f.jsx(xn,{disablePadding:!0,initialScale:1,initialPositionX:E==null?void 0:E.x,initialPositionY:E==null?void 0:E.y,maxScale:2,doubleClick:{step:m},onPanningStop:g=>{g.state.scale!==1?h(-8):h(8)},children:f.jsx(zn,{children:f.jsxs(Li,{children:[f.jsx("img",{loading:"lazy",src:`/assets/maps/${e==null?void 0:e.planet}.jpg`,alt:""}),o.map((g,X)=>g.map((A,w)=>{const y=l==null?void 0:l.find($=>$.x===X&&$.y===w);return f.jsxs(Ln,{onClick:()=>L({clientX:X,clientY:w,type:(y==null?void 0:y.type)||""}),isSelected:(u==null?void 0:u.x)===X&&(u==null?void 0:u.y)===w,type:(y==null?void 0:y.type)||"empty",style:{top:A.y,left:A.x},children:[!!y&&M((y==null?void 0:y.formattedTimeLeft)||(y==null?void 0:y.number)||(y==null?void 0:y.text)||"",(y==null?void 0:y.type)||""),e.mapX===X&&e.mapY===w&&M("","flag")]},A.x+A.y)}))]})})})}),f.jsxs(Bn,{children:[f.jsxs(ei,{children:[f.jsx("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("circle",{cx:"50",cy:"50",r:"50"})}),f.jsx("span",{children:"Arena"})]}),f.jsxs(ei,{children:[f.jsx("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("circle",{cx:"50",cy:"50",r:"50"})}),f.jsx("span",{children:"Arena you control"})]}),f.jsxs(ei,{children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 490 490",children:f.jsx("polygon",{points:"245,456.701 490,33.299 0,33.299 "})}),f.jsx("span",{children:"Mining Event"})]}),f.jsxs(ei,{children:[f.jsx(Hi,{}),f.jsx("span",{children:"Portal"})]}),f.jsxs(ei,{children:[f.jsx(In,{}),f.jsx("span",{children:"Your location"})]})]})]})]}))};export{tr as default};

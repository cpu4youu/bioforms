import{s as i,e as d,p as x,R as u,_ as m,u as f,a as g,b as v,r as h,j as s}from"./index-70e0b2df.js";import{l as j}from"./constants-b95c644e.js";import{d as y}from"./index-96a70ab5.js";import{u as w}from"./useQuery-7d8e5c8d.js";import{a as _}from"./adapters-fb942ce1.js";import"./atomic-api-6ce1afb7.js";import"./toast-options-37709a4b.js";const b=i("div",{d:"grid",gap:"10px",gridTemplateAreas:`
    "filters destination"
    "team team"
  `,px:"20px",pb:"10px",w:"100%",h:"100%","@sm":{px:"0px"}}),A=i("div",{d:"flex",gridArea:"filters",gap:"10px"}),I=i("div",{d:"flex",align:"center",justify:"flex-end",h:"100%",gridArea:"destination",gap:"2px"}),o=i("div",{d:"flex",justify:"center",direction:"column",h:"100%",bg:"rgba(255, 225, 225, 0.05)",padding:"2px 8px",br:"4px",img:{br:"4px",objectFit:"contain",w:"40px",h:"40px"},span:{textTransform:"capitalize",fw:"normal",fs:"14px",color:"#fff","&:first-child":{fw:"bold",color:"#C9BA76"}},">div":{d:"flex",justify:"center",align:"center"},variants:{disabled:{true:{opacity:.7,filter:"grayscale(100%)"}}}}),T=t=>w({queryKey:[d.LandOwnerState,t],queryFn:()=>E(t),staleTime:1e3*60*20});async function E(t){if(!t)return null;try{const{getAssets:r}=_,l=await r({limit:1e3,asset_id:t,schema_name:"land.worlds"});if(l.length){const e=l[0].owner,a=await x(e);return a||null}return null}catch(r){return console.log(r),null}}const R=u.lazy(()=>m(()=>import("./index-45b53076.js"),["assets/index-45b53076.js","assets/index-70e0b2df.js","assets/index-55fec1ff.css","assets/index-dbfb955e.js","assets/iconBase-e7b2dd3a.js"])),N=()=>{const t=f(g(n=>n.user)),{selectedMap:r,setSelectedMap:p,allAreas:l}=v(),e=h.useMemo(()=>{var n;return(n=Object.values(l))==null?void 0:n.find(c=>t.planet===r.value&&t.mapX===c.x&&t.mapY===c.y)},[l,r.value,t.mapX,t.mapY,t.planet]),{data:a}=T((e==null?void 0:e.asset_id)||"");return s.jsxs(b,{children:[s.jsx(A,{children:s.jsx(R,{options:j,selected:r,onSelected:n=>p(n)})}),e&&s.jsxs(I,{children:[s.jsx(o,{children:s.jsx("img",{src:a!=null&&a.active_avatar?`/assets/avatar/avatar_${a==null?void 0:a.active_avatar}.jpeg`:"/assets/avatar/unknown.jpeg",alt:"player avatar"})}),s.jsx(o,{children:y({text:"",type:e.type})}),s.jsxs(o,{children:[s.jsxs("span",{children:[a==null?void 0:a.playertag," ",e.type," (",e.x,": ",e.y,")"]}),s.jsx("span",{children:(e==null?void 0:e.text)&&`Mining Rewards: ${e.text}x`})]})]})]})};export{N as default};

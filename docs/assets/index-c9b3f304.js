import{R as j,r as x,s as z,c as ue,d as pi,Q as R,u as ei,W as de,S as fe,a as pe,e as me,b as ve,_ as F,j as f}from"./index-3ea18dc7.js";var W=function(i,r){return Number(i.toFixed(r))},ce=function(i,r){return typeof i=="number"?i:r},C=function(i,r,e){e&&typeof e=="function"&&e(i,r)},he=function(i){return-Math.cos(i*Math.PI)/2+.5},ge=function(i){return i},we=function(i){return i*i},Se=function(i){return i*(2-i)},ye=function(i){return i<.5?2*i*i:-1+(4-2*i)*i},be=function(i){return i*i*i},Pe=function(i){return--i*i*i+1},Ce=function(i){return i<.5?4*i*i*i:(i-1)*(2*i-2)*(2*i-2)+1},Te=function(i){return i*i*i*i},Ye=function(i){return 1- --i*i*i*i},Xe=function(i){return i<.5?8*i*i*i*i:1-8*--i*i*i*i},Ae=function(i){return i*i*i*i*i},xe=function(i){return 1+--i*i*i*i*i},Ee=function(i){return i<.5?16*i*i*i*i*i:1+16*--i*i*i*i*i},Li={easeOut:he,linear:ge,easeInQuad:we,easeOutQuad:Se,easeInOutQuad:ye,easeInCubic:be,easeOutCubic:Pe,easeInOutCubic:Ce,easeInQuart:Te,easeOutQuart:Ye,easeInOutQuart:Xe,easeInQuint:Ae,easeOutQuint:xe,easeInOutQuint:Ee},Bi=function(i){typeof i=="number"&&cancelAnimationFrame(i)},M=function(i){i.mounted&&(Bi(i.animation),i.animate=!1,i.animation=null,i.velocity=null)};function Zi(i,r,e,n){if(i.mounted){var a=new Date().getTime(),t=1;M(i),i.animation=function(){if(!i.mounted)return Bi(i.animation);var s=new Date().getTime()-a,o=s/e,l=Li[r],d=l(o);s>=e?(n(t),i.animation=null):i.animation&&(n(d),requestAnimationFrame(i.animation))},requestAnimationFrame(i.animation)}}function ze(i){var r=i.scale,e=i.positionX,n=i.positionY;return!(Number.isNaN(r)||Number.isNaN(e)||Number.isNaN(n))}function B(i,r,e,n){var a=ze(r);if(!(!i.mounted||!a)){var t=i.setTransformState,s=i.transformState,o=s.scale,l=s.positionX,d=s.positionY,u=r.scale-o,p=r.positionX-l,m=r.positionY-d;e===0?t(r.scale,r.positionX,r.positionY):Zi(i,n,e,function(v){var c=o+u*v,S=l+p*v,y=d+m*v;t(c,S,y)})}}function _e(i,r,e){var n=i.offsetWidth,a=i.offsetHeight,t=r.offsetWidth,s=r.offsetHeight,o=t*e,l=s*e,d=n-o,u=a-l;return{wrapperWidth:n,wrapperHeight:a,newContentWidth:o,newDiffWidth:d,newContentHeight:l,newDiffHeight:u}}var je=function(i,r,e,n,a,t,s){var o=i>r?e*(s?1:.5):0,l=n>a?t*(s?1:.5):0,d=i-r-o,u=o,p=n-a-l,m=l;return{minPositionX:d,maxPositionX:u,minPositionY:p,maxPositionY:m}},wi=function(i,r){var e=i.wrapperComponent,n=i.contentComponent,a=i.setup.centerZoomedOut;if(!e||!n)throw new Error("Components are not mounted");var t=_e(e,n,r),s=t.wrapperWidth,o=t.wrapperHeight,l=t.newContentWidth,d=t.newDiffWidth,u=t.newContentHeight,p=t.newDiffHeight,m=je(s,l,d,o,u,p,!!a);return m},mi=function(i,r,e,n){return n?i<r?W(r,2):i>e?W(e,2):W(i,2):W(i,2)},V=function(i,r){var e=wi(i,r);return i.bounds=e,e};function $(i,r,e,n,a,t,s){var o=e.minPositionX,l=e.minPositionY,d=e.maxPositionX,u=e.maxPositionY,p=0,m=0;s&&(p=a,m=t);var v=mi(i,o-p,d+p,n),c=mi(r,l-m,u+m,n);return{x:v,y:c}}function ni(i,r,e,n,a,t){var s=i.transformState,o=s.scale,l=s.positionX,d=s.positionY,u=n-o;if(typeof r!="number"||typeof e!="number")return console.error("Mouse X and Y position were not provided!"),{x:l,y:d};var p=l-r*u,m=d-e*u,v=$(p,m,a,t,0,0,null);return v}function U(i,r,e,n,a){var t=a?n:0,s=r-t;return!Number.isNaN(e)&&i>=e?e:!Number.isNaN(r)&&i<=s?s:i}var Ai=function(i,r){var e=i.setup.panning.excluded,n=i.isInitialized,a=i.wrapperComponent,t=r.target,s="shadowRoot"in t&&"composedPath"in r,o=s?r.composedPath().some(function(u){return u instanceof Element?a==null?void 0:a.contains(u):!1}):a==null?void 0:a.contains(t),l=n&&t&&o;if(!l)return!1;var d=ri(t,e);return!d},xi=function(i){var r=i.isInitialized,e=i.isPanning,n=i.setup,a=n.panning.disabled,t=r&&e&&!a;return!!t},De=function(i,r){var e=i.transformState,n=e.positionX,a=e.positionY;i.isPanning=!0;var t=r.clientX,s=r.clientY;i.startCoords={x:t-n,y:s-a}},We=function(i,r){var e=r.touches,n=i.transformState,a=n.positionX,t=n.positionY;i.isPanning=!0;var s=e.length===1;if(s){var o=e[0].clientX,l=e[0].clientY;i.startCoords={x:o-a,y:l-t}}};function ke(i){var r=i.transformState,e=r.positionX,n=r.positionY,a=r.scale,t=i.setup,s=t.disabled,o=t.limitToBounds,l=t.centerZoomedOut,d=i.wrapperComponent;if(!(s||!d||!i.bounds)){var u=i.bounds,p=u.maxPositionX,m=u.minPositionX,v=u.maxPositionY,c=u.minPositionY,S=e>p||e<m,y=n>v||n<c,X=e>p?d.offsetWidth:i.setup.minPositionX||0,A=n>v?d.offsetHeight:i.setup.minPositionY||0,T=ni(i,X,A,a,i.bounds,o||l),k=T.x,_=T.y;return{scale:a,positionX:S?k:e,positionY:y?_:n}}}function Hi(i,r,e,n,a){var t=i.setup.limitToBounds,s=i.wrapperComponent,o=i.bounds,l=i.transformState,d=l.scale,u=l.positionX,p=l.positionY;if(!(s===null||o===null||r===u&&e===p)){var m=$(r,e,o,t,n,a,s),v=m.x,c=m.y;i.setTransformState(d,v,c)}}var Oe=function(i,r,e){var n=i.startCoords,a=i.transformState,t=i.setup.panning,s=t.lockAxisX,o=t.lockAxisY,l=a.positionX,d=a.positionY;if(!n)return{x:l,y:d};var u=r-n.x,p=e-n.y,m=s?l:u,v=o?d:p;return{x:m,y:v}},L=function(i,r){var e=i.setup,n=i.transformState,a=n.scale,t=e.minScale,s=e.disablePadding;return r>0&&a>=t&&!s?r:0},Me=function(i){var r=i.mounted,e=i.setup,n=e.disabled,a=e.velocityAnimation,t=i.transformState.scale,s=a.disabled,o=!s||t>1||!n||r;return!!o},Ne=function(i){var r=i.mounted,e=i.velocity,n=i.bounds,a=i.setup,t=a.disabled,s=a.velocityAnimation,o=i.transformState.scale,l=s.disabled,d=!l||o>1||!t||r;return!(!d||!e||!n)};function Le(i,r){var e=i.setup.velocityAnimation,n=e.equalToMove,a=e.animationTime,t=e.sensitivity;return n?a*r*t:a}function Ei(i,r,e,n,a,t,s,o,l,d){if(a){if(r>s&&e>s){var u=s+(i-s)*d;return u>l?l:u<s?s:u}if(r<t&&e<t){var u=t+(i-t)*d;return u<o?o:u>t?t:u}}return n?r:mi(i,t,s,a)}function Be(i,r){var e=1;return r?Math.min(e,i.offsetWidth/window.innerWidth):e}function Ze(i,r){var e=Me(i);if(e){var n=i.lastMousePosition,a=i.velocityTime,t=i.setup,s=i.wrapperComponent,o=t.velocityAnimation.equalToMove,l=Date.now();if(n&&a&&s){var d=Be(s,o),u=r.x-n.x,p=r.y-n.y,m=u/d,v=p/d,c=l-a,S=u*u+p*p,y=Math.sqrt(S)/c;i.velocity={velocityX:m,velocityY:v,total:y}}i.lastMousePosition=r,i.velocityTime=l}}function He(i){var r=i.velocity,e=i.bounds,n=i.setup,a=i.wrapperComponent,t=Ne(i);if(!(!t||!r||!e||!a)){var s=r.velocityX,o=r.velocityY,l=r.total,d=e.maxPositionX,u=e.minPositionX,p=e.maxPositionY,m=e.minPositionY,v=n.limitToBounds,c=n.alignmentAnimation,S=n.zoomAnimation,y=n.panning,X=y.lockAxisY,A=y.lockAxisX,T=S.animationType,k=c.sizeX,_=c.sizeY,O=c.velocityAlignmentTime,h=O,Y=Le(i,l),P=Math.max(Y,h),g=L(i,k),w=L(i,_),D=g*a.offsetWidth/100,E=w*a.offsetHeight/100,Z=d+D,q=u-D,ti=p+E,ai=m-E,Pi=i.transformState,ee=new Date().getTime();Zi(i,T,P,function(ne){var oi=i.transformState,re=oi.scale,si=oi.positionX,li=oi.positionY,te=new Date().getTime()-ee,ae=te/h,oe=Li[c.animationType],Ci=1-oe(Math.min(1,ae)),Ti=1-ne,Yi=si+s*Ti,Xi=li+o*Ti,se=Ei(Yi,Pi.positionX,si,A,v,u,d,q,Z,Ci),le=Ei(Xi,Pi.positionY,li,X,v,m,p,ai,ti,Ci);(si!==Yi||li!==Xi)&&i.setTransformState(re,se,le)})}}function zi(i,r){var e=i.transformState.scale;M(i),V(i,e),window.TouchEvent!==void 0&&r instanceof TouchEvent?We(i,r):De(i,r)}function Ri(i){var r=i.transformState.scale,e=i.setup,n=e.minScale,a=e.alignmentAnimation,t=a.disabled,s=a.sizeX,o=a.sizeY,l=a.animationTime,d=a.animationType,u=t||r<n||!s&&!o;if(!u){var p=ke(i);p&&B(i,p,l,d)}}function _i(i,r,e){var n=i.startCoords,a=i.setup,t=a.alignmentAnimation,s=t.sizeX,o=t.sizeY;if(n){var l=Oe(i,r,e),d=l.x,u=l.y,p=L(i,s),m=L(i,o);Ze(i,{x:d,y:u}),Hi(i,d,u,p,m)}}function Re(i){if(i.isPanning){var r=i.setup.panning.velocityDisabled,e=i.velocity,n=i.wrapperComponent,a=i.contentComponent;i.isPanning=!1,i.animate=!1,i.animation=null;var t=n==null?void 0:n.getBoundingClientRect(),s=a==null?void 0:a.getBoundingClientRect(),o=(t==null?void 0:t.width)||0,l=(t==null?void 0:t.height)||0,d=(s==null?void 0:s.width)||0,u=(s==null?void 0:s.height)||0,p=o<d||l<u,m=!r&&e&&(e==null?void 0:e.total)>.1&&p;m?He(i):Ri(i)}}function Si(i,r,e,n){var a=i.setup,t=a.minScale,s=a.maxScale,o=a.limitToBounds,l=U(W(r,2),t,s,0,!1),d=V(i,l),u=ni(i,e,n,l,d,o),p=u.x,m=u.y;return{scale:l,positionX:p,positionY:m}}function Vi(i,r,e){var n=i.transformState.scale,a=i.wrapperComponent,t=i.setup,s=t.minScale,o=t.limitToBounds,l=t.zoomAnimation,d=l.disabled,u=l.animationTime,p=l.animationType,m=d||n>=s;if((n>=1||o)&&Ri(i),!(m||!a||!i.mounted)){var v=r||a.offsetWidth/2,c=e||a.offsetHeight/2,S=Si(i,s,v,c);S&&B(i,S,u,p)}}var N=function(){return N=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}return r},N.apply(this,arguments)};function ji(i,r,e){if(e||arguments.length===2)for(var n=0,a=r.length,t;n<a;n++)(t||!(n in r))&&(t||(t=Array.prototype.slice.call(r,0,n)),t[n]=r[n]);return i.concat(t||Array.prototype.slice.call(r))}var G={previousScale:1,scale:1,positionX:0,positionY:0},K={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},vi={wrapperClass:"react-transform-wrapper",contentClass:"react-transform-component"},Fi=function(i){var r,e,n,a;return{previousScale:(r=i.initialScale)!==null&&r!==void 0?r:G.scale,scale:(e=i.initialScale)!==null&&e!==void 0?e:G.scale,positionX:(n=i.initialPositionX)!==null&&n!==void 0?n:G.positionX,positionY:(a=i.initialPositionY)!==null&&a!==void 0?a:G.positionY}},Di=function(i){var r=N({},K);return Object.keys(i).forEach(function(e){var n=typeof i[e]<"u",a=typeof K[e]<"u";if(a&&n){var t=Object.prototype.toString.call(K[e]),s=t==="[object Object]",o=t==="[object Array]";s?r[e]=N(N({},K[e]),i[e]):o?r[e]=ji(ji([],K[e],!0),i[e],!0):r[e]=i[e]}}),r},Ki=function(i,r,e){var n=i.transformState.scale,a=i.wrapperComponent,t=i.setup,s=t.maxScale,o=t.minScale,l=t.zoomAnimation,d=t.smooth,u=l.size;if(!a)throw new Error("Wrapper is not mounted");var p=d?n*Math.exp(r*e):n+r*e,m=U(W(p,3),o,s,u,!1);return m};function Qi(i,r,e,n,a){var t=i.wrapperComponent,s=i.transformState,o=s.scale,l=s.positionX,d=s.positionY;if(!t)return console.error("No WrapperComponent found");var u=t.offsetWidth,p=t.offsetHeight,m=(u/2-l)/o,v=(p/2-d)/o,c=Ki(i,r,e),S=Si(i,c,m,v);if(!S)return console.error("Error during zoom event. New transformation state was not calculated.");B(i,S,n,a)}function $i(i,r,e,n){var a=i.setup,t=i.wrapperComponent,s=a.limitToBounds,o=Fi(i.props),l=i.transformState,d=l.scale,u=l.positionX,p=l.positionY;if(t){var m=wi(i,o.scale),v=$(o.positionX,o.positionY,m,s,0,0,t),c={scale:o.scale,positionX:v.x,positionY:v.y};d===o.scale&&u===o.positionX&&p===o.positionY||(n==null||n(),B(i,c,r,e))}}function Ve(i,r,e,n){var a=i.getBoundingClientRect(),t=r.getBoundingClientRect(),s=e.getBoundingClientRect(),o=t.x*n.scale,l=t.y*n.scale;return{x:(a.x-s.x+o)/n.scale,y:(a.y-s.y+l)/n.scale}}function Fe(i,r,e){var n=i.wrapperComponent,a=i.contentComponent,t=i.transformState,s=i.setup,o=s.limitToBounds,l=s.minScale,d=s.maxScale;if(!n||!a)return t;var u=n.getBoundingClientRect(),p=r.getBoundingClientRect(),m=Ve(r,n,a,t),v=m.x,c=m.y,S=p.width/t.scale,y=p.height/t.scale,X=n.offsetWidth/S,A=n.offsetHeight/y,T=U(e||Math.min(X,A),l,d,0,!1),k=(u.width-S*T)/2,_=(u.height-y*T)/2,O=(u.left-v)*T+k,h=(u.top-c)*T+_,Y=wi(i,T),P=$(O,h,Y,o,0,0,n),g=P.x,w=P.y;return{positionX:g,positionY:w,scale:T}}var Ke=function(i){return function(r,e,n){r===void 0&&(r=.5),e===void 0&&(e=300),n===void 0&&(n="easeOut"),Qi(i,1,r,e,n)}},Qe=function(i){return function(r,e,n){r===void 0&&(r=.5),e===void 0&&(e=300),n===void 0&&(n="easeOut"),Qi(i,-1,r,e,n)}},$e=function(i){return function(r,e,n,a,t){a===void 0&&(a=300),t===void 0&&(t="easeOut");var s=i.transformState,o=s.positionX,l=s.positionY,d=s.scale,u=i.wrapperComponent,p=i.contentComponent,m=i.setup.disabled;if(!(m||!u||!p)){var v={positionX:Number.isNaN(r)?o:r,positionY:Number.isNaN(e)?l:e,scale:Number.isNaN(n)?d:n};B(i,v,a,t)}}},Ue=function(i){return function(r,e){r===void 0&&(r=200),e===void 0&&(e="easeOut"),$i(i,r,e)}},qe=function(i){return function(r,e,n){e===void 0&&(e=200),n===void 0&&(n="easeOut");var a=i.transformState,t=i.wrapperComponent,s=i.contentComponent;if(t&&s){var o=Ui(r||a.scale,t,s);B(i,o,e,n)}}},Ge=function(i){return function(r,e,n,a){n===void 0&&(n=600),a===void 0&&(a="easeOut"),M(i);var t=i.wrapperComponent,s=typeof r=="string"?document.getElementById(r):r;if(t&&s&&t.contains(s)){var o=Fe(i,s,e);B(i,o,n,a)}}},ci=function(i){return{instance:i,zoomIn:Ke(i),zoomOut:Qe(i),setTransform:$e(i),resetTransform:Ue(i),centerView:qe(i),zoomToElement:Ge(i)}},Je=function(i){return{instance:i,state:i.transformState}},b=function(i){var r={};return Object.assign(r,Je(i)),Object.assign(r,ci(i)),r},ui=!1;function di(){try{var i={get passive(){return ui=!0,!1}};return i}catch{return ui=!1,ui}}var J=".".concat(vi.wrapperClass),ri=function(i,r){return r.some(function(e){return i.matches("".concat(J," ").concat(e,", ").concat(J," .").concat(e,", ").concat(J," ").concat(e," *, ").concat(J," .").concat(e," *"))})},hi=function(i){i&&clearTimeout(i)},Ie=function(i,r,e){return"translate(".concat(i,"px, ").concat(r,"px) scale(").concat(e,")")},Ui=function(i,r,e){var n=e.offsetWidth*i,a=e.offsetHeight*i,t=(r.offsetWidth-n)/2,s=(r.offsetHeight-a)/2;return{scale:i,positionX:t,positionY:s}};function en(i){return function(r){i.forEach(function(e){typeof e=="function"?e(r):e!=null&&(e.current=r)})}}var nn=function(i,r){var e=i.setup.wheel,n=e.disabled,a=e.wheelDisabled,t=e.touchPadDisabled,s=e.excluded,o=i.isInitialized,l=i.isPanning,d=r.target,u=o&&!l&&!n&&d;if(!u||a&&!r.ctrlKey||t&&r.ctrlKey)return!1;var p=ri(d,s);return!p},rn=function(i){return i?i.deltaY<0?1:-1:0};function tn(i,r){var e=rn(i),n=ce(r,e);return n}function qi(i,r,e){var n=r.getBoundingClientRect(),a=0,t=0;if("clientX"in i)a=(i.clientX-n.left)/e,t=(i.clientY-n.top)/e;else{var s=i.touches[0];a=(s.clientX-n.left)/e,t=(s.clientY-n.top)/e}return(Number.isNaN(a)||Number.isNaN(t))&&console.error("No mouse or touch offset found"),{x:a,y:t}}var an=function(i,r,e,n,a){var t=i.transformState.scale,s=i.wrapperComponent,o=i.setup,l=o.maxScale,d=o.minScale,u=o.zoomAnimation,p=o.disablePadding,m=u.size,v=u.disabled;if(!s)throw new Error("Wrapper is not mounted");var c=t+r*e;if(a)return c;var S=n?!1:!v,y=U(W(c,3),d,l,m,S&&!p);return y},on=function(i,r){var e=i.previousWheelEvent,n=i.transformState.scale,a=i.setup,t=a.maxScale,s=a.minScale;return e?n<t||n>s||Math.sign(e.deltaY)!==Math.sign(r.deltaY)||e.deltaY>0&&e.deltaY<r.deltaY||e.deltaY<0&&e.deltaY>r.deltaY||Math.sign(e.deltaY)!==Math.sign(r.deltaY):!1},sn=function(i,r){var e=i.setup.pinch,n=e.disabled,a=e.excluded,t=i.isInitialized,s=r.target,o=t&&!n&&s;if(!o)return!1;var l=ri(s,a);return!l},ln=function(i){var r=i.setup.pinch.disabled,e=i.isInitialized,n=i.pinchStartDistance,a=e&&!r&&n;return!!a},un=function(i,r,e){var n=e.getBoundingClientRect(),a=i.touches,t=W(a[0].clientX-n.left,5),s=W(a[0].clientY-n.top,5),o=W(a[1].clientX-n.left,5),l=W(a[1].clientY-n.top,5);return{x:(t+o)/2/r,y:(s+l)/2/r}},Gi=function(i){return Math.sqrt(Math.pow(i.touches[0].pageX-i.touches[1].pageX,2)+Math.pow(i.touches[0].pageY-i.touches[1].pageY,2))},dn=function(i,r){var e=i.pinchStartScale,n=i.pinchStartDistance,a=i.setup,t=a.maxScale,s=a.minScale,o=a.zoomAnimation,l=a.disablePadding,d=o.size,u=o.disabled;if(!e||n===null||!r)throw new Error("Pinch touches distance was not provided");if(r<0)return i.transformState.scale;var p=r/n,m=p*e;return U(W(m,2),s,t,d,!u&&!l)},fn=160,pn=100,mn=function(i,r){var e=i.props,n=e.onWheelStart,a=e.onZoomStart;i.wheelStopEventTimer||(M(i),C(b(i),r,n),C(b(i),r,a))},vn=function(i,r){var e=i.props,n=e.onWheel,a=e.onZoom,t=i.contentComponent,s=i.setup,o=i.transformState,l=o.scale,d=s.limitToBounds,u=s.centerZoomedOut,p=s.zoomAnimation,m=s.wheel,v=s.disablePadding,c=s.smooth,S=p.size,y=p.disabled,X=m.step,A=m.smoothStep;if(!t)throw new Error("Component not mounted");r.preventDefault(),r.stopPropagation();var T=tn(r,null),k=c?A*Math.abs(r.deltaY):X,_=an(i,T,k,!r.ctrlKey);if(l!==_){var O=V(i,_),h=qi(r,t,l),Y=y||S===0||u||v,P=d&&Y,g=ni(i,h.x,h.y,_,O,P),w=g.x,D=g.y;i.previousWheelEvent=r,i.setTransformState(_,w,D),C(b(i),r,n),C(b(i),r,a)}},cn=function(i,r){var e=i.props,n=e.onWheelStop,a=e.onZoomStop;hi(i.wheelAnimationTimer),i.wheelAnimationTimer=setTimeout(function(){i.mounted&&(Vi(i,r.x,r.y),i.wheelAnimationTimer=null)},pn);var t=on(i,r);t&&(hi(i.wheelStopEventTimer),i.wheelStopEventTimer=setTimeout(function(){i.mounted&&(i.wheelStopEventTimer=null,C(b(i),r,n),C(b(i),r,a))},fn))},Ji=function(i){for(var r=0,e=0,n=0;n<2;n+=1)r+=i.touches[n].clientX,e+=i.touches[n].clientY;var a=r/2,t=e/2;return{x:a,y:t}},hn=function(i,r){var e=Gi(r);i.pinchStartDistance=e,i.lastDistance=e,i.pinchStartScale=i.transformState.scale,i.isPanning=!1;var n=Ji(r);i.pinchLastCenterX=n.x,i.pinchLastCenterY=n.y,M(i)},gn=function(i,r){var e=i.contentComponent,n=i.pinchStartDistance,a=i.wrapperComponent,t=i.transformState.scale,s=i.setup,o=s.limitToBounds,l=s.centerZoomedOut,d=s.zoomAnimation,u=s.alignmentAnimation,p=d.disabled,m=d.size;if(!(n===null||!e)){var v=un(r,t,e);if(!(!Number.isFinite(v.x)||!Number.isFinite(v.y))){var c=Gi(r),S=dn(i,c),y=Ji(r),X=y.x-(i.pinchLastCenterX||0),A=y.y-(i.pinchLastCenterY||0);if(!(S===t&&X===0&&A===0)){i.pinchLastCenterX=y.x,i.pinchLastCenterY=y.y;var T=V(i,S),k=p||m===0||l,_=o&&k,O=ni(i,v.x,v.y,S,T,_),h=O.x,Y=O.y;i.pinchMidpoint=v,i.lastDistance=c;var P=u.sizeX,g=u.sizeY,w=L(i,P),D=L(i,g),E=h+X,Z=Y+A,q=$(E,Z,T,o,w,D,a),ti=q.x,ai=q.y;i.setTransformState(S,ti,ai)}}}},wn=function(i){var r=i.pinchMidpoint;i.velocity=null,i.lastDistance=null,i.pinchMidpoint=null,i.pinchStartScale=null,i.pinchStartDistance=null,Vi(i,r==null?void 0:r.x,r==null?void 0:r.y)},Ii=function(i,r){var e=i.props.onZoomStop,n=i.setup.doubleClick.animationTime;hi(i.doubleClickStopEventTimer),i.doubleClickStopEventTimer=setTimeout(function(){i.doubleClickStopEventTimer=null,C(b(i),r,e)},n)},Sn=function(i,r){var e=i.props,n=e.onZoomStart,a=e.onZoom,t=i.setup.doubleClick,s=t.animationTime,o=t.animationType;C(b(i),r,n),$i(i,s,o,function(){return C(b(i),r,a)}),Ii(i,r)};function yn(i,r){return i==="toggle"?r===1?1:-1:i==="zoomOut"?-1:1}function bn(i,r){var e=i.setup,n=i.doubleClickStopEventTimer,a=i.transformState,t=i.contentComponent,s=a.scale,o=i.props,l=o.onZoomStart,d=o.onZoom,u=e.doubleClick,p=u.disabled,m=u.mode,v=u.step,c=u.animationTime,S=u.animationType;if(!p&&!n){if(m==="reset")return Sn(i,r);if(!t)return console.error("No ContentComponent found");var y=yn(m,i.transformState.scale),X=Ki(i,y,v);if(s!==X){C(b(i),r,l);var A=qi(r,t,s),T=Si(i,X,A.x,A.y);if(!T)return console.error("Error during zoom event. New transformation state was not calculated.");C(b(i),r,d),B(i,T,c,S),Ii(i,r)}}}var Pn=function(i,r){var e=i.isInitialized,n=i.setup,a=i.wrapperComponent,t=n.doubleClick,s=t.disabled,o=t.excluded,l=r.target,d=a==null?void 0:a.contains(l),u=e&&l&&d&&!s;if(!u)return!1;var p=ri(l,o);return!p},Cn=function(){function i(r){var e=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){e.initializeWindowEvents()},this.unmount=function(){e.cleanupWindowEvents()},this.update=function(n){e.props=n,V(e,e.transformState.scale),e.setup=Di(n)},this.initializeWindowEvents=function(){var n,a,t=di(),s=(n=e.wrapperComponent)===null||n===void 0?void 0:n.ownerDocument,o=s==null?void 0:s.defaultView;(a=e.wrapperComponent)===null||a===void 0||a.addEventListener("wheel",e.onWheelPanning,t),o==null||o.addEventListener("mousedown",e.onPanningStart,t),o==null||o.addEventListener("mousemove",e.onPanning,t),o==null||o.addEventListener("mouseup",e.onPanningStop,t),s==null||s.addEventListener("mouseleave",e.clearPanning,t),o==null||o.addEventListener("keyup",e.setKeyUnPressed,t),o==null||o.addEventListener("keydown",e.setKeyPressed,t)},this.cleanupWindowEvents=function(){var n,a,t=di(),s=(n=e.wrapperComponent)===null||n===void 0?void 0:n.ownerDocument,o=s==null?void 0:s.defaultView;o==null||o.removeEventListener("mousedown",e.onPanningStart,t),o==null||o.removeEventListener("mousemove",e.onPanning,t),o==null||o.removeEventListener("mouseup",e.onPanningStop,t),s==null||s.removeEventListener("mouseleave",e.clearPanning,t),o==null||o.removeEventListener("keyup",e.setKeyUnPressed,t),o==null||o.removeEventListener("keydown",e.setKeyPressed,t),document.removeEventListener("mouseleave",e.clearPanning,t),M(e),(a=e.observer)===null||a===void 0||a.disconnect()},this.handleInitializeWrapperEvents=function(n){var a=di();n.addEventListener("wheel",e.onWheelZoom,a),n.addEventListener("dblclick",e.onDoubleClick,a),n.addEventListener("touchstart",e.onTouchPanningStart,a),n.addEventListener("touchmove",e.onTouchPanning,a),n.addEventListener("touchend",e.onTouchPanningStop,a)},this.handleInitialize=function(n){var a=e.setup.centerOnInit;e.applyTransformation(),e.onInitCallbacks.forEach(function(t){return t(b(e))}),a&&(e.setCenter(),e.observer=new ResizeObserver(function(){var t,s=n.offsetWidth,o=n.offsetHeight;(s>0||o>0)&&(e.onInitCallbacks.forEach(function(l){return l(b(e))}),e.setCenter(),(t=e.observer)===null||t===void 0||t.disconnect())}),setTimeout(function(){var t;(t=e.observer)===null||t===void 0||t.disconnect()},5e3),e.observer.observe(n))},this.onWheelZoom=function(n){var a=e.setup.disabled;if(!a){var t=nn(e,n);if(t){var s=e.isPressingKeys(e.setup.wheel.activationKeys);s&&(mn(e,n),vn(e,n),cn(e,n))}}},this.onWheelPanning=function(n){var a=e.setup,t=a.disabled,s=a.wheel,o=a.panning;if(!(!e.wrapperComponent||!e.contentComponent||t||!s.wheelDisabled||o.disabled||!o.wheelPanning||n.ctrlKey)){n.preventDefault(),n.stopPropagation();var l=e.transformState,d=l.positionX,u=l.positionY,p=d-n.deltaX,m=u-n.deltaY,v=o.lockAxisX?d:p,c=o.lockAxisY?u:m,S=e.setup.alignmentAnimation,y=S.sizeX,X=S.sizeY,A=L(e,y),T=L(e,X);v===d&&c===u||Hi(e,v,c,A,T)}},this.onPanningStart=function(n){var a=e.setup.disabled,t=e.props.onPanningStart;if(!a){var s=Ai(e,n);if(s){var o=e.isPressingKeys(e.setup.panning.activationKeys);o&&(n.button===0&&!e.setup.panning.allowLeftClickPan||n.button===1&&!e.setup.panning.allowMiddleClickPan||n.button===2&&!e.setup.panning.allowRightClickPan||(n.preventDefault(),n.stopPropagation(),M(e),zi(e,n),C(b(e),n,t)))}}},this.onPanning=function(n){var a=e.setup.disabled,t=e.props.onPanning;if(!a){var s=xi(e);if(s){var o=e.isPressingKeys(e.setup.panning.activationKeys);o&&(n.preventDefault(),n.stopPropagation(),_i(e,n.clientX,n.clientY),C(b(e),n,t))}}},this.onPanningStop=function(n){var a=e.props.onPanningStop;e.isPanning&&(Re(e),C(b(e),n,a))},this.onPinchStart=function(n){var a=e.setup.disabled,t=e.props,s=t.onPinchingStart,o=t.onZoomStart;if(!a){var l=sn(e,n);l&&(hn(e,n),M(e),C(b(e),n,s),C(b(e),n,o))}},this.onPinch=function(n){var a=e.setup.disabled,t=e.props,s=t.onPinching,o=t.onZoom;if(!a){var l=ln(e);l&&(n.preventDefault(),n.stopPropagation(),gn(e,n),C(b(e),n,s),C(b(e),n,o))}},this.onPinchStop=function(n){var a=e.props,t=a.onPinchingStop,s=a.onZoomStop;e.pinchStartScale&&(wn(e),C(b(e),n,t),C(b(e),n,s))},this.onTouchPanningStart=function(n){var a=e.setup.disabled,t=e.props.onPanningStart;if(!a){var s=Ai(e,n);if(s){var o=e.lastTouch&&+new Date-e.lastTouch<200;if(!o){e.lastTouch=+new Date,M(e);var l=n.touches,d=l.length===1,u=l.length===2;d&&(M(e),zi(e,n),C(b(e),n,t)),u&&e.onPinchStart(n)}}}},this.onTouchPanning=function(n){var a=e.setup.disabled,t=e.props.onPanning;if(e.isPanning&&n.touches.length===1){if(a)return;var s=xi(e);if(!s)return;n.preventDefault(),n.stopPropagation();var o=n.touches[0];_i(e,o.clientX,o.clientY),C(b(e),n,t)}else n.touches.length>1&&e.onPinch(n)},this.onTouchPanningStop=function(n){e.onPanningStop(n),e.onPinchStop(n)},this.onDoubleClick=function(n){var a=e.setup.disabled;if(!a){var t=Pn(e,n);t&&bn(e,n)}},this.clearPanning=function(n){e.isPanning&&e.onPanningStop(n)},this.setKeyPressed=function(n){e.pressedKeys[n.key]=!0},this.setKeyUnPressed=function(n){e.pressedKeys[n.key]=!1},this.isPressingKeys=function(n){return n.length?!!n.find(function(a){return e.pressedKeys[a]}):!0},this.setTransformState=function(n,a,t){var s=e.props.onTransformed;if(!Number.isNaN(n)&&!Number.isNaN(a)&&!Number.isNaN(t)){n!==e.transformState.scale&&(e.transformState.previousScale=e.transformState.scale,e.transformState.scale=n),e.transformState.positionX=a,e.transformState.positionY=t,e.applyTransformation();var o=b(e);e.onChangeCallbacks.forEach(function(l){return l(o)}),C(o,{scale:n,positionX:a,positionY:t},s)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(e.wrapperComponent&&e.contentComponent){var n=Ui(e.transformState.scale,e.wrapperComponent,e.contentComponent);e.setTransformState(n.scale,n.positionX,n.positionY)}},this.handleTransformStyles=function(n,a,t){return e.props.customTransform?e.props.customTransform(n,a,t):Ie(n,a,t)},this.applyTransformation=function(){if(!(!e.mounted||!e.contentComponent)){var n=e.transformState,a=n.scale,t=n.positionX,s=n.positionY,o=e.handleTransformStyles(t,s,a);e.contentComponent.style.transform=o}},this.getContext=function(){return b(e)},this.onChange=function(n){return e.onChangeCallbacks.has(n)||e.onChangeCallbacks.add(n),function(){e.onChangeCallbacks.delete(n)}},this.onInit=function(n){return e.onInitCallbacks.has(n)||e.onInitCallbacks.add(n),function(){e.onInitCallbacks.delete(n)}},this.init=function(n,a){e.cleanupWindowEvents(),e.wrapperComponent=n,e.contentComponent=a,V(e,e.transformState.scale),e.handleInitializeWrapperEvents(n),e.handleInitialize(a),e.initializeWindowEvents(),e.isInitialized=!0;var t=b(e);C(t,void 0,e.props.onInit)},this.props=r,this.setup=Di(this.props),this.transformState=Fi(this.props)}return i}(),yi=j.createContext(null),Tn=function(i,r){return typeof i=="function"?i(r):i},Yn=j.forwardRef(function(i,r){var e=x.useRef(new Cn(i)).current,n=Tn(i.children,ci(e));return x.useImperativeHandle(r,function(){return ci(e)},[e]),x.useEffect(function(){e.update(i)},[e,i]),j.createElement(yi.Provider,{value:e},n)});j.forwardRef(function(i,r){var e=x.useRef(null),n=x.useContext(yi);return x.useEffect(function(){return n.onChange(function(a){if(e.current){var t=0,s=0;e.current.style.transform=n.handleTransformStyles(t,s,1/a.instance.transformState.scale)}})},[n]),j.createElement("div",N({},i,{ref:en([e,r])}))});function Xn(i,r){r===void 0&&(r={});var e=r.insertAt;if(!(!i||typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",e==="top"&&n.firstChild?n.insertBefore(a,n.firstChild):n.appendChild(a),a.styleSheet?a.styleSheet.cssText=i:a.appendChild(document.createTextNode(i))}}var An=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,Wi={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};Xn(An);var xn=function(i){var r=i.children,e=i.wrapperClass,n=e===void 0?"":e,a=i.contentClass,t=a===void 0?"":a,s=i.wrapperStyle,o=i.contentStyle,l=i.wrapperProps,d=l===void 0?{}:l,u=i.contentProps,p=u===void 0?{}:u,m=x.useContext(yi),v=m.init,c=m.cleanupWindowEvents,S=x.useRef(null),y=x.useRef(null);return x.useEffect(function(){var X=S.current,A=y.current;return X!==null&&A!==null&&v&&(v==null||v(X,A)),function(){c==null||c()}},[]),j.createElement("div",N({},d,{ref:S,className:"".concat(vi.wrapperClass," ").concat(Wi.wrapper," ").concat(n),style:s}),j.createElement("div",N({},p,{ref:y,className:"".concat(vi.contentClass," ").concat(Wi.content," ").concat(t),style:o}),r))};const En=z("div",{d:"flex",align:"center",justify:"center",direction:"column",position:"relative",w:"100%"}),zn=z("div",{d:"flex",align:"flex-end",justify:"flex-end",gap:"10px",position:"relative",w:"100%",button:{maxW:"205px",h:"70px",svg:{fill:"#00BAFF"},span:{d:"flex",align:"center",gap:"5px",justify:"center",color:"#828282"}},"@sm":{button:{justify:"center",gap:"2px",padding:"0",maxW:"33%",h:"45px",fs:"12px",span:{gap:"0px"},svg:{display:"none"}}}}),_n=z("div",{d:"flex",align:"flex-end",justify:"flex-end",direction:"column",mt:"10px",padding:"15px 0px",bg:"#141423",br:"15px",w:"100%"}),jn=z("div",{d:"grid",gap:"10px",gridTemplateAreas:`
    "currentLocation destination"
    "team team"
  `,px:"20px",pb:"10px",w:"100%","@sm":{}}),Dn=z("div",{d:"block",gridArea:"currentLocation",p:{fs:"24px",ff:"$heading",color:"#fff",textTransform:"capitalize","&:not(:first-child)":{fs:"14px"}},"@sm":{p:{fs:"14px","&:not(:first-child)":{fs:"10px",color:"#8A8A8A"}}}}),Wn=z("div",{d:"block",gridArea:"destination",w:"max-content",ml:"auto",p:{textAlign:"right",fs:"24px",ff:"$heading",color:"#fff","&:not(:first-child)":{fs:"14px"}},"@sm":{p:{fs:"14px","&:not(:first-child)":{fs:"10px",color:"#8A8A8A"}}}}),kn=z("div",{d:"flex",gridArea:"team",w:"max-content",ml:"auto",">div":{ml:"5px","&:nth-child(3)":{ml:"25px"}},"@sm":{}}),H=z("div",{d:"flex",align:"center",gap:"5px",direction:"column",img:{w:"35px",h:"35px"},span:{fs:"12px",ff:"$heading",color:"#A6A6A6"},"@sm":{}}),On=z("div",{d:"flex",w:"100%",px:"10px",".react-transform-wrapper":{maxH:"calc(100vh - 360px)"},"@sm":{".react-transform-wrapper":{maxH:"calc(100vh - 290px)"}},"@media (max-width: 768px) and (max-height: 500px)":{".react-transform-wrapper":{maxH:"calc(100vh)"}}}),Mn=z("div",{d:"flex",w:"1420px",h:"710px",position:"relative",img:{w:"1420px",h:"710px"}}),Nn=z("button",{d:"flex",align:"center",justify:"center",position:"absolute",border:"1px solid #000",zIndex:1,w:"35.5px",h:"35.5px",svg:{w:"20px",h:"20px"},variants:{isSelected:{true:{bg:"rgba(0, 186, 255, 0.58)"}},type:{empty:{},arena:{},youControl:{},miningEvent:{zIndex:2},portal:{zIndex:2},flag:{}}}}),Ln=z("div",{d:"flex",align:"center",flexWrap:"wrap",gap:"20px",mt:"10px",pl:"20px",w:"100%"}),Q=z("div",{d:"flex",align:"center",justify:"center",gap:"5px",color:"#fff",ff:"$heading",fs:"10px",svg:{w:"17px",h:"17px"},"&:nth-child(1)":{fill:"#80FF00"},"&:nth-child(2)":{fill:"#EB094D"},"&:nth-child(3)":{fill:"#FFB800"}}),Bn=z("div",{d:"flex",align:"center",justify:"center",direction:"column",position:"relative",zIndex:999,span:{position:"absolute",top:"-8px",left:"50%",transform:"translate(-50%, -50%)",textTransform:"capitalize",padding:"2px 5px",bg:"#333333",color:"#fff",ff:"$heading",fs:"10px",br:"5px"}}),Zn=z("div",{d:"flex",align:"center",justify:"center",direction:"column",position:"relative",zIndex:999,span:{position:"absolute",top:"-8px",left:"50%",transform:"translate(-50%, -50%)",color:"#fff",fw:900,ff:"$heading",fs:"16px",br:"5px","-webkit-text-stroke":"1px #000"}}),fi=i=>{const r=new Date(new Date().toUTCString().substring(0,25)),e=+i-+r;let n={days:0,hours:0,minutes:0,seconds:0};return e>0&&(n={days:Math.floor(e/(1e3*60*60)/24),hours:Math.floor(e/(1e3*60*60)%24),minutes:Math.floor(e/1e3/60%60),seconds:Math.floor(e/1e3%60)}),{...n,difference:e}},ki=i=>{if(i&&((i==null?void 0:i.seconds)>0||(i==null?void 0:i.minutes)>0||(i==null?void 0:i.hours)>0)){const r=i.hours>0?`${i.hours>9?`${i.hours}:`:`0${i.hours}:`}`:"",e=i.minutes>0?`${i.minutes>9?i.minutes:`0${i.minutes}`}`:"00",n=i.seconds>9?i.seconds:`0${i.seconds}`;return`${r}${e}:${n}`}return"MINE"};function gi(i){"@babel/helpers - typeof";return gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},gi(i)}function ie(i){if(i===null||i===!0||i===!1)return NaN;var r=Number(i);return isNaN(r)?r:r<0?Math.ceil(r):Math.floor(r)}function bi(i,r){if(r.length<i)throw new TypeError(i+" argument"+(i>1?"s":"")+" required, but only "+r.length+" present")}function Hn(i){bi(1,arguments);var r=Object.prototype.toString.call(i);return i instanceof Date||gi(i)==="object"&&r==="[object Date]"?new Date(i.getTime()):typeof i=="number"||r==="[object Number]"?new Date(i):((typeof i=="string"||r==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Rn(i,r){bi(2,arguments);var e=Hn(i).getTime(),n=ie(r);return new Date(e+n)}function Vn(i,r){bi(2,arguments);var e=ie(r);return Rn(i,e*1e3)}const Fn=ue((i,r)=>({arenaSelected:null,setArenaSelected:e=>i({arenaSelected:e})}));function Kn(i){var r;return i?((r=i[0])==null?void 0:r.toUpperCase())+i.slice(1):""}function I(i,r){var e,n;if(console.log({err:i}),!!i)return i instanceof pi.RpcError&&console.log(JSON.stringify(i.json,null,2)),i&&(i!=null&&i.message)?Kn((n=(e=i==null?void 0:i.message)==null?void 0:e.replace("assertion failure with message: ",""))==null?void 0:n.replace("- 3","")):r??i.message}const ii={position:R.POSITION.TOP_RIGHT,className:"custom-toast-container"};function Qn(){async function i(t,s){try{const o=ei.getState().user,l=ei.getState().ual;if(!l)throw new Error("UAL is not initialized");if(!o)throw new Error("User is not logged in");const d=o.userType;return l.activeUser instanceof de?await n(l,t):d==="anchor"?await e(l,t):d==="wax"?await r(t,s):!1}catch(o){return console.log(o),R.error(I(o),ii),!1}}async function r(t,s){const o=ei.getState().ual;if(!o)throw new Error("UAL is not initialized");try{const l=await o.activeUser.signTransaction(t,{blocksBehind:3,expireSeconds:1200,...s});return console.log("returned",l),!0}catch(l){return console.log(l),R.error(I(l),ii),!1}}async function e(t,s){try{const o={actions:s.actions.filter(d=>(d==null?void 0:d.account)!=="cpu.mc")},l=await t.activeUser.signTransaction(o,{blocksBehind:3,expireSeconds:1200});return console.log("returned",l),!0}catch(o){return console.log(o),R.error(I(o),ii),!1}}async function n(t,s){console.log("ual-wombat",t);try{const o={actions:s.actions.filter(l=>(l==null?void 0:l.account)!=="cpu.mc")};return await t.activeUser.signTransaction(o,{expireSeconds:120,blocksBehind:3}),!0}catch(o){return console.log(o),R.error(I(o),ii),!1}}async function a(t){const s=localStorage.getItem(`${fe}_server`),l=`https:${pe[Number(s)].value}`,d=new pi.JsonRpc(l,{fetch}),u=new me.JsSignatureProvider(["5KfNZXk82jua4CEnir7KRC4eyG8VaGzgfu6myXRnLLL6mjjsESj"]);return new pi.Api({rpc:d,signatureProvider:u,textDecoder:new TextDecoder,textEncoder:new TextEncoder}).serializeActions(t)}return{executeTransaction:i,serializeActions:a}}async function $n(i,r,e){const{executeTransaction:n}=Qn(),a=Un(i,r,e);return!!await n(a)}function Un(i,r,e){return{actions:[{account:ve.FIGHTERTESTS,name:"travel",authorization:[{actor:i.name,permission:i.authorization.permission}],data:{wallet:i.name,x:r,y:e}}]}}const Oi=j.lazy(()=>F(()=>import("./index-51c947c7.js"),["assets/index-51c947c7.js","assets/index-3ea18dc7.js","assets/index-55fec1ff.css"])),qn=j.lazy(()=>F(()=>import("./box-gloves-8e0efa05.js"),["assets/box-gloves-8e0efa05.js","assets/index-3ea18dc7.js","assets/index-55fec1ff.css"])),Gn=j.lazy(()=>F(()=>import("./travel-arrow-75efe333.js"),["assets/travel-arrow-75efe333.js","assets/index-3ea18dc7.js","assets/index-55fec1ff.css"])),Mi=j.lazy(()=>F(()=>import("./portal-b12b4efe.js"),["assets/portal-b12b4efe.js","assets/index-3ea18dc7.js","assets/index-55fec1ff.css"])),Jn=j.lazy(()=>F(()=>import("./flag-48255c74.js"),["assets/flag-48255c74.js","assets/index-3ea18dc7.js","assets/index-55fec1ff.css"])),In=j.lazy(()=>F(()=>import("./index-72f919cb.js"),["assets/index-72f919cb.js","assets/index-3ea18dc7.js","assets/index-55fec1ff.css"])),Ni=40,ir=20,nr=()=>{var O;const{arenaSelected:i,setArenaSelected:r}=Fn(),{user:e}=ei(),[n,a]=x.useState([]),[t,s]=x.useState([]),[o,l]=x.useState(null),[d,u]=x.useState(!1),[p,m]=x.useState(8),[v,c]=x.useState(0),[S,y]=x.useState(!1),X=x.useCallback(()=>{var D;if(!e)return null;const h=Array.from({length:6},(E,Z)=>({number:Z+1,x:Math.floor(Math.random()*39),y:Math.floor(Math.random()*19),type:"arena"})),Y=Array.from({length:6},(E,Z)=>({number:Z+1,x:Math.floor(Math.random()*39),y:Math.floor(Math.random()*19),type:"youControl"})),P=new Date(new Date().toUTCString().substring(0,25)),g=Array.from({length:3},()=>{const E=Vn(P,Math.random()*6e3);return{x:Math.floor(Math.random()*39),y:Math.floor(Math.random()*19),type:"miningEvent",expirationDate:E,formattedTimeLeft:ki(fi(E)),mineTime:fi(E)}}),w=((D=e==null?void 0:e.playerLand)==null?void 0:D.filter(E=>!!E.special_effect).map(E=>({x:E.x-1,y:E.y-1,type:"portal",text:E.special_effect.slice(2,1/0)})))||[];s([...h,...Y,...g,...w])},[e]);x.useEffect(()=>{const Y=1420/Ni,P=[];for(let g=0;g<Ni;g++){P[g]=[];for(let w=0;w<ir;w++)P[g][w]={x:g*Y,y:w*Y}}a(P),X()},[X]);function A(h,Y){switch(Y){case"arena":return f.jsxs("svg",{fill:"rgba(235, 9, 77, 0.67)",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("circle",{cx:"50",cy:"50",r:"50"}),f.jsx("text",{x:"50",y:"75",fontSize:"5em",textAnchor:"middle",style:{fill:"white",stroke:"#000",strokeWidth:5,fontWeight:"bold",fontFamily:"Orbitron, sans-serif"},children:h})]});case"youControl":return f.jsxs("svg",{fill:"rgba(173, 255, 0, 0.65)",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("circle",{cx:"50",cy:"50",r:"50"}),f.jsx("text",{x:"50",y:"75",fontSize:"5em",textAnchor:"middle",style:{fill:"white",stroke:"#000",strokeWidth:5,fontWeight:"bold",fontFamily:"Orbitron, sans-serif"},children:h})]});case"miningEvent":return f.jsxs(Zn,{children:[f.jsx("span",{children:h}),f.jsxs("svg",{fill:"#FFB800",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 490 490",children:[f.jsx("text",{x:"50",y:"75",fontSize:"5em",textAnchor:"middle",style:{fill:"white",stroke:"#000",strokeWidth:5,fontWeight:"bold",fontFamily:"Orbitron, sans-serif"},children:h}),f.jsx("polygon",{points:"245,456.701 490,33.299 0,33.299 "})]})]});case"portal":return f.jsxs(Bn,{children:[f.jsx("span",{children:h}),f.jsx(Mi,{})]});case"flag":return f.jsx("svg",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:999},width:"13",height:"18",viewBox:"0 0 13 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M1.08791 17.4499V9.24111L12.4945 5.91144C12.7253 5.8455 12.8901 5.6477 12.8901 5.41693C12.8901 5.18616 12.7582 4.95539 12.5604 4.85649L0.758242 0.043309C0.593407 -0.0226251 0.395604 -0.0226248 0.230769 0.109243C0.0659337 0.208144 0 0.372979 0 0.570781V17.4499H1.08791Z",fill:"#D32C54"})});default:return null}}function T(h){if(!e)return;if((o==null?void 0:o.x)===h.clientX&&(o==null?void 0:o.y)===h.clientY){l(null);return}if(l({x:h.clientX,y:h.clientY}),e.mapX===h.clientX&&e.mapY===h.clientY){c(0);return}const Y=Math.sqrt(Math.pow(e.mapX-h.clientX,2)+Math.pow(e.mapY-h.clientY,2)),P=Math.ceil(Y);c(P),h.type==="arena"?u(!0):u(!1)}function k(h){r(h)}async function _(){try{if(y(!0),!e||!await $n(e,(o==null?void 0:o.x)||0,(o==null?void 0:o.y)||0))return;R.success("Traveling...")}catch(h){console.error(h)}finally{y(!1)}}return x.useEffect(()=>{const h=setInterval(()=>{var P;const Y=(P=t==null?void 0:t.filter(g=>(g==null?void 0:g.formattedTimeLeft)!=="MINE"))==null?void 0:P.map(g=>{if(g.type==="miningEvent"&&(g==null?void 0:g.formattedTimeLeft)!=="MINE"&&(g!=null&&g.expirationDate)){const w=fi(g==null?void 0:g.expirationDate);return{...g,formattedTimeLeft:ki(w),mineTime:w}}return g});s(Y)},1e3);return()=>clearInterval(h)},[t]),i?f.jsx(In,{}):f.jsxs(En,{children:[f.jsxs(zn,{children:[f.jsx(Oi,{disabled:!d,color:"black",onClick:()=>k("click"),icon:qn,children:"Enter Arena"}),f.jsxs(Oi,{isLoading:S,disabled:!o||!v||v>(((O=e==null?void 0:e.activestats)==null?void 0:O.action_points)||0)||S,color:"black",onClick:_,icon:Gn,children:["Travel",f.jsxs("span",{children:["- ",v,f.jsx("img",{loading:"lazy",src:"/assets/icons/potion.png",alt:""})]})]})]}),f.jsxs(_n,{children:[f.jsxs(jn,{children:[f.jsxs(Dn,{children:[f.jsx("p",{children:"Current Location"}),!!e&&f.jsxs("p",{children:[e.planet," (",e.x,":",e.y,")"]})]}),f.jsxs(Wn,{children:[f.jsx("p",{children:"Destination"}),f.jsx("p",{children:"Geothermal Springs (4:16)"}),f.jsx("p",{children:"Arena Level 5"})]}),f.jsxs(kn,{children:[f.jsx(H,{children:f.jsx("img",{loading:"lazy",src:"/assets/mock/image.png",alt:""})}),f.jsx(H,{children:f.jsx("img",{loading:"lazy",src:"/assets/mock/image-1.png",alt:""})}),f.jsxs(H,{children:[f.jsx("img",{loading:"lazy",src:"/assets/mock/image-2.png",alt:""}),f.jsx("span",{children:"10"})]}),f.jsxs(H,{children:[f.jsx("img",{loading:"lazy",src:"/assets/mock/image-3.png",alt:""}),f.jsx("span",{children:"3"})]}),f.jsxs(H,{children:[f.jsx("img",{loading:"lazy",src:"/assets/mock/image-4.png",alt:""}),f.jsx("span",{children:"4"})]}),f.jsxs(H,{children:[f.jsx("img",{loading:"lazy",src:"/assets/mock/image-5.png",alt:""}),f.jsx("span",{children:"5"})]}),f.jsxs(H,{children:[f.jsx("img",{loading:"lazy",src:"/assets/mock/image-6.png",alt:""}),f.jsx("span",{children:"3"})]})]})]}),!!e&&f.jsx(On,{children:f.jsx(Yn,{disablePadding:!0,initialScale:1,initialPositionX:e.mapX*-8,initialPositionY:e.mapY*-8,maxScale:2,doubleClick:{step:p},onPanningStop:h=>{h.state.scale!==1?m(-8):m(8)},children:f.jsx(xn,{children:f.jsxs(Mn,{children:[f.jsx("img",{loading:"lazy",src:`/assets/maps/${e==null?void 0:e.planet}.jpg`,alt:""}),n.map((h,Y)=>h.map((P,g)=>{const w=t==null?void 0:t.find(D=>D.x===Y&&D.y===g);return f.jsxs(Nn,{onClick:()=>T({clientX:Y,clientY:g,type:(w==null?void 0:w.type)||""}),isSelected:(o==null?void 0:o.x)===Y&&(o==null?void 0:o.y)===g,type:(w==null?void 0:w.type)||"empty",style:{top:P.y,left:P.x},children:[!!w&&A((w==null?void 0:w.formattedTimeLeft)||(w==null?void 0:w.number)||(w==null?void 0:w.text)||"",(w==null?void 0:w.type)||""),e.mapX===Y&&e.mapY===g&&A("","flag")]},P.x+P.y)}))]})})})}),f.jsxs(Ln,{children:[f.jsxs(Q,{children:[f.jsx("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("circle",{cx:"50",cy:"50",r:"50"})}),f.jsx("span",{children:"Arena"})]}),f.jsxs(Q,{children:[f.jsx("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("circle",{cx:"50",cy:"50",r:"50"})}),f.jsx("span",{children:"Arena you control"})]}),f.jsxs(Q,{children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 490 490",children:f.jsx("polygon",{points:"245,456.701 490,33.299 0,33.299 "})}),f.jsx("span",{children:"Mining Event"})]}),f.jsxs(Q,{children:[f.jsx(Mi,{}),f.jsx("span",{children:"Portal"})]}),f.jsxs(Q,{children:[f.jsx(Jn,{}),f.jsx("span",{children:"Your location"})]})]})]})]})};export{nr as default};

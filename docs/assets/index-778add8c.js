import{s,r as l,j as e,S as g,R as y,_ as w,c as j,u as b,Q as x}from"./index-15b776a0.js";import{G as v}from"./iconBase-976e5c5d.js";import{W as C,L as R,C as T,I as A}from"./styles-a985879f.js";import{s as h}from"./sleep-da79c358.js";import{u as I}from"./use-transaction-03f8c72f.js";import"./toast-options-f9f71154.js";const S=s("div",{d:"flex",align:"center",justify:"center",direction:"column",position:"relative",w:"100%"}),_=s("div",{d:"flex",align:"flex-start",justify:"center",gap:"20px",position:"relative",mt:"150px",ml:"120px",w:"100%","@sm":{ml:"0px",img:{d:"none"}}}),E=s("div",{d:"flex",align:"flex-start",justify:"center",direction:"column",position:"relative",padding:"20px",bg:"#312C2E",borderRadius:"10px",border:"4px solid #FFC700",w:"100%",maxW:"560px",span:{mt:"10px",color:"#E76666",ff:"$heading",fs:"12px"},"&::after":{content:"",position:"absolute",left:"-20px",width:0,height:0,borderBottom:"20px solid transparent",borderTop:"20px solid transparent",borderRight:"20px solid #FFC700",clear:"both","@sm":{display:"none"}}}),z=s("h3",{d:"flex",align:"flex-start",justify:"flex-start",w:"100%",fs:"24px",color:"#FAE62E","@sm":{fs:"20px"}}),W=s("p",{d:"flex",align:"center",justify:"center",direction:"column",w:"100%",color:"#fff",ff:"$heading",fw:"$bold",fs:"18px","@sm":{fs:"16px"}}),$=s("div",{d:"flex",align:"flex-end",justify:"center",gap:"10px",w:"100%",">div":{maxW:"100%",w:"100%",mt:"20px",label:{justify:"flex-start",mb:"5px",fw:"$normal",fs:"12px"}},button:{w:"70px",h:"40px"}});function F(a){return v({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"}}]})(a)}const L=l.forwardRef((a,n)=>{const{label:r,wrapperClassName:o,...t}=a;return e.jsxs(C,{className:o,children:[e.jsx(R,{htmlFor:"input",children:r}),e.jsxs(T,{children:[e.jsx(A,{...t,ref:n,id:(t==null?void 0:t.id)??"input",placeholder:(t==null?void 0:t.placeholder)??" "}),(t==null?void 0:t.type)==="search"&&e.jsx(F,{size:30})]})]})});async function N(a,n){const{executeTransaction:r}=I(),o=B(a,n);return!!await r(o)}function B(a,n){return{actions:[{account:g.playersAle,name:"signup",authorization:[{actor:a.name,permission:a.authorization.permission}],data:{wallet:a.name,playertag:n}}]}}const D=y.lazy(()=>w(()=>import("./index-ced56574.js"),["assets/index-ced56574.js","assets/index-15b776a0.js","assets/index-55fec1ff.css","assets/index-15e5bc54.js"])),H=()=>{const a=j(),{user:n,updatePlayerData:r,updateLandsData:o}=b(),t=l.useRef(null),[c,p]=l.useState(!1);async function m(){var u,d;if(console.log(n),!(!n||!((u=t.current)!=null&&u.value)))try{if(p(!0),await N(n,(d=t.current)==null?void 0:d.value)){await h(4e3);const i=await r();if(!(i!=null&&i.playertag)){x.warning("Could not fetch player data after sign in, please refresh the page.");return}await o(),await h(1e3),x.success("Account created successfully"),a("/home")}}catch(f){console.log(f)}finally{p(!1)}}return e.jsx(S,{children:e.jsxs(_,{children:[e.jsx("img",{src:"/assets/alien.png",loading:"lazy",alt:"alien"}),e.jsxs(E,{children:[e.jsx(z,{children:"Welcome traveler!"}),e.jsxs(W,{children:["Are you here to proof that you are the best trainer out there?",e.jsx("br",{}),e.jsx("br",{}),"Before you go out and hire fighters for your team we will need to know how we and other trainers can call you."]}),e.jsxs($,{children:[e.jsx(L,{label:"Trainer Name",ref:t}),e.jsx(D,{disabled:c,isLoading:c,onClick:m,children:"Go"})]}),e.jsx("span",{children:"*Account creation requires ~ 5,000 bytes of RAM on your wallet"})]})]})})};export{H as default};

import{s as r,S as l,c as v,u as d,Q as p,R as x,_ as f,r as u,j as o}from"./index-de94dd96.js";import{s as w}from"./shimmer-34d94a4c.js";import{u as m}from"./use-transaction-dc9600a1.js";import{s as g}from"./sleep-da79c358.js";const y=r("div",{d:"grid",gridTemplateAreas:`
    "empty header"
    "main main"
  `,gridTemplateRows:"68px 1fr",gridTemplateColumns:"3fr 1fr",gap:"10px",br:"15px",w:"100%",h:"100%"}),S=r("div",{gridArea:"header",d:"flex",justifyContent:"flex-end",gap:"10px",minHeight:"65px",button:{padding:"20px",w:"100%",maxW:"100%",div:{d:"flex",alignItems:"center",gap:"5px",color:"#828282",img:{objectFit:"contain",w:"24px"}}}}),b=r("div",{gridArea:"main",position:"relative",d:"flex",align:"flex-start",alignContent:"flex-start",justify:"flex-center",justifyContent:"flex-center",w:"100%",minH:"calc(100vh - 160px)",maxH:"calc(100vh - 160px)",gap:"10px",padding:"10px",br:"0 15px 15px 15px",bg:"#141423","@md":{h:"calc(100vh - 175px)",direction:"column"}}),_=r("div",{d:"flex",align:"flex-start",alignContent:"flex-start",justify:"flex-center",justifyContent:"flex-center",br:"15px 15px 0 0",bg:"#19192D",position:"absolute",top:"-35px",left:"0",button:{border:"1px solid rgba(0, 0, 0, 0.25)",padding:"10px 20px",color:"#fff","&:first-child":{br:"15px 0 0 0"},"&:last-child":{br:"0 15px 0 0"}}});r("div",{d:"flex",direction:"column",w:"100%",maxW:"820px",padding:"24px 30px",minH:"calc(100vh - 175px)",maxH:"calc(100vh - 175px)",overflowY:"auto","@md":{h:"unset"}});r("div",{d:"flex",direction:"column",gap:"10px",w:"100%"});r("div",{d:"flex",gap:"10px",mt:"20px",w:"100%",img:{width:25,height:25}});r("span",{d:"flex",direction:"column",w:"100%",color:"#fff",fs:"16px",ff:"$heading"});r("span",{d:"flex",direction:"column",w:"100%",padding:"10px 10px 20px 10px",bg:"#201D2C",color:"#fff",fs:"16px",ff:"$heading"});r("div",{d:"flex",w:"100%",m:"17px 0 60px"});r("div",{display:"flex",justify:"center",gap:"10px",img:{"&:hover":{transform:"scale(1.05)",zIndex:"4","-webkit-filter":"drop-shadow(0px 0px 8px #00BAFF)",filter:"drop-shadow(0px 0px 5px #00BAFF)"}},variants:{cardSelected:{0:{img:{"&:nth-of-type(2)":{opacity:"0.2"},"&:nth-of-type(3)":{opacity:"0.2"}}},1:{img:{"&:nth-of-type(1)":{opacity:"0.2"},"&:nth-of-type(3)":{opacity:"0.2"}}},2:{img:{"&:nth-of-type(1)":{opacity:"0.2"},"&:nth-of-type(2)":{opacity:"0.2"}}}}}});r("img",{cursor:"pointer",transition:"all 0.2s ease-in-out",w:"85px",h:"116px",zIndex:"2",variants:{isSelected:{true:{filter:"grayscale(100%)"}}},"@sm":{w:"65px",h:"90px"}});r("div",{d:"flex",gap:"10px",alignContent:"flex-start",flexWrap:"wrap",overflow:"auto",w:"100%",h:"calc(100vh - 235px)","@md":{h:"unset"}});r("div",{w:"85px",h:"116px",background:"linear-gradient( -90deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.25) ,rgba(255, 255, 255, 0.15))",br:"10px",backgroundSize:"400% 400%",animation:`${w} 1.2s ease-in-out infinite`,"@sm":{width:"70px",height:"100px"}});async function T({mine_nfts:a,user:e,landowner_tlm_share:n}){const{executeTransaction:i}=m(),t=A({user:e,mine_nfts:a,landowner_tlm_share:n});return!!await i(t)}function A({mine_nfts:a,user:e,landowner_tlm_share:n}){return{actions:[{account:l.playersAle,name:"setminenfts",authorization:[{actor:e.name,permission:e.authorization.permission}],data:{wallet:e.name,mine_nfts:a}},{account:l.playersAle,name:"setlndowshr",authorization:[{actor:e.name,permission:e.authorization.permission}],data:{wallet:e.name,landowner_tlm_share:n}}]}}async function j({user:a,playertag:e,avatar_id:n}){const{executeTransaction:i}=m(),t=C({user:a,playertag:e,avatar_id:n});return!!await i(t)}function C({playertag:a,user:e,avatar_id:n}){return{actions:[{account:l.playersAle,name:"settag",authorization:[{actor:e.name,permission:e.authorization.permission}],data:{wallet:e.name,playertag:a}},{account:l.playersAle,name:"setavatar",authorization:[{actor:e.name,permission:e.authorization.permission}],data:{wallet:e.name,avatar_id:n}}]}}const z=v((a,e)=>{var n,i;return{gameTag:(n=d.getState().user)==null?void 0:n.playertag,setGameTag:t=>a({gameTag:t}),selectedAvatar:(i=d.getState().user)==null?void 0:i.active_avatar,setSelectedAvatar:t=>a({selectedAvatar:t}),handleSaveAvatar:()=>R(e),selectedCards:[void 0,void 0,void 0],setSelectedCards:t=>a({selectedCards:t}),rewardSlider:0,setRewardSlider:t=>a({rewardSlider:t}),handleSaveMineNft:()=>M(e)}});async function M(a){const{selectedCards:e,rewardSlider:n}=a(),i=d.getState().user,t=e.filter(c=>!!c).map(c=>+c.asset_id);await T({user:i,mine_nfts:t,landowner_tlm_share:n})&&(await g(2e3),p.success("Mine nft equipped !"))}async function R(a){const{gameTag:e,selectedAvatar:n}=a(),i=d.getState().user;if(!e||!n){p.error("Please set a gamertag and select an avatar.");return}await j({user:i,playertag:e,avatar_id:n})&&(await g(2e3),p.success("Mine nft equipped !"))}const E=x.lazy(()=>f(()=>import("./index-fc00affe.js"),["assets/index-fc00affe.js","assets/index-de94dd96.js","assets/index-55fec1ff.css"])),k=x.lazy(()=>f(()=>import("./index-7448567b.js"),["assets/index-7448567b.js","assets/index-de94dd96.js","assets/index-55fec1ff.css","assets/shimmer-34d94a4c.js","assets/inventory-query-1d0930eb.js","assets/useQuery-81239c59.js","assets/atomic-api-817342e8.js","assets/toast-options-4a31c38b.js","assets/index-7ac7fa5a.js","assets/index-ed4f28fe.js","assets/use-transaction-dc9600a1.js","assets/sleep-da79c358.js"])),H=x.lazy(()=>f(()=>import("./index-8d97769b.js"),["assets/index-8d97769b.js","assets/index-de94dd96.js","assets/index-55fec1ff.css","assets/shimmer-34d94a4c.js","assets/styles-8f452dc0.js","assets/useQuery-81239c59.js","assets/use-transaction-dc9600a1.js","assets/toast-options-4a31c38b.js","assets/sleep-da79c358.js"])),I=()=>{const{handleSaveAvatar:a,handleSaveMineNft:e}=z(),[n,i]=u.useState(!1),[t,s]=u.useState("mining");async function c(){try{i(!0),t==="mining"&&await e(),t==="avatar"&&await a()}catch(h){console.error(h)}finally{i(!1)}}return o.jsxs(y,{children:[o.jsx(S,{children:o.jsx(E,{isLoading:n,disabled:n,onClick:c,children:"Save Settings"})}),o.jsxs(b,{children:[o.jsxs(_,{children:[o.jsx("button",{onClick:()=>s("mining"),children:"Mining"}),o.jsx("button",{onClick:()=>s("avatar"),children:"Avatar"})]}),t==="mining"&&o.jsx(k,{}),t==="avatar"&&o.jsx(H,{})]})]})},L=Object.freeze(Object.defineProperty({__proto__:null,default:I},Symbol.toStringTag,{value:"Module"}));export{L as i,z as u};

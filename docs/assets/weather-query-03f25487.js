import{g as u,S as o,q as m,u as i,e as s,v as y,Q as f}from"./index-fda0ae17.js";import{u as l}from"./useQuery-aa96b849.js";import{s as g}from"./sleep-da79c358.js";const w=()=>{const e="abcdefghijklmnopqrstuvwxyz12345";let a="";for(let r=0;r<12;r++){const n=Math.round(Math.random()*12+1);a+=e[n]}return a},b=async e=>await u({options:{code:o.battleAle,index_position:1,limit:"1000",lower_bound:e,upper_bound:e,scope:o.battleAle,table:m.history}}),T=e=>l({enabled:!!i.getState().user,queryKey:[s.HistoryDataState,e],queryFn:()=>c(e),staleTime:1e3*60*20});async function c(e){try{const t=await b(e);if(!t)return null;const a=t==null?void 0:t.find(n=>n.history_id===e);return a?{...a,team1_fighters:a.team1_fighters.filter(n=>typeof n.fighter_id=="number")}:null}catch(t){return console.log(t),null}}async function q(e,t){await g(5e3);const a=await c(e);return a?(y.setQueryData([s.HistoryDataState,e],a),t(e),f.success("Fight Started !"),a):null}const d=async(e,t)=>{const a=await u({options:{code:o.battleAle,index_position:1,limit:"1000",scope:e,table:"weather",lower_bound:t,upper_bound:t}});return(a==null?void 0:a[0])||null},A=(e,t)=>l({enabled:!!i.getState().user,queryKey:[s.WeatherState,e,t],queryFn:()=>h(e,t),staleTime:1e3*60*20});async function h(e,t){try{return await d(e,t)}catch(a){return console.log(a),null}}export{w as a,T as b,q as g,A as u};

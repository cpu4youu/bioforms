import{s as n,u as E,r as S,j as t}from"./index-ca74bd17.js";import{s as W}from"./shimmer-cef26188.js";import{u as H}from"./inventory-query-657ba260.js";import{u as M}from"./assets-id-query-c39701ac.js";import P from"./index-457befc1.js";import{u as R}from"./index-a5bfaa88.js";import"./useQuery-727d4ce0.js";import"./adapters-e52f90dd.js";import"./atomic-api-38f0b593.js";import"./toast-options-683ab7d7.js";import"./index-841e3ee7.js";import"./use-transaction-cb845e53.js";import"./sleep-da79c358.js";n("div",{d:"grid",gridTemplateAreas:`
    "empty header"
    "main main"
  `,gridTemplateColumns:"3fr 1fr",gap:"10px",br:"15px",w:"100%",h:"100%"});n("div",{gridArea:"header",d:"flex",justifyContent:"flex-end",gap:"10px",minHeight:"65px",button:{padding:"20px",w:"100%",maxW:"100%",div:{d:"flex",alignItems:"center",gap:"5px",color:"#828282",img:{objectFit:"contain",w:"24px"}}}});n("div",{gridArea:"main",position:"relative",d:"flex",align:"flex-start",alignContent:"flex-start",justify:"flex-center",justifyContent:"flex-center",w:"100%",gap:"10px",padding:"10px",br:"0 15px 15px 15px",bg:"#141423","@md":{h:"calc(100vh - 175px)",direction:"column"}});n("div",{d:"flex",align:"flex-start",alignContent:"flex-start",justify:"flex-center",justifyContent:"flex-center",br:"15px 15px 0 0",bg:"#19192D",position:"absolute",top:"-35px",left:"0",button:{border:"1px solid rgba(0, 0, 0, 0.25)",padding:"10px 20px",color:"#fff","&:first-child":{br:"15px 0 0 0"},"&:last-child":{br:"0 15px 0 0"}}});const Q=n("div",{d:"flex",direction:"column",w:"100%",maxW:"820px",padding:"24px 30px",minH:"calc(100vh - 175px)",maxH:"calc(100vh - 175px)",overflowY:"auto","@md":{h:"unset"}}),_=n("div",{d:"flex",direction:"column",gap:"10px",w:"100%"}),G=n("div",{d:"flex",gap:"10px",mt:"20px",w:"100%",img:{width:25,height:25}}),A=n("span",{d:"flex",direction:"column",w:"100%",color:"#fff",fs:"16px",ff:"$heading"}),z=n("span",{d:"flex",direction:"column",w:"100%",padding:"10px 10px 20px 10px",bg:"#201D2C",color:"#fff",fs:"16px",ff:"$heading"}),U=n("div",{d:"flex",w:"100%",m:"17px 0 60px"}),V=n("div",{display:"flex",justify:"center",gap:"10px",img:{"&:hover":{transform:"scale(1.05)",zIndex:"4","-webkit-filter":"drop-shadow(0px 0px 8px #00BAFF)",filter:"drop-shadow(0px 0px 5px #00BAFF)"}},variants:{cardSelected:{0:{img:{"&:nth-of-type(2)":{opacity:"0.2"},"&:nth-of-type(3)":{opacity:"0.2"}}},1:{img:{"&:nth-of-type(1)":{opacity:"0.2"},"&:nth-of-type(3)":{opacity:"0.2"}}},2:{img:{"&:nth-of-type(1)":{opacity:"0.2"},"&:nth-of-type(2)":{opacity:"0.2"}}}}}}),d=n("img",{cursor:"pointer",transition:"all 0.2s ease-in-out",w:"85px",h:"116px",zIndex:"2",variants:{isSelected:{true:{filter:"grayscale(100%)"}}},"@sm":{w:"65px",h:"90px"}}),Y=n("div",{d:"flex",gap:"10px",alignContent:"flex-start",flexWrap:"wrap",overflow:"auto",w:"100%",h:"calc(100vh - 235px)","@md":{h:"unset"}}),I=n("div",{w:"85px",h:"116px",background:"linear-gradient( -90deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.25) ,rgba(255, 255, 255, 0.15))",br:"10px",backgroundSize:"400% 400%",animation:`${W} 1.2s ease-in-out infinite`,"@sm":{width:"70px",height:"100px"}}),ie=()=>{var m,u,h,w,y,v,j,b,C;const k=E(({user:e})=>e),{data:p,isLoading:F}=H("tool.worlds",!0),{data:r,isLoading:T}=M(k.mine_nfts),[o,l]=S.useState(0),{selectedCards:a,setSelectedCards:x,rewardSlider:L,setRewardSlider:$}=R();function g(e){if(!e){const s=a.map((f,D)=>{if(D!==o)return f});l(o+1),x(s);return}if(a.some(s=>(s==null?void 0:s.asset_id)===(e==null?void 0:e.asset_id))){l(-1);return}const i=a.map((s,f)=>f===o?e:s);l(o+1),x(i),o===2&&l(-1)}function c(e){if(e===o){l(-1);return}l(e)}function B(e){$(e[0])}return S.useEffect(()=>{x([(r==null?void 0:r[0])??void 0,(r==null?void 0:r[1])??void 0,(r==null?void 0:r[2])??void 0])},[r]),t.jsxs(t.Fragment,{children:[t.jsxs(Q,{children:[t.jsxs(_,{children:[t.jsx(A,{children:"Mining Tools"}),t.jsx(z,{children:"These tools are used by trainers to mine for instant rewards when playing Taverns, Dungeons or Arenas."})]}),t.jsx(U,{children:t.jsx(V,{cardSelected:o,children:T?new Array(3).fill(0).map((e,i)=>t.jsx(I,{},i)):t.jsxs(t.Fragment,{children:[t.jsx(d,{onClick:()=>c(0),loading:"lazy",src:a[0]?`/assets/aw-nft-images/${(m=a[0])==null?void 0:m.template.template_id}.webp`:"/assets/default-card.png",alt:(h=(u=a[0])==null?void 0:u.data)==null?void 0:h.name}),t.jsx(d,{onClick:()=>c(1),loading:"lazy",src:a[1]?`/assets/aw-nft-images/${(w=a[1])==null?void 0:w.template.template_id}.webp`:"/assets/default-card.png",alt:(v=(y=a[1])==null?void 0:y.data)==null?void 0:v.name}),t.jsx(d,{onClick:()=>c(2),loading:"lazy",src:a[2]?`/assets/aw-nft-images/${(j=a[2])==null?void 0:j.template.template_id}.webp`:"/assets/default-card.png",alt:(C=(b=a[2])==null?void 0:b.data)==null?void 0:C.name})]})})}),t.jsxs(_,{children:[t.jsx(A,{children:"Landowner Rewards"}),t.jsx(z,{children:"Whenever a player performs a mine on a landowners land, the landowner also gets rewards. Use the slider to select the percentage of TLM / Shard rewards."})]}),t.jsxs(G,{children:[t.jsx("img",{loading:"lazy",src:"/assets/icons/tlm.png",alt:""}),t.jsx(P,{onValueChange:B,value:[L]}),t.jsx("img",{loading:"lazy",src:"/assets/icons/credit.png",alt:""})]})]}),t.jsx(Y,{children:F?new Array(30).fill(0).map((e,i)=>t.jsx(I,{},i)):t.jsxs(t.Fragment,{children:[t.jsx(d,{onClick:()=>g(void 0),src:"/assets/default-card.png",alt:"default card"}),p==null?void 0:p.map(e=>{var i;return t.jsx(d,{isSelected:a.some(s=>(s==null?void 0:s.asset_id)===(e==null?void 0:e.asset_id)),onClick:()=>g(e),loading:"lazy",src:`/assets/aw-nft-images/${e==null?void 0:e.template.template_id}.webp`,alt:(i=e==null?void 0:e.data)==null?void 0:i.name},e==null?void 0:e.asset_id)})]})})]})};export{ie as default};

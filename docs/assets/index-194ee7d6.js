import{s as o,e as F,u as w,R as b,_,r as v,j as e}from"./index-79e9db7e.js";import{s as L}from"./shimmer-52e15abc.js";import{u as E}from"./inventory-query-4269238e.js";import{u as P}from"./useQuery-dc7c5337.js";import{a as M}from"./adapters-964f8bbe.js";import R from"./index-929fb9b4.js";import{u as B}from"./index-3cd6046f.js";import"./atomic-api-cfb64dad.js";import"./toast-options-7e30d8e2.js";import"./index-ca55c0f6.js";import"./use-transaction-0358c116.js";import"./sleep-da79c358.js";const D=o("div",{d:"flex",direction:"column",padding:"24px 30px",overflowY:"auto",w:"100%",h:"100%"});o("div",{gridArea:"header",d:"flex",justifyContent:"flex-end",gap:"10px",minHeight:"65px",button:{padding:"20px",w:"100%",maxW:"100%",div:{d:"flex",alignItems:"center",gap:"5px",color:"#828282",img:{objectFit:"contain",w:"24px"}}}});const h=o("div",{d:"flex",direction:"column",gap:"10px","&:last-child":{w:"100%",maxW:"calc(100% - 345px)"},"@md":{"&:last-child":{maxW:"100%"}}}),z=o("div",{d:"flex",alignItems:"center",justifyContent:"center",gap:"10px",mt:"20px",w:"100%",img:{width:25,height:25}}),g=o("span",{d:"flex",direction:"column",w:"100%",color:"#fff",fs:"16px",ff:"$heading"}),j=o("span",{d:"flex",direction:"column",w:"100%",padding:"10px 10px 20px 10px",br:"10px",bg:"#201D2C",color:"#fff",fs:"16px",ff:"$heading"}),W=o("div",{d:"flex",alignItems:"center",flexWrap:"wrap",gap:"30px",mt:"20px",w:"100%"}),k=o("div",{display:"flex",gap:"10px",br:"10px",bg:"#1D1B20",padding:"20px",img:{"&:hover":{transform:"scale(1.05)",zIndex:"4","-webkit-filter":"drop-shadow(0px 0px 8px #00BAFF)",filter:"drop-shadow(0px 0px 5px #00BAFF)"}},variants:{cardSelected:{0:{">div":{"&:nth-of-type(2)":{opacity:"0.2"},"&:nth-of-type(3)":{opacity:"0.2"}}},1:{">div":{"&:nth-of-type(1)":{opacity:"0.2"},"&:nth-of-type(3)":{opacity:"0.2"}}},2:{">div":{"&:nth-of-type(1)":{opacity:"0.2"},"&:nth-of-type(2)":{opacity:"0.2"}}}}}}),Q=o("div",{display:"flex",gap:"10px",br:"10px",bg:"#1D1B20",padding:"20px",overflowX:"auto",w:"100%",minH:"220px",maxH:"220px",img:{"&:hover":{transform:"scale(1.05)",zIndex:"4","-webkit-filter":"drop-shadow(0px 0px 8px #00BAFF)",filter:"drop-shadow(0px 0px 5px #00BAFF)"}}}),V=o("img",{cursor:"pointer",transition:"all 0.2s ease-in-out",w:"80px",h:"115px",zIndex:"2",variants:{isSelected:{true:{filter:"grayscale(100%)"}}},"@sm":{w:"65px",h:"90px"}}),S=o("div",{w:"85px",h:"116px",background:"linear-gradient( -90deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.25) ,rgba(255, 255, 255, 0.15))",br:"10px",backgroundSize:"400% 400%",animation:`${L} 1.2s ease-in-out infinite`,"@sm":{width:"70px",height:"100px"}}),H=d=>P({queryKey:[F.AssetsIdState,d],queryFn:()=>Y(d),staleTime:1e3*60*60,enabled:!!w.getState().user});async function Y(d){const{user:l}=w.getState();if(d.length===0||!l)return null;try{const{getAssets:c}=M,r={owner:l==null?void 0:l.name,limit:1e3,ids:d.join(",")},x=[];let t=0;do{t++;const s=await c({...r,page:t}),i=await c({...r,page:t,owner:"tools.mc",ids:d.join(",")});x.push(...s,...i)}while(t*2e3===x.length);return x}catch(c){return console.log(c),null}}const f=b.lazy(()=>_(()=>import("./index-73c12669.js"),["assets/index-73c12669.js","assets/index-79e9db7e.js","assets/index-55fec1ff.css","assets/shimmer-52e15abc.js","assets/useQuery-dc7c5337.js"])),$=b.lazy(()=>_(()=>import("./shards-a600cca0.js"),["assets/shards-a600cca0.js","assets/index-79e9db7e.js","assets/index-55fec1ff.css"])),re=()=>{const d=w(({user:n})=>n),{data:l,isLoading:c}=E("tool.worlds",!0),{data:r,isLoading:x}=H(d.mine_nfts),[t,s]=v.useState(0),{selectedCards:i,setSelectedCards:u,rewardSlider:C,setRewardSlider:A}=B();function y(n){if(!n){const p=i.map((m,T)=>{if(T!==t)return m});s(t+1),u(p);return}if(i.some(p=>(p==null?void 0:p.asset_id)===(n==null?void 0:n.asset_id))){s(-1);return}const a=i.map((p,m)=>m===t?n:p);s(t+1),u(a),t===2&&s(-1)}function I(n){A(n[0])}return v.useEffect(()=>{u([(r==null?void 0:r[0])??void 0,(r==null?void 0:r[1])??void 0,(r==null?void 0:r[2])??void 0])},[r]),e.jsxs(D,{children:[e.jsxs(h,{children:[e.jsx(g,{children:"Mining Tools"}),e.jsxs(j,{children:["These tools are used to mine for instant rewards while playing Dungeons or Arenas. Tools with higher rarities and shines yield greater rewards.",e.jsx("br",{}),e.jsx("br",{}),"Tools have TLM Mining Power and Shard Mining Power. Rewards are split proportionally between TLM and Shards based on the balance of these powers. A tool focused on Shard Mining will collect more from Shard Pools, while a balanced tool mines equally from both TLM and Shard Pools."]})]}),e.jsxs(W,{children:[e.jsxs(h,{children:[e.jsx(g,{children:"Currently Equipped"}),e.jsx(k,{cardSelected:t,children:x?new Array(3).fill(0).map((n,a)=>e.jsx(S,{},a)):e.jsxs(e.Fragment,{children:[e.jsx(f,{selectedCard:i[0],isSelected:t===0,inventoryPosition:0,setInventoryPosition:s}),e.jsx(f,{selectedCard:i[1],isSelected:t===1,inventoryPosition:1,setInventoryPosition:s}),e.jsx(f,{selectedCard:i[2],isSelected:t===2,inventoryPosition:2,setInventoryPosition:s})]})})]}),e.jsxs(h,{children:[e.jsx(g,{children:"Available in your wallet"}),e.jsx(Q,{children:c?new Array(30).fill(0).map((n,a)=>e.jsx(S,{},a)):e.jsxs(e.Fragment,{children:[e.jsx(V,{onClick:()=>y(void 0),src:"/assets/default-card.png",alt:"default card"}),l==null?void 0:l.map(n=>e.jsx(f,{onClick:()=>y(n),isSelected:i.some(a=>(a==null?void 0:a.asset_id)===(n==null?void 0:n.asset_id)),selectedCard:n},n==null?void 0:n.asset_id))]})})]})]}),e.jsxs(h,{children:[e.jsx(g,{children:"Landowner Rewards"}),e.jsx(j,{children:"Whenever a player performs a mine on a landowners land, the landowner also gets rewards. Use the slider to select the percentage of TLM / Shard rewards."})]}),e.jsxs(z,{children:[e.jsx("img",{loading:"lazy",src:"/assets/icons/tlm.png",alt:""}),e.jsx(R,{onValueChange:I,value:[C],showSplittedValues:!0}),e.jsx($,{})]})]})};export{re as default};

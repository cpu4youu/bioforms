import{s as i,d as h,g as S,S as u,e as y,u as _,R as d,_ as p,r as b,j as t}from"./index-9fc33c7c.js";import{u as j}from"./useQuery-869993e9.js";const v=i("div",{d:"grid",gridTemplateAreas:`
    "empty empty header"
    "main main side"
  `,gridTemplateRows:"68px 1fr",gap:"10px",br:"15px",w:"100%",h:"100%",variants:{isPackSelected:{true:{"@xmd":{gridTemplateAreas:`
            "header header header"
            "side side side"
          `}},false:{"@xmd":{gridTemplateAreas:`
              "header header header"
              "main main main"
            `}}}},"@lg":{gridTemplateColumns:"1fr 1fr 2fr"},"@xmd":{gap:"8px"},"@sm":{}}),P=i("div",{gridArea:"header",d:"flex",justifyContent:"flex-end",gap:"10px",minHeight:"65px",button:{padding:"20px",w:"100%",maxW:"100%",div:{d:"flex",alignItems:"center",gap:"5px",color:"#828282",img:{objectFit:"contain",w:"24px"}}},"@sm":{gap:"5px",button:{fs:"12px",padding:"10px",div:{img:{w:"20px"}}}},"@xsm":{button:{gap:"3px",justify:"space-between",padding:"9px 0px 9px 3px",fs:"10px"}}}),k=i("div",{gridArea:"main",d:"flex",align:"flex-start",alignContent:"flex-start",justify:"flex-start",position:"relative",minH:"calc(100vh - 160px)",maxH:"calc(100vh - 160px)",padding:"10px",br:"0 15px 15px 15px",bg:"#141423",variants:{isPackSelected:{true:{"@xmd":{display:"none"}}}}}),T=i("div",{d:"flex",align:"flex-start",alignContent:"flex-start",justify:"flex-start",gap:"10px",flexWrap:"wrap",maxH:"calc(100vh - 175px)",overflowY:"auto"}),w=i("div",{d:"flex",align:"flex-start",alignContent:"flex-start",justify:"flex-start",position:"absolute",top:"-40px",left:"0px"}),g=i("button",{d:"flex",align:"center",justify:"center",gap:"5px",padding:"10px 15px",color:"#fff",bg:"#141423",fs:"12px",img:{w:"20px",h:"20px",objectFit:"contain"},"&:first-child":{br:"15px 0px 0px 0px"},"&:last-child":{br:"0 15px 0 0"},variants:{isSelected:{true:{bg:"#19192D"}}}}),A=i("div",{w:"100%",h:"45px",bg:"#201D2C",padding:"10px 20px",fontSize:"16px",fontWeight:"bold",ff:"$heading",color:"#C9C9C9","@sm":{h:"initial",fontSize:"14px"}}),C=i("div",{display:"flex",flexDirection:"column",gridArea:"side",padding:"0px 18px",br:"15px",bg:"#141423",overflowY:"auto",minH:"calc(100vh - 160px)",maxH:"calc(100vh - 160px)",minW:"500px",variants:{isPackSelected:{false:{"@xmd":{display:"none"}}}},"@lg":{minW:"initial"},"@sm":{mt:"5px"}}),O=i("h4",{d:"flex",alignItems:"center",justifyContent:"center",w:"100%",h:"100%",color:"#FFFFFF",ff:"$heading",fs:"24px",fw:"normal"}),E=h((e,a)=>({selectedPack:null,setSelectedPack:l=>e({selectedPack:l}),selectedPointOffer:null,setSelectedPointOffer:l=>e({selectedPointOffer:l})})),F=async e=>await S({options:{code:u.shopAle,index_position:1,key_type:"i64",limit:"1000",scope:u.shopAle,table:"shopitems"}}),R=()=>j({queryKey:[y.ShopState],queryFn:()=>z(),staleTime:1e3*60*60,enabled:!!_.getState().user});async function z(){try{const e=await F();return e?D(e):null}catch(e){return console.log(e),null}}function D(e){return e.map(a=>{const l=["wax","gem","dust","action_points"],o=l.find(n=>{const r=a[`cost_${n}`];return r!=="0.00000000 WAX"||Number(r)>0}),s=l.find(n=>{const r=a[`gain_${n}`];return Number(r)>0});return{...a,cost:a[`cost_${o}`],gain:a[`gain_${s}`],imageGain:s?s==="action_points"?"flasks":s==="gem"?"gems":s==="dust"?"dust":"":"",imageCost:o==="action_points"?"flasks":o==="gem"?"gems":o==="dust"?"dust":"wax-coin"}})}const m=d.lazy(()=>p(()=>import("./index-d5d02d23.js"),["assets/index-d5d02d23.js","assets/index-9fc33c7c.js","assets/index-55fec1ff.css","assets/index-3b45a4b1.js","assets/useQuery-869993e9.js","assets/use-transaction-ed631b73.js","assets/toast-options-a6d93504.js","assets/v4-4a60fe23.js"]).then(e=>({default:e.GemList}))),W=d.lazy(()=>p(()=>import("./index-d5d02d23.js"),["assets/index-d5d02d23.js","assets/index-9fc33c7c.js","assets/index-55fec1ff.css","assets/index-3b45a4b1.js","assets/useQuery-869993e9.js","assets/use-transaction-ed631b73.js","assets/toast-options-a6d93504.js","assets/v4-4a60fe23.js"]).then(e=>({default:e.GemSelection}))),H=d.lazy(()=>p(()=>import("./index-9a5a79b2.js"),["assets/index-9a5a79b2.js","assets/index-9fc33c7c.js","assets/index-55fec1ff.css","assets/useQuery-869993e9.js","assets/index-3b45a4b1.js","assets/use-transaction-ed631b73.js","assets/toast-options-a6d93504.js","assets/v4-4a60fe23.js"]).then(e=>({default:e.PointOffersList}))),G=d.lazy(()=>p(()=>import("./index-9a5a79b2.js"),["assets/index-9a5a79b2.js","assets/index-9fc33c7c.js","assets/index-55fec1ff.css","assets/useQuery-869993e9.js","assets/index-3b45a4b1.js","assets/use-transaction-ed631b73.js","assets/toast-options-a6d93504.js","assets/v4-4a60fe23.js"]).then(e=>({default:e.PointOffersSelection}))),I=()=>{const{selectedPack:e,selectedPointOffer:a,setSelectedPointOffer:l,setSelectedPack:o}=E(),{data:s}=R(),[n,r]=b.useState("gems");function x(c){r(c),o(null),l(null)}const f=!!e||!!a;return t.jsxs(v,{isPackSelected:f,children:[t.jsx(P,{}),t.jsxs(k,{isPackSelected:f,children:[t.jsxs(w,{children:[t.jsxs(g,{isSelected:n==="gems",onClick:()=>x("gems"),children:["Gems",t.jsx("img",{loading:"lazy",src:"/assets/icons/gems.png",alt:""})]}),t.jsxs(g,{isSelected:n==="flasks",onClick:()=>x("flasks"),children:["Flasks",t.jsx("img",{loading:"lazy",src:"/assets/icons/flasks.png",alt:""})]}),t.jsxs(g,{isSelected:n==="outpost",onClick:()=>x("outpost"),children:["Alien Worlds Outpost",t.jsx("img",{loading:"lazy",src:"/assets/icons/outposts.png",alt:""})]})]}),t.jsxs(T,{children:[n==="gems"&&t.jsx(m,{list:s==null?void 0:s.filter(c=>c.category==="gems")}),n==="flasks"&&t.jsx(m,{list:s==null?void 0:s.filter(c=>c.category==="flasks")}),n==="outpost"&&t.jsx(H,{})]})]}),t.jsxs(C,{isPackSelected:f,children:[!!e&&t.jsx(W,{}),!!a&&t.jsx(G,{}),!e&&!a&&t.jsxs(t.Fragment,{children:[t.jsx(A,{children:"Select a Pack"}),t.jsx(O,{children:"Select a Pack"})]})]})]})},M=Object.freeze(Object.defineProperty({__proto__:null,default:I},Symbol.toStringTag,{value:"Module"}));export{M as i,E as u};

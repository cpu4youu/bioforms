import{s as n,S as b,R as f,_ as m,u as y,a as v,r as g,j as e,Q as j}from"./index-bef18595.js";import{u as w,o as T}from"./activequests-query-42135105.js";import{s as S}from"./sleep-da79c358.js";import{u as _}from"./use-transaction-9b809165.js";import{v as k}from"./v4-4a60fe23.js";import"./useQuery-1353288c.js";import"./toast-options-f1ae7497.js";const A=n("div",{d:"grid",gridTemplateAreas:`
    "empty empty header"
    "main main main"
  `,gridTemplateRows:"70px 1fr",gridTemplateColumns:"1fr 1fr .5fr",gap:"10px",br:"15px",w:"100%",h:"100%"}),C=n("div",{gridArea:"header",d:"flex",justifyContent:"flex-end",gap:"10px",minHeight:"65px",button:{padding:"20px",w:"100%",maxW:"100%",div:{d:"flex",alignItems:"center",gap:"5px",color:"#828282",img:{objectFit:"contain",w:"24px"}}},"@sm":{gap:"5px",button:{fs:"12px",padding:"10px",div:{img:{w:"20px"}}}},"@xsm":{button:{gap:"3px",justify:"space-between",padding:"9px 0px 9px 3px",fs:"10px"}}}),R=n("div",{gridArea:"main",d:"flex",position:"relative",minH:"calc(100vh - 160px)",maxH:"calc(100vh - 160px)",padding:"10px",br:"0 15px 15px 15px",bg:"#141423",backgroundImage:"url(/assets/background/bg-quests.png)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}),q=n("div",{d:"flex",align:"flex-start",alignContent:"flex-start",justify:"flex-start",position:"absolute",top:"-40px",left:"0px"}),r=n("button",{d:"flex",align:"center",justify:"center",gap:"5px",padding:"10px 15px",color:"#fff",bg:"#141423",fs:"12px",img:{w:"20px",h:"20px",objectFit:"contain"},"&:first-child":{br:"15px 0px 0px 0px"},"&:last-child":{br:"0 15px 0 0"},variants:{isSelected:{true:{bg:"#19192D"}}}}),z=n("div",{d:"flex",align:"center",justify:"center",w:"100%",gap:"10px",maxH:"calc(100vh - 175px)",overflowY:"auto","@md":{flexDirection:"column",gap:"25px"}}),Q=n("span",{color:"#fff",fw:"bold",fs:"28px",ff:"$heading"});async function E(a){const{executeTransaction:t}=_(),i=I(a);return!!await t(i)}function I(a){return{actions:[{account:b.questAle,name:"getquests",authorization:[{actor:a.name,permission:a.authorization.permission}],data:{wallet:a.name}}]}}const D=f.lazy(()=>m(()=>import("./index-5f43bcc1.js"),["assets/index-5f43bcc1.js","assets/index-bef18595.js","assets/index-55fec1ff.css","assets/index-cca0a483.js"])),H=f.lazy(()=>m(()=>import("./index-587c0623.js"),["assets/index-587c0623.js","assets/index-bef18595.js","assets/index-55fec1ff.css","assets/index-5f43bcc1.js","assets/index-cca0a483.js","assets/use-transaction-9b809165.js","assets/toast-options-f1ae7497.js","assets/sleep-da79c358.js","assets/activequests-query-42135105.js","assets/useQuery-1353288c.js"])),V=()=>{var d,x,u;const a=y(v(s=>s.user)),{data:t}=w(),[i,c]=g.useState("day"),[l,p]=g.useState(!1);function o(s){c(s)}async function h(){p(!0);try{if(!await E(a)){console.log("Failed to get new quests");return}await S(3e3),await T(),j.success("New quests generated successfully!")}catch(s){console.log(s)}finally{p(!1)}}return e.jsxs(A,{children:[e.jsx(C,{children:(((d=t==null?void 0:t.quests)==null?void 0:d.length)??0)<9&&e.jsx(D,{isLoading:l,disabled:l,onClick:h,children:"New Quests"})}),e.jsxs(R,{children:[e.jsxs(q,{children:[e.jsxs(r,{isSelected:i==="day",onClick:()=>o("day"),children:["Daily",e.jsx("img",{loading:"lazy",src:"/assets/icons/question.svg",alt:""})]}),e.jsxs(r,{isSelected:i==="week",onClick:()=>o("week"),children:["Weekly",e.jsx("img",{loading:"lazy",src:"/assets/icons/question.svg",alt:""})]}),e.jsxs(r,{isSelected:i==="month",onClick:()=>o("month"),children:["Monthly",e.jsx("img",{loading:"lazy",src:"/assets/icons/question.svg",alt:""})]})]}),e.jsx(z,{children:t?(u=(x=t==null?void 0:t.quests)==null?void 0:x.filter(s=>s.quest_scope===i))==null?void 0:u.map(s=>e.jsx(H,{...s},k())):e.jsx(Q,{children:"No active quests found"})})]})]})};export{V as default};

import{s as a,c as p,d as g,S as m,Q as f,u as x,R as u,_ as h,r as j,j as e}from"./index-be2f8dd8.js";import C from"./index-bddbc882.js";import{u as b}from"./useQuery-6472a36a.js";const y=a("div",{d:"grid",gridTemplateAreas:`
    "empty empty header"
    "main main side"
  `,gridTemplateRows:"auto 1fr",gap:"10px",br:"15px",w:"100%",h:"100%",variants:{isPackSelected:{true:{"@xmd":{gridTemplateAreas:`
            "header header header"
            "side side side"
          `}},false:{"@xmd":{gridTemplateAreas:`
              "header header header"
              "main main main"
            `}}}},"@lg":{gridTemplateColumns:"1fr 1fr 2fr"},"@xmd":{gap:"8px"},"@sm":{}}),w=a("div",{gridArea:"header",d:"flex",justifyContent:"flex-end",gap:"10px",minHeight:"65px",button:{padding:"20px",w:"100%",maxW:"100%",div:{d:"flex",alignItems:"center",gap:"5px",color:"#828282",img:{objectFit:"contain",w:"24px"}}},"@sm":{gap:"5px",button:{fs:"12px",padding:"10px",div:{img:{w:"20px"}}}},"@xsm":{button:{gap:"3px",justify:"space-between",padding:"9px 0px 9px 3px",fs:"10px"}}}),S=a("div",{gridArea:"main",d:"flex",align:"flex-start",alignContent:"flex-start",justify:"flex-start",position:"relative",minH:"calc(100vh - 175px)",padding:"10px",br:"0 15px 15px 15px",bg:"#141423",variants:{isPackSelected:{true:{"@xmd":{display:"none"}}}}}),v=a("div",{d:"flex",align:"flex-start",alignContent:"flex-start",justify:"flex-start",gap:"10px",flexWrap:"wrap",maxH:"calc(100vh - 175px)",overflowY:"auto"}),P=a("div",{d:"flex",align:"flex-start",alignContent:"flex-start",justify:"flex-start",position:"absolute",top:"-40px",left:"0px"}),d=a("button",{d:"flex",align:"center",justify:"center",gap:"5px",padding:"10px 15px",color:"#fff",br:"15px 0px 0px 0px",bg:"#141423",fs:"12px",img:{w:"20px",h:"20px",objectFit:"contain"},"&:last-child":{br:"0 15px 0 0"},variants:{isSelected:{true:{bg:"#19192D"}}}}),E=a("div",{w:"100%",h:"45px",bg:"#201D2C",padding:"10px 20px",fontSize:"16px",fontWeight:"bold",ff:"$heading",color:"#C9C9C9","@sm":{h:"initial",fontSize:"14px"}}),T=a("div",{display:"flex",flexDirection:"column",gridArea:"side",padding:"0px 18px",br:"15px",bg:"#141423",overflowY:"auto",maxHeight:"calc(100vh - 160px)",minW:"500px",variants:{isPackSelected:{false:{"@sm":{display:"none"}}}},"@lg":{minW:"initial"},"@sm":{mt:"5px"}}),k=a("h4",{d:"flex",alignItems:"center",justifyContent:"center",w:"100%",h:"100%",color:"#FFFFFF",ff:"$heading",fs:"24px",fw:"normal"}),F=a("div",{d:"flex",align:"flex-start",justify:"flex-start",direction:"column",position:"relative",padding:"40px 40px",gap:"10px",w:"100%",mt:"10px",bg:"#141423",br:"15px",minH:"calc(-160px + 100vh)",button:{justify:"center",h:"50px",fw:"bold"},variants:{isHidden:{true:{"@sm":{display:"none"}}}}}),_=a("div",{d:"flex",fw:"bold",ff:"$heading",fs:"16px",color:"white",mb:"50px"}),i=a("div",{d:"flex",align:"center",justify:"center",gap:"10px",ff:"$heading",fs:"16px",color:"white",strong:{display:"flex",align:"center",justify:"center",gap:"10px"},img:{w:"25px",h:"25px",objectFit:"contain"},"&:last-of-type":{my:"50px"}}),A=a("button",{display:"none",align:"flex-start",justify:"center",color:"#fff",fs:"30px",w:"50px",h:"50px",top:"0px",right:"0px",position:"absolute","@xmd":{d:"flex"}}),W=p((t,s)=>({selectedPack:null,setSelectedPack:n=>t({selectedPack:n})})),z=async t=>{const s=await g({options:{code:m.eosioToken,index_position:1,key_type:"i64",limit:"1000",scope:t,table:"accounts"}});return(s==null?void 0:s[0])||null},R=()=>b({queryKey:[f.WaxCoinsState],queryFn:()=>Y(),staleTime:1e3*60*60,enabled:!!x.getState().user});async function Y(){const t=x.getState().user;if(!t)return null;try{const s=await z(t.name);return s?{balance:parseFloat(s.balance),currency:s.balance.split(" ")[1]}:null}catch(s){return console.log(s),null}}const H=u.lazy(()=>h(()=>import("./index-c9990e36.js"),["assets/index-c9990e36.js","assets/index-be2f8dd8.js","assets/index-55fec1ff.css","assets/index-bddbc882.js","assets/useQuery-6472a36a.js"])),l=[{name:"Elgem Paladin",shardCost:100,waxCost:100},{name:"Elgem Paladin",shardCost:100,waxCost:100},{name:"Elgem Paladin",shardCost:100,waxCost:100},{name:"Elgem Paladin",shardCost:100,waxCost:100},{name:"Elgem Paladin",shardCost:100,waxCost:100},{name:"Elgem Paladin",shardCost:100,waxCost:100},{name:"Elgem Paladin",shardCost:100,waxCost:100},{name:"Elgem Paladin",shardCost:100,waxCost:100},{name:"Elgem Paladin",shardCost:100,waxCost:100},{name:"Elgem Paladin",shardCost:100,waxCost:100},{name:"Elgem Paladin",shardCost:100,waxCost:100}],D=()=>{const{selectedPack:t,setSelectedPack:s}=W(),{data:n}=R(),[o,r]=j.useState("gems");return console.log("userWaxCoins",n),e.jsxs(y,{isPackSelected:!!t,children:[e.jsx(w,{}),e.jsxs(S,{isPackSelected:!!t,children:[e.jsxs(P,{children:[e.jsxs(d,{isSelected:o==="gems",onClick:()=>r("gems"),children:["Gems",e.jsx("img",{loading:"lazy",src:"/assets/icons/gem.png",alt:""})]}),e.jsxs(d,{isSelected:o==="flasks",onClick:()=>r("flasks"),children:["Flasks",e.jsx("img",{loading:"lazy",src:"/assets/icons/potion.png",alt:""})]})]}),e.jsx(v,{children:l==null?void 0:l.map(c=>e.jsx(H,{item:c}))})]}),e.jsx(T,{isPackSelected:!!t,children:t?e.jsxs(F,{children:[e.jsx(A,{onClick:()=>s(null),children:"x"}),e.jsxs(_,{children:[e.jsx("span",{children:"Your selection"}),e.jsxs("span",{children:[" ",t==null?void 0:t.item.name]})]}),e.jsxs(i,{children:[e.jsx("span",{children:"You will receive: "}),e.jsxs("strong",{children:[e.jsx("img",{loading:"lazy",src:"/assets/icons/gem.png",alt:""}),t==null?void 0:t.item.shardCost]})]}),e.jsxs(i,{children:[e.jsx("span",{children:"You will pay:"}),e.jsxs("strong",{children:[e.jsx("img",{loading:"lazy",src:"/assets/icons/wax-coin.png",alt:""}),t==null?void 0:t.item.waxCost]})]}),e.jsxs(i,{children:[e.jsx("span",{children:"Your current WAX balance:"}),e.jsxs("strong",{children:[e.jsx("img",{loading:"lazy",src:"/assets/icons/wax-coin.png",alt:""}),n==null?void 0:n.balance.toLocaleString("en-US",{maximumFractionDigits:2})]})]}),e.jsx(C,{color:"blue",children:"Purchase now"})]}):e.jsxs(e.Fragment,{children:[e.jsx(E,{children:"Select a Pack"}),e.jsx(k,{children:"Select a Pack"})]})})]})},$=Object.freeze(Object.defineProperty({__proto__:null,default:D},Symbol.toStringTag,{value:"Module"}));export{$ as i,W as u};

import{s as i,d as h,g as y,S as u,e as S,u as _,R as x,_ as g,r as j,j as e}from"./index-0f3bbd39.js";import{u as b}from"./useQuery-e19e51c6.js";const v=i("div",{d:"grid",gridTemplateAreas:`
    "empty empty header"
    "main main side"
  `,gridTemplateRows:"68px 1fr",gap:"10px",br:"15px",w:"100%",h:"100%",variants:{isPackSelected:{true:{"@xmd":{gridTemplateAreas:`
            "header header header"
            "side side side"
          `}},false:{"@xmd":{gridTemplateAreas:`
              "header header header"
              "main main main"
            `}}}},"@lg":{gridTemplateColumns:"1fr 1fr 2fr"},"@xmd":{gap:"8px"},"@sm":{}}),P=i("div",{gridArea:"header",d:"flex",justifyContent:"flex-end",gap:"10px",minHeight:"65px",button:{padding:"20px",w:"100%",maxW:"100%",div:{d:"flex",alignItems:"center",gap:"5px",color:"#828282",img:{objectFit:"contain",w:"24px"}}},"@sm":{gap:"5px",button:{fs:"12px",padding:"10px",div:{img:{w:"20px"}}}},"@xsm":{button:{gap:"3px",justify:"space-between",padding:"9px 0px 9px 3px",fs:"10px"}}}),T=i("div",{gridArea:"main",d:"flex",align:"flex-start",alignContent:"flex-start",justify:"flex-start",position:"relative",minH:"calc(100vh - 160px)",maxH:"calc(100vh - 160px)",padding:"10px",br:"0 15px 15px 15px",bg:"#141423",variants:{isPackSelected:{true:{"@xmd":{display:"none"}}}}}),k=i("div",{d:"flex",align:"flex-start",alignContent:"flex-start",justify:"flex-start",gap:"10px",flexWrap:"wrap",maxH:"calc(100vh - 175px)",overflowY:"auto"}),C=i("div",{d:"flex",align:"flex-start",alignContent:"flex-start",justify:"flex-start",position:"absolute",top:"-40px",left:"0px"}),p=i("button",{d:"flex",align:"center",justify:"center",gap:"5px",padding:"10px 15px",color:"#fff",bg:"#141423",fs:"12px",img:{w:"20px",h:"20px",objectFit:"contain"},"&:first-child":{br:"15px 0px 0px 0px"},"&:last-child":{br:"0 15px 0 0"},variants:{isSelected:{true:{bg:"#19192D"}}}}),w=i("div",{w:"100%",h:"45px",bg:"#201D2C",padding:"10px 20px",fontSize:"16px",fontWeight:"bold",ff:"$heading",color:"#C9C9C9","@sm":{h:"initial",fontSize:"14px"}}),A=i("div",{display:"flex",flexDirection:"column",gridArea:"side",padding:"0px 18px",br:"15px",bg:"#141423",overflowY:"auto",minH:"calc(100vh - 160px)",maxH:"calc(100vh - 160px)",minW:"500px",variants:{isPackSelected:{false:{"@xmd":{display:"none"}}}},"@lg":{minW:"initial"},"@sm":{mt:"5px"}}),O=i("h4",{d:"flex",alignItems:"center",justifyContent:"center",w:"100%",h:"100%",color:"#FFFFFF",ff:"$heading",fs:"24px",fw:"normal"}),E=h((t,n)=>({selectedPack:null,setSelectedPack:l=>t({selectedPack:l}),selectedPointOffer:null,setSelectedPointOffer:l=>t({selectedPointOffer:l})})),z=async t=>await y({options:{code:u.shopAle,index_position:1,key_type:"i64",limit:"1000",scope:u.shopAle,table:"shopitems"}}),F=()=>b({queryKey:[S.ShopState],queryFn:()=>R(),staleTime:1e3*60*60,enabled:!!_.getState().user});async function R(){try{const t=await z();return t?D(t):null}catch(t){return console.log(t),null}}function D(t){return t.map(n=>{const l=["wax","gem","dust","action_points"],o=l.find(a=>{const c=n[`cost_${a}`];return Number(c)>0}),s=l.find(a=>{const c=n[`gain_${a}`];return Number(c)>0});return{...n,cost:Number(n.cost_wax.replace(" WAX",""))||n[`cost_${o}`],gain:n[`gain_${s}`],imageGain:s?s==="action_points"?"energy":s==="gem"?"gems":s==="dust"?"credits":"":"",imageCost:o==="action_points"?"energy":o==="gem"?"gems":o==="dust"?"credits":"wax-coin"}})}const m=x.lazy(()=>g(()=>import("./index-15d00177.js"),["assets/index-15d00177.js","assets/index-0f3bbd39.js","assets/index-55fec1ff.css","assets/index-9c7307b5.js","assets/useQuery-e19e51c6.js","assets/use-transaction-86532582.js","assets/toast-options-aeff6e04.js","assets/sleep-da79c358.js","assets/v4-4a60fe23.js"]).then(t=>({default:t.GemList}))),W=x.lazy(()=>g(()=>import("./index-15d00177.js"),["assets/index-15d00177.js","assets/index-0f3bbd39.js","assets/index-55fec1ff.css","assets/index-9c7307b5.js","assets/useQuery-e19e51c6.js","assets/use-transaction-86532582.js","assets/toast-options-aeff6e04.js","assets/sleep-da79c358.js","assets/v4-4a60fe23.js"]).then(t=>({default:t.GemSelection}))),H=x.lazy(()=>g(()=>import("./index-bc97d658.js"),["assets/index-bc97d658.js","assets/index-0f3bbd39.js","assets/index-55fec1ff.css","assets/useQuery-e19e51c6.js","assets/index-9c7307b5.js","assets/use-transaction-86532582.js","assets/toast-options-aeff6e04.js","assets/v4-4a60fe23.js"]).then(t=>({default:t.PointOffersList}))),G=x.lazy(()=>g(()=>import("./index-bc97d658.js"),["assets/index-bc97d658.js","assets/index-0f3bbd39.js","assets/index-55fec1ff.css","assets/useQuery-e19e51c6.js","assets/index-9c7307b5.js","assets/use-transaction-86532582.js","assets/toast-options-aeff6e04.js","assets/v4-4a60fe23.js"]).then(t=>({default:t.PointOffersSelection}))),I=()=>{const{selectedPack:t,selectedPointOffer:n,setSelectedPointOffer:l,setSelectedPack:o}=E(),{data:s}=F(),[a,c]=j.useState("gems");function d(r){c(r),o(null),l(null)}const f=!!t||!!n;return e.jsxs(v,{isPackSelected:f,children:[e.jsx(P,{}),e.jsxs(T,{isPackSelected:f,children:[e.jsxs(C,{children:[e.jsxs(p,{isSelected:a==="gems",onClick:()=>d("gems"),children:["Gems",e.jsx("img",{loading:"lazy",src:"/assets/icons/gems.png",alt:""})]}),e.jsxs(p,{isSelected:a==="credits",onClick:()=>d("credits"),children:["Credits",e.jsx("img",{loading:"lazy",src:"/assets/icons/credits.png",alt:""})]}),e.jsxs(p,{isSelected:a==="energy",onClick:()=>d("energy"),children:["Energy",e.jsx("img",{loading:"lazy",src:"/assets/icons/energy.png",alt:""})]}),e.jsxs(p,{isSelected:a==="outpost",onClick:()=>d("outpost"),children:["Alien Worlds Outpost",e.jsx("img",{loading:"lazy",src:"/assets/icons/outposts.png",alt:""})]})]}),e.jsxs(k,{children:[a==="gems"&&e.jsx(m,{list:s==null?void 0:s.filter(r=>r.category==="gems")}),a==="credits"&&e.jsx(m,{list:s==null?void 0:s.filter(r=>r.category==="credits")}),a==="energy"&&e.jsx(m,{list:s==null?void 0:s.filter(r=>r.category==="flasks")}),a==="outpost"&&e.jsx(H,{})]})]}),e.jsxs(A,{isPackSelected:f,children:[!!t&&e.jsx(W,{}),!!n&&e.jsx(G,{}),!t&&!n&&e.jsxs(e.Fragment,{children:[e.jsx(w,{children:"Select a Pack"}),e.jsx(O,{children:"Select a Pack"})]})]})]})},N=Object.freeze(Object.defineProperty({__proto__:null,default:I},Symbol.toStringTag,{value:"Module"}));export{N as i,E as u};

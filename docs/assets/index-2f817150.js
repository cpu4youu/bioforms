import{s,r as x,j as n,w as y,x as v}from"./index-a01e37b3.js";import{u as b}from"./config-query-ff849f25.js";import{u as $}from"./classtemps-query-132b647a.js";import{g as A,a as C}from"./resStats-2fa1b20e.js";import"./useQuery-0dda4b17.js";const z=s("img",{w:"100%",maxW:"500px",br:"15px",h:"100%",overflowY:"auto"}),T=s("div",{d:"flex",align:"center",justify:"flex-start",direction:"column",position:"relative",gap:"10px",w:"100%",bg:"#141423",br:"15px",h:"100%",overflowY:"auto",variants:{isHidden:{true:{"@sm":{display:"none"}}}}}),S=s("div",{d:"flex",align:"center",justify:"center",gap:"3px",w:"100%",h:"180px",position:"relative"}),_=s("img",{zIndex:"1",w:"100%",h:"180px",objectFit:"contain"}),D=s("img",{position:"absolute",top:"0",left:"0",w:"100%",h:"180px",objectFit:"cover",objectPosition:"center bottom",br:"15px 15px 0 0"}),k=s("button",{d:"flex",align:"flex-start",justify:"center",zIndex:"2",textShadow:"0 0 5px rgba(0,0,0)",color:"#fff",fs:"30px",w:"50px",top:"0px",right:"0px",position:"absolute"}),P=s("div",{d:"flex",align:"center",justify:"center",direction:"column",padding:"0 40px 0 40px",w:"100%"}),E=s("div",{d:"flex",align:"center",justify:"center",gap:"10px",mb:"5px",color:"#787878",fw:"bold",ff:"$heading",fs:"12px"}),M=s("h3",{color:"#fff",textTransform:"capitalize",textAlign:"center",fs:"20px",w:"100%"}),B=s("span",{color:"#C7C7C7",textTransform:"capitalize",textAlign:"center",ff:"$heading",fs:"15px",w:"100%","@lgxx":{fs:"12px"}}),d=s("div",{d:"flex",align:"center",justify:"space-between",w:"100%",color:"#fff",textTransform:"capitalize",textAlign:"center",ff:"$heading",fs:"15px",span:{"&:first-child":{fw:"bold",color:"#fff"},"&:last-child":{color:"#B8B8B8"}},"@lgxx":{fs:"12px"}}),R=s("div",{d:"flex",align:"center",justify:"center",direction:"column",gap:"10px",padding:"20px 40px 40px",w:"100%"}),I=s("div",{d:"flex",align:"center",justify:"center",direction:"column",gap:"5px",padding:"20px",w:"100%",bg:"rgba(192, 192, 192, 0.15)",br:"10px"}),L=s("div",{d:"flex",align:"center",justify:"space-between",w:"100%",strong:{color:"#fff",ff:"$heading",fs:"15px",textAlign:"center",textTransform:"capitalize"},span:{d:"flex",align:"center",gap:"5px",color:"#fff",ff:"$heading",fs:"15px",textAlign:"center",textTransform:"capitalize","span:nth-child(2)":{color:"#339DFF"}},"&:last-child img":{filter:"grayscale(.9)"},"@lgxx":{span:{fs:"12px"}}}),W=s("div",{d:"flex",align:"center",justify:"center",direction:"column",gap:"5px",w:"100%"}),N=s("div",{d:"flex",align:"center",justify:"center",gap:"5px",w:"100%"}),H=s("div",{d:"flex",align:"center",justify:"center",direction:"column",gap:"7px",padding:"10px 0",w:"100%",bg:"rgba(192, 192, 192, 0.15)",br:"10px",strong:{w:"100%",color:"#fff",ff:"$heading",fs:"13px",textAlign:"center",textTransform:"capitalize"},span:{w:"100%",color:"#D5D5D5",ff:"$heading",fs:"12px",textAlign:"center",textTransform:"capitalize"},"@lgxx":{span:{fs:"12px"}}}),Q=s("div",{d:"flex",direction:"column",gap:"10px",w:"100%",h3:{w:"100%",color:"#fff",textTransform:"capitalize",ff:"$heading",fs:"15px"},p:{w:"100%",color:"#fff",ff:"$heading",fs:"15px"}}),K=({selectedFighter:a,onCloseFighterDetail:m,isHidden:u})=>{var p;const{data:i}=b(),{data:l}=$(),e=a,j=x.useMemo(()=>{if(a.agePenalty)return a.agePenalty;let t=0;a.creation_date&&(t=Math.floor((Date.now()-new Date(a.creation_date).getTime())/(1e3*60*60*24)));const r=((i==null?void 0:i.age_penaly_percent_day)??0)/100||0;return Math.floor(t*r)},[a,i]),h=x.useCallback((t,r)=>A(t,r,a,l),[l,a]),w=x.useCallback((t,r)=>C(t,r,a,l),[l,a]);return a.classname?n.jsxs(T,{isHidden:u,children:[n.jsxs(S,{children:[n.jsx(k,{onClick:()=>m(null),children:"x"}),n.jsx(_,{src:`/assets/fighter/classes/avatar_${a.classname}_${a.racename}.png`,alt:`${a.classname}_${a.racename}`,title:`${a.classname}_${a.racename}`,loading:"lazy"}),n.jsx(D,{src:`/assets/fighter/classes/backgrounds/avatar/avatar_background_${a.classname==="unknown"?"unknown":a.element}.jpeg`,alt:"",loading:"lazy"})]}),n.jsxs(P,{children:[n.jsxs(M,{children:[a.racename," ",a.classname]}),n.jsxs(E,{children:["(Level ",(a==null?void 0:a.level)||((p=a==null?void 0:a.stats)==null?void 0:p.level)||"??",")"]}),n.jsxs(B,{children:["Element: ",(a==null?void 0:a.element)||"??"]})]}),n.jsxs(R,{children:[n.jsxs(d,{children:[n.jsx("span",{children:"BASE STATS "}),n.jsxs("span",{children:["Age Penalty: - ",j,"%"]})]}),n.jsx(I,{children:y.map(t=>{const r=(e==null?void 0:e[`${t}_min`])??0,o=(e==null?void 0:e[`${t}_max`])??0,c=Math.floor((r+o)/2),f=Math.floor(Math.abs(o-r)/2),g=h(t,c);return n.jsxs(L,{children:[n.jsxs("strong",{children:[t,":"]}),c?n.jsxs("span",{children:[n.jsx("span",{children:c}),f>0&&n.jsxs("span",{children:["(+-",f,")"]}),g&&n.jsx("img",{src:`/assets/icons/arrows/${g}.png`,alt:"arrow-up",loading:"lazy"})]}):n.jsx("span",{children:"??"})]},t)})}),n.jsxs(W,{children:[n.jsxs(d,{children:[n.jsx("span",{children:"RESISTANCES"}),n.jsx("span",{})]}),n.jsx(N,{children:v.map(t=>{const r=Number(e[t.value]),o=w(t.value,r);return n.jsxs(H,{children:[n.jsx("strong",{children:t.displayname}),r&&r>0?n.jsxs("span",{children:[r,"%"]}):n.jsx("span",{children:"??"}),o&&n.jsx("img",{src:`/assets/icons/arrows/${o}.png`,alt:o,loading:"lazy"})]},t.value)})})]}),n.jsxs(Q,{children:[n.jsx("h3",{children:"CLASS"}),n.jsx("p",{children:"Very high Taunt, Medium health, and Above average Damage and initiative. They draw attention away from the rest of the team and seek glory, but are often the first unit hit."})]})]})]}):n.jsx(z,{src:"/assets/fighter/unknown-fighter.jpeg",alt:"",loading:"lazy"})};export{K as default};

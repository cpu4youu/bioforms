import{s as e,R as y,_ as L,r as N,j as n}from"./index-518d6393.js";import{b as p}from"./index.esm-d6c17ac3.js";import{u as E}from"./land-config-3bfe2246.js";import{u as M}from"./index-173f6e05.js";import{p as R}from"./constants-308cd0ac.js";import"./iconBase-d3da539d.js";import"./useQuery-4d50df66.js";const k=e("div",{d:"flex",w:"100%",direction:"column",">img":{my:"20px",objectFit:"contain",w:"100%"},h3:{d:"flex",alignItems:"center",gap:"10px",fs:"16px",color:"#FFFFFF",mb:"15px"},"@sm":{pb:"20px",">img":{d:"none"}}}),_=e("div",{d:"flex",gap:"3px",direction:"column",mt:"10px"}),l=e("div",{ff:"$heading",fs:"16px",color:"#FFFFFF",padding:"10px",br:"3px",bg:"#201D2C",mb:"10px",span:{color:"#FFB800"},"@sm":{fs:"12px"}}),q=e("div",{d:"flex",gap:"3px",span:{w:"50%",ff:"$heading",fs:"13px",color:"#FFFFFF",padding:"5px 10px",br:"3px",bg:"#201D2C","&:last-child":{w:"100%"},"@sm":{fs:"10px"}}}),V=e("div",{d:"flex",direction:"column",mt:"30px"}),A=e("h3",{color:"#FFFFFF","@sm":{fs:"12px"}}),Y=e("p",{color:"#FFFFFF",ff:"$heading",fs:"16px",mt:"5px",padding:"5px 10px",br:"3px",bg:"#201D2C","@sm":{fs:"10px"}}),O=e("div",{d:"flex",direction:"column",mt:"20px","@sm":{div:{top:"20px",left:"5px",fs:"10px"}}}),Q=e("div",{d:"flex",gap:"5px",mt:"30px"}),d=e("div",{d:"flex",alignItems:"center",justifyContent:"center",w:"100%",direction:"column",span:{d:"flex",alignItems:"center",justifyContent:"center",padding:"5px 10px",w:"100%",br:"5px 5px 0 0 ",color:"#FFFFFF",ff:"$heading",fs:"10px",fw:"$thin",bg:"#201D2C"}}),m=e("div",{d:"flex",alignItems:"center",justifyContent:"center",gap:"5px",padding:"5px",br:"0 0 5px 5px",w:"100%",color:"#FFFFFF",ff:"$heading",fs:"12px",fw:"normal",bg:"#1C1A26",img:{objectFit:"contain",w:"20px",my:"0px"}}),W=e("div",{d:"flex",gap:"3px",direction:"column",mt:"10px"}),G=e("div",{d:"flex",direction:"column",w:"100%",">p":{ff:"$heading",fs:"16px",color:"#FFFFFF",w:"100%",padding:"10px",br:"3px",bg:"#201D2C","@sm":{fs:"12px"}}}),H=e("div",{d:"flex",gap:"10px",w:"100%"}),J=e("button",{d:"flex",alignItems:"center",justifyContent:"center",direction:"column",position:"relative",w:"100%",h:"200px",span:{color:"#FFFFFF",ff:"$heading",fs:"16px",fw:"bold",zIndex:2},img:{objectFit:"contain",w:"80px",zIndex:2,br:"14px","&:last-child":{zIndex:1,objectFit:"cover",w:"100%",h:"100%",my:"0px",top:0,left:0,position:"absolute"}},".question":{fs:"44px"},variants:{isSelected:{true:{border:"2px solid #5DC3E8"}}}}),K=y.lazy(()=>L(()=>import("./index-c0abc4a2.js"),["assets/index-c0abc4a2.js","assets/index-518d6393.js","assets/index-55fec1ff.css","assets/index-9ef1fb22.js"])),U=()=>{var f,u,F,j;const{data:t}=E(),{buildingBoost:x,setBuildingBoost:v,selectedBuild:s,setSelectedBuild:w,selectedLand:o}=M(),[S,C]=N.useState(0);function I(i,r){w(i),C(r)}function D(i){const[r]=i,b=((s==null?void 0:s.boost_score)||0)/1e4;v(r<b?[b]:i)}const z=((f=t==null?void 0:t[0])==null?void 0:f.boost_base_cost)||0,$=((u=t==null?void 0:t[0])==null?void 0:u.boost_cost_first_percent)||0,B=(s==null?void 0:s.boost_score)||0,a=Number(((F=t==null?void 0:t[0])==null?void 0:F.boost_cost_mod)||0),P=(1-Math.pow(a,x[0]+1))/(1-a),T=(1-Math.pow(a,B/1e4+1))/(1-a),g=z+$*(P-T),c=(((j=t==null?void 0:t[0])==null?void 0:j.start_boost_score)||0)/1e4,h=g<c?c:g;return n.jsx(k,{children:s!=null&&s.boost_score?n.jsxs(n.Fragment,{children:[n.jsxs(_,{children:[n.jsx(l,{children:"This building currently gets selected 5.4 times more often than a level 1 tavern at 100% boost."}),n.jsxs(q,{children:[n.jsx("span",{children:"Next Level"}),n.jsx("span",{children:"Selection Frequency +20%"})]})]}),n.jsxs(V,{children:[n.jsx(A,{children:"Building Boost"}),n.jsx(Y,{children:"Boosting a building raises its perks, but usage and time reduce boost levels. If boost drops below 1%, the building becomes unusable."}),n.jsx(O,{children:n.jsx(K,{onValueChange:D,value:x})})]}),n.jsxs(Q,{children:[n.jsxs(d,{children:[n.jsx("span",{children:"Total Cost"}),n.jsxs(m,{children:[h.toFixed(2),n.jsx("img",{loading:"lazy",src:"/assets/icons/gems.png",alt:""})]})]}),n.jsxs(d,{children:[n.jsx("span",{children:"Cost per 1%"}),n.jsxs(m,{children:[(h/(x[0]-c||1)).toFixed(2),n.jsx("img",{loading:"lazy",src:"/assets/icons/gems.png",alt:""})]})]}),n.jsxs(d,{children:[n.jsx("span",{children:"Start Score"}),n.jsxs(m,{children:[c,"%"]})]})]}),n.jsx("img",{loading:"lazy",src:"/assets/mock/building.png",alt:"Land"})]}):s.index==0?n.jsxs(W,{children:[n.jsx("h3",{children:"Select Primary Building"}),n.jsxs(G,{children:[n.jsx("p",{children:"You can only have one primary building on your land"}),n.jsx(H,{children:R.map((i,r)=>n.jsxs(J,{isSelected:S===r,onClick:()=>I({...i,index:s.index},r),children:[n.jsx("span",{children:i.building_name}),i.img?n.jsx("img",{loading:"lazy",src:`/assets/buildings/${i.img}.png`,alt:i.img,title:i.img}):n.jsx("span",{className:"question",children:"?"}),n.jsx("img",{loading:"lazy",src:`/assets/lands/map_${o==null?void 0:o.data.planetName}_row-${o==null?void 0:o.data.y}-column-${o==null?void 0:o.data.x}.jpg`,alt:"Land"})]},i.building_name))})]}),(s==null?void 0:s.building_name)==="Tavern"&&n.jsxs(l,{children:[n.jsxs("h3",{children:[n.jsx(p,{size:30})," ",s==null?void 0:s.building_name," Information"]}),"In a ",s==null?void 0:s.building_name," players can recruit new fighters to their team. Landowners earn ",n.jsx("span",{children:"Shards"})," each time a trainer recruits a fighter on their land."]}),(s==null?void 0:s.building_name)==="Dungeon"&&n.jsxs(l,{children:[n.jsxs("h3",{children:[n.jsx(p,{size:30})," ",s==null?void 0:s.building_name," Information"]}),"In a ",s==null?void 0:s.building_name," players can level up their fighters. Landowners earn ",n.jsx("span",{children:"Shards"})," or ",n.jsx("span",{children:"TLM"})," each time a trainer wins in a dungeon on their land."]})]}):n.jsx(_,{children:n.jsxs(l,{children:[n.jsxs("h3",{children:[n.jsx(p,{size:30})," ",s==null?void 0:s.building_name," Information"]}),"This building currently gets selected 5.4 times more often than a level 1 tavern at 100% boost.In an ",s==null?void 0:s.building_name," players can ascend their fighters for",n.jsx("span",{children:" credits"})," or ",n.jsx("span",{children:"gems"}),". You will receive a portion of the spent currency."]})})})},rn=y.memo(U);export{rn as default};

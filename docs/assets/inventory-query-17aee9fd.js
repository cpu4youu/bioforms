import{Q as y,u as d}from"./index-af7d07b8.js";import{u as l}from"./useQuery-12f917d1.js";import{A as f}from"./atomic-api-ee4b80bb.js";const p=new f,s={Mythical:0,Legendary:1,Epic:2,Rare:3,Common:4,Abundant:5},E=(r,a,t)=>l({queryKey:[y.inventoryDataState,r,a?"removeDuplicates":""],queryFn:()=>A(r,a,t),staleTime:1e3*60*60,enabled:!!d.getState().user});async function A(r,a,t){const{user:e}=d.getState();try{const{getAssets:n}=p,i={owner:e==null?void 0:e.name,limit:1e3,schema_name:r},o=[];let u=0;do{u++;const c=await n({...i,page:u});o.push(...c)}while(u*1e3===o.length);const m=h(o,t);return a?m:g(o)}catch(n){return console.log(n),null}}function g(r){return r.reduce((t,e)=>(t.find(i=>i.template.template_id===e.template.template_id)||t.push(e),t),[])}function h(r,a){return a?r.sort((t,e)=>s[t.data.rarity]-s[e.data.rarity]):r.sort((t,e)=>s[e.data.rarity]-s[t.data.rarity])}export{E as u};

import{s as o,S as d,d as v,u as c,Q as p,R as u,_ as x,r as g,j as s}from"./index-0842a7bf.js";import{s as w}from"./shimmer-26d896a3.js";import{u as f}from"./use-transaction-293fdcb4.js";import{s as m}from"./sleep-da79c358.js";const y=o("div",{d:"grid",gridTemplateAreas:`
    "empty header"
    "main main"
  `,gridTemplateRows:"68px 1fr",gridTemplateColumns:"3fr 200px",gap:"10px",br:"15px",w:"100%",h:"100%"}),S=o("div",{gridArea:"header",d:"flex",justifyContent:"flex-end",gap:"10px",minHeight:"65px",button:{padding:"20px",w:"100%",maxW:"100%",div:{d:"flex",alignItems:"center",gap:"5px",color:"#828282",img:{objectFit:"contain",w:"24px"}}}}),b=o("div",{gridArea:"main",position:"relative",d:"flex",align:"flex-start",alignContent:"flex-start",justify:"flex-center",justifyContent:"flex-center",w:"100%",minH:"calc(100vh - 160px)",maxH:"calc(100vh - 160px)",gap:"10px",padding:"10px",br:"0 15px 15px 15px",bg:"#141423","@md":{h:"calc(100vh - 175px)",direction:"column"}}),_=o("div",{d:"flex",align:"flex-start",alignContent:"flex-start",justify:"flex-center",justifyContent:"flex-center",br:"15px 15px 0 0",bg:"#19192D",position:"absolute",top:"-35px",left:"0",button:{border:"1px solid rgba(0, 0, 0, 0.25)",padding:"10px 20px",color:"#fff","&:first-child":{br:"15px 0 0 0"},"&:last-child":{br:"0 15px 0 0"}}});o("div",{d:"flex",direction:"column",w:"100%",maxW:"820px",padding:"24px 30px",minH:"calc(100vh - 175px)",maxH:"calc(100vh - 175px)",overflowY:"auto","@md":{h:"unset"}});o("div",{d:"flex",direction:"column",gap:"10px",w:"100%"});o("div",{d:"flex",gap:"10px",mt:"20px",w:"100%",img:{width:25,height:25}});o("span",{d:"flex",direction:"column",w:"100%",color:"#fff",fs:"16px",ff:"$heading"});o("span",{d:"flex",direction:"column",w:"100%",padding:"10px 10px 20px 10px",bg:"#201D2C",color:"#fff",fs:"16px",ff:"$heading"});o("div",{d:"flex",w:"100%",m:"17px 0 60px"});o("div",{display:"flex",justify:"center",gap:"10px",img:{"&:hover":{transform:"scale(1.05)",zIndex:"4","-webkit-filter":"drop-shadow(0px 0px 8px #00BAFF)",filter:"drop-shadow(0px 0px 5px #00BAFF)"}},variants:{cardSelected:{0:{img:{"&:nth-of-type(2)":{opacity:"0.2"},"&:nth-of-type(3)":{opacity:"0.2"}}},1:{img:{"&:nth-of-type(1)":{opacity:"0.2"},"&:nth-of-type(3)":{opacity:"0.2"}}},2:{img:{"&:nth-of-type(1)":{opacity:"0.2"},"&:nth-of-type(2)":{opacity:"0.2"}}}}}});o("img",{cursor:"pointer",transition:"all 0.2s ease-in-out",w:"85px",h:"116px",zIndex:"2",variants:{isSelected:{true:{filter:"grayscale(100%)"}}},"@sm":{w:"65px",h:"90px"}});o("div",{d:"flex",gap:"10px",alignContent:"flex-start",flexWrap:"wrap",overflow:"auto",w:"100%",h:"calc(100vh - 235px)","@md":{h:"unset"}});o("div",{w:"85px",h:"116px",background:"linear-gradient( -90deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.25) ,rgba(255, 255, 255, 0.15))",br:"10px",backgroundSize:"400% 400%",animation:`${w} 1.2s ease-in-out infinite`,"@sm":{width:"70px",height:"100px"}});async function A({mine_nfts:a,user:t,landowner_tlm_share:e}){const{executeTransaction:n}=f(),i=T({user:t,mine_nfts:a,landowner_tlm_share:e});return!!await n(i)}function T({mine_nfts:a,user:t,landowner_tlm_share:e}){return{actions:[{account:d.playersAle,name:"setminenfts",authorization:[{actor:t.name,permission:t.authorization.permission}],data:{wallet:t.name,player:t.name,mine_nfts:a}},{account:d.playersAle,name:"setlndowshr",authorization:[{actor:t.name,permission:t.authorization.permission}],data:{wallet:t.name,landowner_tlm_share:e}}]}}async function j({user:a,playertag:t,avatar_id:e}){const{executeTransaction:n}=f(),i=C({user:a,playertag:t,avatar_id:e});return!!await n(i)}function C({playertag:a,user:t,avatar_id:e}){return{actions:[{account:d.playersAle,name:"settag",authorization:[{actor:t.name,permission:t.authorization.permission}],data:{wallet:t.name,playertag:a}},{account:d.playersAle,name:"setavatar",authorization:[{actor:t.name,permission:t.authorization.permission}],data:{wallet:t.name,avatar_id:e}}]}}async function z({user:a,avatar_ids:t}){const{executeTransaction:e}=f(),n=k({user:a,avatar_ids:t});return!!await e(n)}function k({user:a,avatar_ids:t}){return{actions:[{account:d.playersAle,name:"unlockavatar",authorization:[{actor:a.name,permission:a.authorization.permission}],data:{wallet:a.name,avatar_ids:t}}]}}const M=v((a,t)=>{var e,n,i;return{gameTag:(e=c.getState().user)==null?void 0:e.playertag,setGameTag:r=>a({gameTag:r}),selectedAvatar:(n=c.getState().user)==null?void 0:n.active_avatar,setSelectedAvatar:r=>a({selectedAvatar:r}),handleSaveAvatar:()=>P(t),selectedCards:[void 0,void 0,void 0],setSelectedCards:r=>a({selectedCards:r}),rewardSlider:((i=c.getState().user)==null?void 0:i.landowner_tlm_share)||0,setRewardSlider:r=>a({rewardSlider:r}),handleSaveMineNft:()=>R(t),handleUnlockAvatar:r=>D(r)}});async function R(a){const{selectedCards:t,rewardSlider:e}=a(),n=c.getState().user,i=t.filter(l=>!!l).map(l=>+l.asset_id);await A({user:n,mine_nfts:i,landowner_tlm_share:e})&&(await m(3e3),await c.getState().updatePlayerData(),p.success("Mine nft equipped !"))}async function P(a){const{gameTag:t,selectedAvatar:e}=a(),n=c.getState().user;if(!t||!e){p.error("Please set a gamertag and select an avatar.");return}await j({user:n,playertag:t,avatar_id:e})&&(await m(3e3),await c.getState().updatePlayerData(),p.success("Mine nft equipped !"))}async function D(a){const t=c.getState().user;await z({user:t,avatar_ids:a})&&(await m(3e3),await c.getState().updatePlayerData(),p.success("Avatar unlocked !"))}const E=u.lazy(()=>x(()=>import("./index-4e2fae15.js"),["assets/index-4e2fae15.js","assets/index-0842a7bf.js","assets/index-55fec1ff.css","assets/index-c1ce8255.js"])),H=u.lazy(()=>x(()=>import("./index-7b9e12fa.js"),["assets/index-7b9e12fa.js","assets/index-0842a7bf.js","assets/index-55fec1ff.css","assets/shimmer-26d896a3.js","assets/inventory-query-089f97a0.js","assets/useQuery-c322c853.js","assets/atomic-api-0e2f3d2f.js","assets/toast-options-bfcbf5a9.js","assets/index-49b5f9ea.js","assets/index-3aead406.js","assets/use-transaction-293fdcb4.js","assets/sleep-da79c358.js"])),I=u.lazy(()=>x(()=>import("./index-6c66c63b.js"),["assets/index-6c66c63b.js","assets/index-0842a7bf.js","assets/index-55fec1ff.css","assets/index-4e2fae15.js","assets/index-c1ce8255.js","assets/shimmer-26d896a3.js","assets/styles-707f71c9.js","assets/useQuery-c322c853.js","assets/use-transaction-293fdcb4.js","assets/toast-options-bfcbf5a9.js","assets/sleep-da79c358.js"])),O=()=>{const{handleSaveAvatar:a,handleSaveMineNft:t}=M(),[e,n]=g.useState(!1),[i,r]=g.useState("mining");async function l(){try{n(!0),i==="mining"&&await t(),i==="avatar"&&await a()}catch(h){console.error(h)}finally{n(!1)}}return s.jsxs(y,{children:[s.jsx(S,{children:s.jsx(E,{isLoading:e,disabled:e,onClick:l,children:"Save Settings"})}),s.jsxs(b,{children:[s.jsxs(_,{children:[s.jsx("button",{onClick:()=>r("mining"),children:"Mining"}),s.jsx("button",{onClick:()=>r("avatar"),children:"Avatar"})]}),i==="mining"&&s.jsx(H,{}),i==="avatar"&&s.jsx(I,{})]})]})},W=Object.freeze(Object.defineProperty({__proto__:null,default:O},Symbol.toStringTag,{value:"Module"}));export{W as i,M as u};

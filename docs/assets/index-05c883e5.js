import{s as r,S as d,d as v,u as l,Q as p,R as x,_ as f,r as u,j as s}from"./index-37d3433e.js";import{s as w}from"./shimmer-81418663.js";import{u as m}from"./use-transaction-36d26d5c.js";import{s as g}from"./sleep-da79c358.js";const y=r("div",{d:"grid",gridTemplateAreas:`
    "empty header"
    "main main"
  `,gridTemplateRows:"68px 1fr",gridTemplateColumns:"3fr 1fr",gap:"10px",br:"15px",w:"100%",h:"100%"}),S=r("div",{gridArea:"header",d:"flex",justifyContent:"flex-end",gap:"10px",minHeight:"65px",button:{padding:"20px",w:"100%",maxW:"100%",div:{d:"flex",alignItems:"center",gap:"5px",color:"#828282",img:{objectFit:"contain",w:"24px"}}}}),b=r("div",{gridArea:"main",position:"relative",d:"flex",align:"flex-start",alignContent:"flex-start",justify:"flex-center",justifyContent:"flex-center",w:"100%",minH:"calc(100vh - 160px)",maxH:"calc(100vh - 160px)",gap:"10px",padding:"10px",br:"0 15px 15px 15px",bg:"#141423","@md":{h:"calc(100vh - 175px)",direction:"column"}}),_=r("div",{d:"flex",align:"flex-start",alignContent:"flex-start",justify:"flex-center",justifyContent:"flex-center",br:"15px 15px 0 0",bg:"#19192D",position:"absolute",top:"-35px",left:"0",button:{border:"1px solid rgba(0, 0, 0, 0.25)",padding:"10px 20px",color:"#fff","&:first-child":{br:"15px 0 0 0"},"&:last-child":{br:"0 15px 0 0"}}});r("div",{d:"flex",direction:"column",w:"100%",maxW:"820px",padding:"24px 30px",minH:"calc(100vh - 175px)",maxH:"calc(100vh - 175px)",overflowY:"auto","@md":{h:"unset"}});r("div",{d:"flex",direction:"column",gap:"10px",w:"100%"});r("div",{d:"flex",gap:"10px",mt:"20px",w:"100%",img:{width:25,height:25}});r("span",{d:"flex",direction:"column",w:"100%",color:"#fff",fs:"16px",ff:"$heading"});r("span",{d:"flex",direction:"column",w:"100%",padding:"10px 10px 20px 10px",bg:"#201D2C",color:"#fff",fs:"16px",ff:"$heading"});r("div",{d:"flex",w:"100%",m:"17px 0 60px"});r("div",{display:"flex",justify:"center",gap:"10px",img:{"&:hover":{transform:"scale(1.05)",zIndex:"4","-webkit-filter":"drop-shadow(0px 0px 8px #00BAFF)",filter:"drop-shadow(0px 0px 5px #00BAFF)"}},variants:{cardSelected:{0:{img:{"&:nth-of-type(2)":{opacity:"0.2"},"&:nth-of-type(3)":{opacity:"0.2"}}},1:{img:{"&:nth-of-type(1)":{opacity:"0.2"},"&:nth-of-type(3)":{opacity:"0.2"}}},2:{img:{"&:nth-of-type(1)":{opacity:"0.2"},"&:nth-of-type(2)":{opacity:"0.2"}}}}}});r("img",{cursor:"pointer",transition:"all 0.2s ease-in-out",w:"85px",h:"116px",zIndex:"2",variants:{isSelected:{true:{filter:"grayscale(100%)"}}},"@sm":{w:"65px",h:"90px"}});r("div",{d:"flex",gap:"10px",alignContent:"flex-start",flexWrap:"wrap",overflow:"auto",w:"100%",h:"calc(100vh - 235px)","@md":{h:"unset"}});r("div",{w:"85px",h:"116px",background:"linear-gradient( -90deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.25) ,rgba(255, 255, 255, 0.15))",br:"10px",backgroundSize:"400% 400%",animation:`${w} 1.2s ease-in-out infinite`,"@sm":{width:"70px",height:"100px"}});async function T({mine_nfts:e,user:t,landowner_tlm_share:a}){const{executeTransaction:n}=m(),i=A({user:t,mine_nfts:e,landowner_tlm_share:a});return!!await n(i)}function A({mine_nfts:e,user:t,landowner_tlm_share:a}){return{actions:[{account:d.playersAle,name:"setminenfts",authorization:[{actor:t.name,permission:t.authorization.permission}],data:{wallet:t.name,player:t.name,mine_nfts:e}},{account:d.playersAle,name:"setlndowshr",authorization:[{actor:t.name,permission:t.authorization.permission}],data:{wallet:t.name,landowner_tlm_share:a}}]}}async function j({user:e,playertag:t,avatar_id:a}){const{executeTransaction:n}=m(),i=C({user:e,playertag:t,avatar_id:a});return!!await n(i)}function C({playertag:e,user:t,avatar_id:a}){return{actions:[{account:d.playersAle,name:"settag",authorization:[{actor:t.name,permission:t.authorization.permission}],data:{wallet:t.name,playertag:e}},{account:d.playersAle,name:"setavatar",authorization:[{actor:t.name,permission:t.authorization.permission}],data:{wallet:t.name,avatar_id:a}}]}}const z=v((e,t)=>{var a,n,i;return{gameTag:(a=l.getState().user)==null?void 0:a.playertag,setGameTag:o=>e({gameTag:o}),selectedAvatar:(n=l.getState().user)==null?void 0:n.active_avatar,setSelectedAvatar:o=>e({selectedAvatar:o}),handleSaveAvatar:()=>R(t),selectedCards:[void 0,void 0,void 0],setSelectedCards:o=>e({selectedCards:o}),rewardSlider:((i=l.getState().user)==null?void 0:i.landowner_tlm_share)||0,setRewardSlider:o=>e({rewardSlider:o}),handleSaveMineNft:()=>M(t)}});async function M(e){const{selectedCards:t,rewardSlider:a}=e(),n=l.getState().user,i=t.filter(c=>!!c).map(c=>+c.asset_id);await T({user:n,mine_nfts:i,landowner_tlm_share:a})&&(await g(3e3),await l.getState().updatePlayerData(),p.success("Mine nft equipped !"))}async function R(e){const{gameTag:t,selectedAvatar:a}=e(),n=l.getState().user;if(!t||!a){p.error("Please set a gamertag and select an avatar.");return}await j({user:n,playertag:t,avatar_id:a})&&(await g(3e3),await l.getState().updatePlayerData(),p.success("Mine nft equipped !"))}const E=x.lazy(()=>f(()=>import("./index-e8bb5728.js"),["assets/index-e8bb5728.js","assets/index-37d3433e.js","assets/index-55fec1ff.css","assets/index-d54b856c.js"])),P=x.lazy(()=>f(()=>import("./index-29b3fc76.js"),["assets/index-29b3fc76.js","assets/index-37d3433e.js","assets/index-55fec1ff.css","assets/shimmer-81418663.js","assets/inventory-query-524d5d91.js","assets/useQuery-37804139.js","assets/atomic-api-ce71d580.js","assets/toast-options-baa6c4a9.js","assets/index-55fdf9d7.js","assets/index-ed1f18e3.js","assets/use-transaction-36d26d5c.js","assets/sleep-da79c358.js"])),D=x.lazy(()=>f(()=>import("./index-4c21c3ec.js"),["assets/index-4c21c3ec.js","assets/index-37d3433e.js","assets/index-55fec1ff.css","assets/shimmer-81418663.js","assets/styles-def59dc9.js","assets/useQuery-37804139.js","assets/use-transaction-36d26d5c.js","assets/toast-options-baa6c4a9.js","assets/sleep-da79c358.js"])),k=()=>{const{handleSaveAvatar:e,handleSaveMineNft:t}=z(),[a,n]=u.useState(!1),[i,o]=u.useState("mining");async function c(){try{n(!0),i==="mining"&&await t(),i==="avatar"&&await e()}catch(h){console.error(h)}finally{n(!1)}}return s.jsxs(y,{children:[s.jsx(S,{children:s.jsx(E,{isLoading:a,disabled:a,onClick:c,children:"Save Settings"})}),s.jsxs(b,{children:[s.jsxs(_,{children:[s.jsx("button",{onClick:()=>o("mining"),children:"Mining"}),s.jsx("button",{onClick:()=>o("avatar"),children:"Avatar"})]}),i==="mining"&&s.jsx(P,{}),i==="avatar"&&s.jsx(D,{})]})]})},L=Object.freeze(Object.defineProperty({__proto__:null,default:k},Symbol.toStringTag,{value:"Module"}));export{L as i,z as u};

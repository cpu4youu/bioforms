import{s as r,R as u,_ as h,u as j,r as v,j as e,Q as l}from"./index-8b01bd0a.js";import{u as _}from"./index-96fc7e9d.js";import{s as y}from"./index-98478877.js";import{u as g,e as w}from"./index-c5cbb638.js";import{s as f}from"./sleep-da79c358.js";import{o as b}from"./fighters-query-0a0babbd.js";import"./useQuery-e36ba289.js";import"./use-transaction-d8858974.js";import"./toast-options-cef04bb1.js";const S=r("div",{display:"flex",h:"175px",w:"100%",maxW:"375px",gap:"8px",padding:"5px",position:"relative",">img":{zIndex:"1",position:"absolute",top:"0",left:"0",w:"100%",h:"100%"}}),L=r("div",{display:"flex",gap:"10px",zIndex:"2"}),$=r("div",{display:"flex",bg:"#282828",br:"3px 3px 5px",w:"12px",h:"100%",div:{display:"flex",br:"3px 3px 5px",w:"100%",mt:"auto",background:"green"}}),z=r("div",{w:"55px",h:"157px",overflow:"hidden",br:"10px",img:{w:"55px",h:"157px",objectPosition:"top",objectFit:"cover"}}),A=r("div",{display:"flex",direction:"column",zIndex:"2",w:"210px",br:"3px",bg:"rgba(0, 0, 0, 0.3)",padding:"10px",p:{fs:"10px",textShadow:"1px 1px 3px #000",color:"white"}}),F=r("div",{display:"flex",color:"white",textShadow:"1px 1px 3px #000",fs:"16px"}),P=r("div",{display:"flex",color:"white",fs:"10px",textShadow:"1px 1px 3px #000"}),R=r("div",{display:"flex",justifyContent:"space-between",color:"white",textTransform:"capitalize",textShadow:"1px 1px 3px #000",fs:"10px"}),k=r("div",{display:"grid",gridTemplateRows:"repeat(3,1fr)",gap:"5px",zIndex:"2",button:{fs:"10px",padding:"5px 10px"}}),c=u.lazy(()=>h(()=>import("./index-acbe3f0e.js"),["assets/index-acbe3f0e.js","assets/index-8b01bd0a.js","assets/index-55fec1ff.css"])),O=({fighter:t})=>{const a=t.stats,{setSelectedFighter:d}=_(),{data:i}=g(),p=j(s=>s.user),[o,x]=v.useState(!1);async function m(){const s=i==null?void 0:i.find(n=>n.level===t.stats.level);try{if(x(!0),!s){l.error("No level find on levels table");return}if(!await w(p,{cost_credits:s==null?void 0:s.unlock_cost_credits,cost_gems:s==null?void 0:s.unlock_cost_gem,fighter_ids:[t.fighter_id]}))return;await f(2e3),b(p.name),l.success("Fighter leveled up!")}catch(n){console.error(n)}finally{x(!1)}}return e.jsxs(S,{onClick:()=>d(t),children:[e.jsxs(L,{children:[e.jsx($,{children:e.jsx("div",{style:{height:"100%"}})}),e.jsx(z,{children:e.jsx("img",{src:`/assets/fighter/full_${t.racename}_${t.classname}_${t.element}.jpeg`,alt:"",loading:"lazy"})})]}),e.jsxs(A,{children:[e.jsxs(F,{children:[t.racename," ",t.classname]}),e.jsxs(P,{children:[e.jsxs("span",{children:["Level: ",a.level]}),e.jsxs("span",{children:["XP: ",t.stats.experience,"/",t.stats.required_experience]})]}),e.jsxs("p",{children:["Element: ",t.element]}),e.jsxs("p",{children:["Age Penalty: ",e.jsx("span",{children:"- 22%"})]}),y.map(s=>e.jsxs(R,{children:[e.jsxs("strong",{children:[s,":"]}),e.jsxs("span",{children:[String(a==null?void 0:a[`${s}_min`])," -"," ",Array.isArray(a==null?void 0:a[`${s}_max`])?JSON.stringify(a==null?void 0:a[`${s}_max`]):String(a==null?void 0:a[`${s}_max`])]})]},s))]}),e.jsxs(k,{children:[e.jsx(c,{isLoading:o,disabled:o||t.stats.experience<t.stats.required_experience,onClick:m,children:"Level up"}),e.jsx(c,{children:"Pay"})]}),e.jsx("img",{src:`/assets/elements/${t.element}.jpeg`,alt:""})]})};export{O as default};

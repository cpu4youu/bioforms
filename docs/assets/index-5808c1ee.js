import{s as r,n as $,r as j,R as L,_ as E,u as M,j as t}from"./index-127176c3.js";import{u as B}from"./fighters-query-f333e253.js";import{u as R}from"./index-ca935aea.js";import D from"./index-eea6254e.js";import{u as O}from"./use-media-2d4e8402.js";import{u as N}from"./inventory-query-615a7f99.js";import{u as Q}from"./index-3bd83751.js";import{v as U}from"./v4-4a60fe23.js";import"./useQuery-f6abb408.js";import"./atomic-api-de083aab.js";import"./toast-options-e0a34716.js";import"./index-af1ff78f.js";import"./index-7921260e.js";import"./sleep-da79c358.js";import"./use-transaction-9c787237.js";const H=r("div",{display:"flex",direction:"column",w:"100%"}),V=r("div",{display:"flex",direction:"column",gap:"10px"}),Y=r("div",{display:"flex",justify:"start",gap:"15px","@xlg":{justify:"center"},"@xsm":{gap:"5px"}}),q=r("h4",{display:"flex",textTransform:"uppercase",color:"#fff",ff:"$heading","@xlg":{justify:"center"}}),G=r("div",{gridArea:"content",ml:"20px",mt:"20px",img:{"&:hover":{transform:"scale(1.05)",zIndex:"4","-webkit-filter":"drop-shadow(0px 0px 8px #00BAFF)",filter:"drop-shadow(0px 0px 5px #00BAFF)"},"&:nth-of-type(1)":{transform:"translate(5px,20px) rotate(-20deg)",zIndex:"3","&:hover":{transform:"scale(1.05) translate(5px,20px) rotate(-20deg)",zIndex:"4"}},"&:nth-of-type(2)":{transform:"translate(-5px,20px) rotate(20deg)",zIndex:"1","&:hover":{transform:"scale(1.05) translate(-5px,20px) rotate(20deg)",zIndex:"4"}}},variants:{cardSelected:{0:{img:{"&:nth-of-type(1)":{zIndex:"3"},"&:nth-of-type(2)":{opacity:"0.2"}}},1:{img:{"&:nth-of-type(1)":{opacity:"0.2"},"&:nth-of-type(2)":{}}}}},"@xlg":{display:"flex",justify:"center"},"@sm":{mb:"30px"}}),P=r("img",{cursor:"pointer",transition:"all 0.2s ease-in-out",w:"75px",h:"100px",zIndex:"2",variants:{isSelected:{true:{filter:"grayscale(100%)"}}},"@sm":{w:"65px",h:"90px"}}),J=r("div",{gridArea:"inventory",display:"flex",direction:"column",w:"100%",mt:"50px",span:{ff:"$heading",fs:"16px",fw:"bold",color:"#fff",textAlign:"center"},"@sm":{mt:"20px"}});r("div",{d:"flex",align:"center",gap:"20px",mb:"20px","@sm":{m:"0px 0 20px",gap:"10px",flexWrap:"wrap",span:{my:"10px"}}});r("button",{d:"flex",align:"center",justify:"center",fs:"12px",ff:"$heading",fw:"$bold",color:"$white500",variants:{isSelected:{true:{textUnderlineOffset:"0.5em",textDecoration:"underline"}}},"@sm":{fs:"14px"}});const K=r("div",{d:"flex",flexWrap:"wrap",gap:"10px",overflow:"auto",w:"100%",maxH:"calc(100vh - 590px)"}),X=$({"0%":{backgroundPosition:"0% 0%"},"100%":{backgroundPosition:"-135% 0%"}}),Z=r("div",{w:"75px",h:"100px",background:"linear-gradient( -90deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.25) ,rgba(255, 255, 255, 0.15))",br:"10px",backgroundSize:"400% 400%",animation:`${X} 1.2s ease-in-out infinite`,"@sm":{width:"70px",height:"100px"}}),ee=r("div",{display:"flex",direction:"column",mt:"40px"}),te=r("span",{ff:"$heading",fs:"16px",fw:"bold",color:"#00BAFF",mb:"20px","@xlg":{textAlign:"center"}}),ne=r("div",{display:"flex"}),re=r("div",{display:"flex",direction:"column",gap:"10px"}),se=r("h3",{ff:"$heading",fs:"16px",fw:"bold",color:"#00BAFF"}),ie=r("div",{display:"flex",gap:"5px",mb:"20px",button:{w:"unset",h:"unset",borderWidth:"1px",minW:"unset",padding:"2px 5px",fs:"10px",br:"6px",textTransform:"capitalize"},"@sm":{width:"100%",flexWrap:"wrap"}}),oe=r("div",{display:"flex"}),ae=r("div",{display:"flex",flexWrap:"wrap",gap:"10px"}),le=["gem","nature","metal","neutral","fire","air"];function de(){const{selectedCards:c,setSelectedCards:h,myTeam:u,setMyTeam:m}=Q(),[i,y]=j.useState([]),[f,w]=j.useState("fighter"),[g,p]=j.useState(0),[T,v]=j.useState("level.worlds"),[x,l]=j.useState(-1),{data:A,isLoading:b}=N(T);function k(n){if(l(-1),w("fighter"),n===g){p(-1);return}p(n)}function z(n){if(p(-1),w("nft"),n===x){l(-1);return}l(n),v(n===0?"crew.worlds":n===1?"arms.worlds":"crew.worlds")}function S(n){if(!n){const a=c.map((s,F)=>{if(F!==x)return s}),e=x+1;if(l(e),h(a),v(e===0?"crew.worlds":e===1?"arms.worlds":"crew.worlds"),e>1){l(-1);return}return}if(c.some(a=>(a==null?void 0:a.asset_id)===(n==null?void 0:n.asset_id))){l(-1);return}const o=c.map((a,e)=>e===x?n:a),d=x+1;if(l(d),h(o),v(d===0?"crew.worlds":d===1?"arms.worlds":"crew.worlds"),d>1){l(-1);return}}function _(n){if(i.includes(n)){y(i.filter(o=>o!==n));return}y([...i,n])}function I(n){const o=u.map((a,e)=>e===g?n:a);m(o);const d=g+1;if(d===5){p(-1);return}p(d)}function C(n){return c.some(o=>(o==null?void 0:o.asset_id)!==n.asset_id)}return{selectedCards:c,inventoryPosition:x,filterSelected:i,myTeam:u,fighterPosition:g,itemSelected:f,inventory:A,isInventoryLoading:b,handleFighterPosition:k,handleInventoryPosition:z,handleSelectCard:S,handleSelectFilter:_,handleAddFighter:I,filterInventoryCards:C}}const W=L.lazy(()=>E(()=>import("./index-2a30c43e.js"),["assets/index-2a30c43e.js","assets/index-127176c3.js","assets/index-55fec1ff.css"])),_e=()=>{var S,_,I,C,n,o,d,a;const{setSelectedFighter:c}=R(),{isSuperLarge:h}=O(),u=M(e=>e.user),{data:m}=B(u==null?void 0:u.name),{selectedCards:i,inventoryPosition:y,filterSelected:f,myTeam:w,fighterPosition:g,inventory:p,isInventoryLoading:T,itemSelected:v,handleAddFighter:x,handleInventoryPosition:l,handleFighterPosition:A,handleSelectCard:b,handleSelectFilter:k,filterInventoryCards:z}=de();return console.log({fighters:m}),t.jsxs(H,{children:[t.jsxs(V,{children:[t.jsx(q,{children:"YOUR TEAM"}),t.jsx(Y,{children:w.map((e,s)=>t.jsx(W,{onClick:()=>A(s),isSelected:g===s,fighter:e},U()))})]}),t.jsxs(G,{cardSelected:y,children:[t.jsx(P,{onClick:()=>l(0),loading:"lazy",src:i[0]?`/assets/aw-nft-images/${(S=i[0])==null?void 0:S.template.template_id}.webp`:"/assets/default-card.png",alt:(I=(_=i[0])==null?void 0:_.data)==null?void 0:I.name}),t.jsx(P,{onClick:()=>l(1),loading:"lazy",src:i[1]?`/assets/aw-nft-images/${(C=i[1])==null?void 0:C.template.template_id}.webp`:"/assets/default-card.png",alt:(o=(n=i[1])==null?void 0:n.data)==null?void 0:o.name})]}),v==="fighter"?t.jsxs(ee,{children:[t.jsx(te,{children:"Select your Team"}),t.jsxs(ne,{children:[t.jsxs(re,{children:[t.jsx(se,{children:"Filter"}),t.jsx(ie,{children:le.map(e=>t.jsx(D,{color:f.includes(e)?"blue":"black",onClick:()=>k(e),children:e},e))})]}),t.jsx(oe,{})]}),t.jsx(ae,{children:(d=m==null?void 0:m.filter(e=>f!=null&&f.length?f.some(s=>e.element===s):!0))==null?void 0:d.map(e=>t.jsx(W,{disabled:w.some(s=>e.fighter_id===(s==null?void 0:s.fighter_id)),onMouseEnter:()=>h?null:c(e),onMouseLeave:()=>h?null:c(null),onClick:()=>x(e),fighter:e},e==null?void 0:e.fighter_id))})]}):t.jsx(J,{children:i.length!==0&&y===-1?t.jsx("span",{children:"Select a card"}):t.jsx(K,{children:T?new Array(12).fill(0).map((e,s)=>t.jsx(Z,{},s)):t.jsxs(t.Fragment,{children:[t.jsx(P,{onClick:()=>b(void 0),src:"/assets/default-card.png",alt:"default card"}),(a=p==null?void 0:p.filter(z))==null?void 0:a.map(e=>{var s;return t.jsx(P,{isSelected:i.some(F=>(F==null?void 0:F.asset_id)===(e==null?void 0:e.asset_id)),onClick:()=>b(e),loading:"lazy",src:`/assets/aw-nft-images/${e==null?void 0:e.template.template_id}.webp`,alt:(s=e==null?void 0:e.data)==null?void 0:s.name},e==null?void 0:e.asset_id)})]})})})]})};export{_e as default};

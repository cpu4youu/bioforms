import{e as n,u as r,v as u,p as d}from"./index-255dedfe.js";import{u as l}from"./useQuery-b58a3143.js";import{A as m}from"./atomic-api-5dd6c348.js";const S=()=>l({queryKey:[n.myLandsState],queryFn:()=>y(),staleTime:1e3*60*60,enabled:!!r.getState().user});async function b(){return await u.invalidateQueries(n.myLandsState)}async function y(){var t;try{const{getAssets:e}=new m,a=await e({collection_name:"alien.worlds",schema_name:"land.worlds",owner:(t=r.getState().user)==null?void 0:t.name,page:1,limit:1e3,order:"desc",sort:"asset_id"});return g(a)}catch(e){return console.log(e),null}}function g(t){return t.map(e=>({...e,asset_id:Number(e.asset_id),data:{...e.data,planetName:e.data.name.split("on ")[1].toLowerCase()}}))}const s=["eyeke","kavian","veles","magor","neri","naron"],A=()=>l({queryKey:[n.allBuildingsState],queryFn:()=>f(),staleTime:1e3*60*60,enabled:!!r.getState().user});async function L(){return await u.invalidateQueries(n.allBuildingsState)}async function f(){try{const t={};for(let e=0;e<s.length;e++){const a=await d(s[e]);if(a){const o=(a==null?void 0:a.filter(c=>{var i;return!!((i=c.buildings)!=null&&i.length)}))||[];t[s[e]]=o}}return t}catch(t){return console.log(t),null}}export{L as a,A as b,b as o,S as u};

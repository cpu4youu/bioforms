import{s,e as F,u as w,R as _,_ as C,r as j,j as e}from"./index-70e0b2df.js";import{s as E}from"./shimmer-b79aec4a.js";import{u as P}from"./inventory-query-90b5fb88.js";import{u as M}from"./useQuery-7d8e5c8d.js";import{a as R}from"./adapters-fb942ce1.js";import B from"./index-e8bca526.js";import{u as D}from"./index-cc3d203f.js";import"./atomic-api-6ce1afb7.js";import"./toast-options-37709a4b.js";import"./index-dbfb955e.js";import"./use-transaction-0a64dc19.js";import"./sleep-da79c358.js";const z=s("div",{d:"flex",direction:"column",padding:"24px 30px",overflowY:"auto",w:"100%",h:"100%"});s("div",{gridArea:"header",d:"flex",justifyContent:"flex-end",gap:"10px",minHeight:"65px",button:{padding:"20px",w:"100%",maxW:"100%",div:{d:"flex",alignItems:"center",gap:"5px",color:"#828282",img:{objectFit:"contain",w:"24px"}}}});const h=s("div",{d:"flex",direction:"column",gap:"10px","&:last-child":{w:"100%",maxW:"calc(100% - 345px)"},"@md":{"&:last-child":{maxW:"100%"}}}),W=s("div",{d:"flex",alignItems:"center",justifyContent:"center",gap:"10px",mt:"20px",w:"100%",img:{width:25,height:25}}),g=s("span",{d:"flex",direction:"column",w:"100%",color:"#fff",fs:"16px",ff:"$heading"}),S=s("span",{d:"flex",direction:"column",w:"100%",padding:"10px 10px 20px 10px",br:"10px",bg:"#201D2C",color:"#fff",fs:"16px",ff:"$heading"}),k=s("div",{d:"flex",alignItems:"center",flexWrap:"wrap",gap:"30px",mt:"20px",w:"100%"}),O=s("div",{display:"flex",gap:"10px",br:"10px",bg:"#1D1B20",padding:"20px",img:{"&:hover":{transform:"scale(1.05)",zIndex:"4","-webkit-filter":"drop-shadow(0px 0px 8px #00BAFF)",filter:"drop-shadow(0px 0px 5px #00BAFF)"}},variants:{cardSelected:{0:{">div":{"&:nth-of-type(2)":{opacity:"0.2"},"&:nth-of-type(3)":{opacity:"0.2"}}},1:{">div":{"&:nth-of-type(1)":{opacity:"0.2"},"&:nth-of-type(3)":{opacity:"0.2"}}},2:{">div":{"&:nth-of-type(1)":{opacity:"0.2"},"&:nth-of-type(2)":{opacity:"0.2"}}}}}}),Q=s("div",{display:"flex",gap:"10px",br:"10px",bg:"#1D1B20",padding:"20px",overflowX:"auto",w:"100%",minH:"220px",maxH:"220px",img:{"&:hover":{transform:"scale(1.05)",zIndex:"4","-webkit-filter":"drop-shadow(0px 0px 8px #00BAFF)",filter:"drop-shadow(0px 0px 5px #00BAFF)"}}}),V=s("img",{cursor:"pointer",transition:"all 0.2s ease-in-out",w:"80px",h:"115px",zIndex:"2",variants:{isSelected:{true:{filter:"grayscale(100%)"}}},"@sm":{w:"65px",h:"90px"}}),b=s("div",{w:"85px",h:"116px",background:"linear-gradient( -90deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.25) ,rgba(255, 255, 255, 0.15))",br:"10px",backgroundSize:"400% 400%",animation:`${E} 1.2s ease-in-out infinite`,"@sm":{width:"70px",height:"100px"}}),H=p=>M({queryKey:[F.AssetsIdState,p],queryFn:()=>U(p),staleTime:1e3*60*60,enabled:!!w.getState().user});async function U(p){const{user:a}=w.getState();if(p.length===0||!a)return null;try{const{getAssets:c}=R,r={owner:a==null?void 0:a.name,limit:1e3,ids:p.join(",")},x=[];let t=0;do{t++;const d=await c({...r,page:t}),l=await c({...r,page:t,owner:"tools.mc",ids:p.join(",")});x.push(...d,...l)}while(t*2e3===x.length);return x}catch(c){return console.log(c),null}}const f=_.lazy(()=>C(()=>import("./index-4a021373.js"),["assets/index-4a021373.js","assets/index-70e0b2df.js","assets/index-55fec1ff.css","assets/shimmer-b79aec4a.js","assets/useQuery-7d8e5c8d.js"])),Y=_.lazy(()=>C(()=>import("./shards-faa12429.js"),["assets/shards-faa12429.js","assets/index-70e0b2df.js","assets/index-55fec1ff.css"])),oe=()=>{var v;const p=w(({user:n})=>n),{data:a,isLoading:c}=P("tool.worlds",!0),{data:r,isLoading:x}=H(p.mine_nfts),[t,d]=j.useState(0),{selectedCards:l,setSelectedCards:m,rewardSlider:A,setRewardSlider:I}=D();function y(n){if(!n){const i=l.map((u,T)=>{if(T!==t)return u});d(t+1),m(i);return}if(l.some(i=>(i==null?void 0:i.asset_id)===(n==null?void 0:n.asset_id))){d(-1);return}const o=l.map((i,u)=>u===t?n:i);d(t+1),m(o),t===2&&d(-1)}function L(n){I(n[0])}return j.useEffect(()=>{m([(r==null?void 0:r[0])??void 0,(r==null?void 0:r[1])??void 0,(r==null?void 0:r[2])??void 0])},[r]),console.log(a),e.jsxs(z,{children:[e.jsxs(h,{children:[e.jsx(g,{children:"Mining Tools"}),e.jsxs(S,{children:["These tools are used to mine for instant rewards while playing Dungeons or Arenas. Tools with higher rarities and shines yield greater rewards.",e.jsx("br",{}),e.jsx("br",{}),"Tools have TLM Mining Power and Shard Mining Power. Rewards are split proportionally between TLM and Shards based on the balance of these powers. A tool focused on Shard Mining will collect more from Shard Pools, while a balanced tool mines equally from both TLM and Shard Pools."]})]}),e.jsxs(k,{children:[e.jsxs(h,{children:[e.jsx(g,{children:"Currently Equipped"}),e.jsx(O,{cardSelected:t,children:x?new Array(3).fill(0).map((n,o)=>e.jsx(b,{},o)):e.jsxs(e.Fragment,{children:[e.jsx(f,{selectedCard:l[0],isSelected:t===0,inventoryPosition:0,setInventoryPosition:d}),e.jsx(f,{selectedCard:l[1],isSelected:t===1,inventoryPosition:1,setInventoryPosition:d}),e.jsx(f,{selectedCard:l[2],isSelected:t===2,inventoryPosition:2,setInventoryPosition:d})]})})]}),e.jsxs(h,{children:[e.jsx(g,{children:"Available in your wallet"}),e.jsx(Q,{children:c?new Array(30).fill(0).map((n,o)=>e.jsx(b,{},o)):e.jsxs(e.Fragment,{children:[e.jsx(V,{onClick:()=>y(void 0),src:"/assets/default-card.png",alt:"default card"}),(v=a==null?void 0:a.sort((n,o)=>{const i=["Common","Uncommon","Rare","Epic","Legendary","Mythic"];return i.indexOf(o.data.rarity)-i.indexOf(n.data.rarity)}))==null?void 0:v.map(n=>e.jsx(f,{onClick:()=>y(n),isSelected:l.some(o=>(o==null?void 0:o.asset_id)===(n==null?void 0:n.asset_id)),selectedCard:n},n==null?void 0:n.asset_id))]})})]})]}),e.jsxs(h,{children:[e.jsx(g,{children:"Landowner Rewards"}),e.jsx(S,{children:"Whenever a player performs a mine on a landowners land, the landowner also gets rewards. Use the slider to select the percentage of TLM / Shard rewards."})]}),e.jsxs(W,{children:[e.jsx("img",{loading:"lazy",src:"/assets/icons/tlm.png",alt:""}),e.jsx(B,{onValueChange:L,value:[A],showSplittedValues:!0}),e.jsx(Y,{})]})]})};export{oe as default};

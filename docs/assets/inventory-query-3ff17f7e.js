import{e as c,u as d,q as l}from"./index-5b6a8d6e.js";import{u as f}from"./useQuery-c530d304.js";import{A as p}from"./atomic-api-0c0e96e3.js";const A=new p,s={Mythical:0,Legendary:1,Epic:2,Rare:3,Common:4,Abundant:5},q=(t,a,e)=>f({queryKey:[c.inventoryDataState,t,a?"removeDuplicates":""],queryFn:()=>h(t,a,e),staleTime:1e3*60*60,enabled:!!d.getState().user});async function E(t){return await l.invalidateQueries([c.inventoryDataState,t])}async function h(t,a,e){const{user:r}=d.getState();try{const{getAssets:n}=A,i={owner:r==null?void 0:r.name,limit:1e3,schema_name:t},o=[];let u=0;do{u++;const y=await n({...i,page:u});o.push(...y)}while(u*1e3===o.length);const m=v(o,e);return a?m:g(o)}catch(n){return console.log(n),null}}function g(t){return t.reduce((e,r)=>(e.find(i=>i.template.template_id===r.template.template_id)||e.push(r),e),[])}function v(t,a){return a?t.sort((e,r)=>s[e.data.rarity]-s[r.data.rarity]):t.sort((e,r)=>s[r.data.rarity]-s[e.data.rarity])}export{A as a,E as o,q as u};

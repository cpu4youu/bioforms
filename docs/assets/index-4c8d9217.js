import{s as t,g as j,S as c,q as h,e as y,u as b,R as v,_,r as w,j as a,y as T,O as A}from"./index-ad1094a2.js";import{u as P}from"./useQuery-75794f1c.js";const S=t("img",{w:"100%",maxW:"500px",br:"15px",h:"100%",overflowY:"auto"}),M=t("div",{d:"flex",align:"center",justify:"flex-start",direction:"column",position:"relative",padding:"40px 40px",gap:"10px",w:"100%",maxW:"465px",mt:"10px",mx:"auto",bg:"#141423",br:"15px",h:"100%",overflowY:"auto",variants:{isHidden:{true:{"@sm":{display:"none"}}}}}),z=t("button",{d:"flex",align:"flex-start",justify:"center",color:"#fff",fs:"30px",w:"50px",h:"50px",top:"0px",right:"0px",position:"absolute"}),C=t("div",{d:"flex",align:"flex-start",justify:"center",gap:"30px",w:"100%"}),D=t("div",{d:"flex",align:"center",justify:"center",direction:"column",gap:"3px",position:"relative"}),E=t("div",{d:"flex",align:"center",justify:"center",gap:"10px",w:"30px",h:"30px",br:"50%",bg:"#252525",border:"1px solid #fff",color:"#fff",fontWeight:"bold",ff:"$heading",fs:"15px",zIndex:"1",position:"absolute",top:"-10px",right:"-10px"}),R=t("div",{d:"flex",align:"center",justify:"flex-start",gap:"10px",w:"100%",bg:"#222222",div:{bg:"#00ff00",h:"10px"}}),W=t("div",{d:"flex",align:"center",justify:"center",direction:"column",gap:"5px",w:"100%"}),$=t("h3",{color:"#fff",textTransform:"capitalize",fs:"15px",w:"100%",mb:"5px"}),l=t("span",{color:"#fff",textTransform:"capitalize",ff:"$heading",fs:"15px",w:"100%","@lgxx":{fs:"12px"}}),B=t("div",{d:"flex",align:"center",justify:"center",direction:"column",gap:"10px",w:"100%",mt:"10px",hr:{my:"10px",h:"3px",w:"100%",bg:"#00BAFF",border:"none"}}),u=t("div",{d:"flex",align:"center",justify:"space-between",w:"100%",strong:{color:"#fff",ff:"$heading",fs:"15px",textAlign:"center",textTransform:"capitalize"},span:{color:"#fff",ff:"$heading",fs:"15px",textAlign:"center",textTransform:"capitalize","span:last-child":{ml:"10px",color:"#72D9FF"}},"@lgxx":{span:{fs:"12px"}}}),O=async()=>{const n=await j({options:{code:c.battleAle,index_position:1,limit:"1000",scope:c.battleAle,table:h.config}});return(n==null?void 0:n[0])||null},I=()=>P({queryKey:[y.BattleConfigState],queryFn:()=>H(),staleTime:1e3*60*60,enabled:!!b.getState().user});async function H(){try{return await O()}catch(n){return console.log(n),null}}const L=v.lazy(()=>_(()=>import("./index-605aa80c.js"),["assets/index-605aa80c.js","assets/index-ad1094a2.js","assets/index-55fec1ff.css"])),Y=({selectedFighter:n,onCloseFighterDetail:d,isHidden:g})=>{var x,p,f;const{data:o}=I(),s=n,m=w.useMemo(()=>{if(n.agePenalty)return n.agePenalty;let e=0;n.creation_date&&(e=Math.floor((Date.now()-new Date(n.creation_date).getTime())/(1e3*60*60*24)));const r=((o==null?void 0:o.age_penaly_percent_day)??0)/100||0;return Math.floor(e*r)},[n,o]);return n.classname?(console.log(),a.jsxs(M,{isHidden:g,children:[a.jsx(z,{onClick:()=>d(null),children:"x"}),a.jsxs(C,{children:[a.jsxs(D,{children:[a.jsx(E,{children:n.level||n.stats.level}),a.jsx(L,{fighter:n}),a.jsx(R,{children:a.jsx("div",{style:{width:`${((p=(x=n==null?void 0:n.fighter)==null?void 0:x.stats)==null?void 0:p.health)??100}%`}})})]}),a.jsxs(W,{children:[a.jsxs($,{children:[n.racename," ",n.classname]}),a.jsxs(l,{children:["Element: ",n==null?void 0:n.element]}),a.jsxs(l,{children:["Level: ",(f=n==null?void 0:n.stats)==null?void 0:f.level]}),a.jsxs(l,{children:["Age Penalty: - ",m,"%"]}),a.jsx(l,{children:"Origin: Magor"})]})]}),a.jsxs(B,{children:[T.map(e=>{const r=(s==null?void 0:s[`${e}_min`])??0,i=(s==null?void 0:s[`${e}_max`])??0;return a.jsxs(u,{children:[a.jsxs("strong",{children:[e,":"]}),a.jsxs("span",{children:[a.jsx("span",{children:Math.floor((r+i)/2)}),a.jsxs("span",{children:["(+-",Math.floor(Math.abs(i-r)/2),")"]})]})]},e)}),a.jsx("hr",{}),A.map(e=>{const r=s[e.value],i=Number(r);return a.jsxs(u,{children:[a.jsxs("span",{children:[e.displayname,":"]}),a.jsx("span",{children:i})]},e.value)})]})]})):a.jsx(S,{src:"/assets/fighter/unknown-fighter.jpeg",alt:"",loading:"lazy"})},Q=Object.freeze(Object.defineProperty({__proto__:null,default:Y},Symbol.toStringTag,{value:"Module"}));export{Y as F,Q as i,I as u};

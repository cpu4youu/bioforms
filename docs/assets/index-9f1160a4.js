import{s as e,R as f,_ as A,j as t}from"./index-4a337f59.js";import{u as z}from"./land-config-c97bb73f.js";import{u as B}from"./index-01be2d9f.js";import"./useQuery-48081c09.js";import"./constants-9b21425a.js";const S=e("div",{d:"flex",w:"100%",direction:"column",">img":{my:"20px",objectFit:"contain",w:"100%"},h3:{d:"flex",alignItems:"center",gap:"10px",fs:"16px",color:"#FFFFFF",mb:"15px"},"@sm":{pb:"20px",">img":{d:"none"}}}),$=e("div",{zIndex:2,w:"100%",h:"7px",bg:"red","@sm":{h:"3px"}}),T=e("div",{d:"flex",alignItems:"center",justifyContent:"center",direction:"column",position:"relative",w:"100%",h:"180px",">img":{br:"0 0 15px 15px",zIndex:1,objectFit:"cover",w:"100%",h:"100%"},span:{position:"absolute",bottom:"0px",textAlign:"center",w:"100%",zIndex:2,textTransform:"capitalize",textStroke:"2px #000",textShadow:"1px 1px 3px #000",fs:"20px",ff:"$heading",fw:"bold",color:"rgba(255, 255, 255)"},"@sm":{">img":{h:"60px","&:first-child":{left:"-3px"}}}}),L=e("div",{ff:"$heading",fs:"16px",color:"#FFFFFF",padding:"10px",br:"3px",bg:"#201D2C",mb:"10px",mt:"10px",span:{color:"#FFB800"},"@sm":{fs:"12px"}}),R=e("div",{d:"flex",direction:"column",mt:"30px"}),V=e("h3",{color:"#FFFFFF","@sm":{fs:"12px"}}),k=e("p",{color:"#FFFFFF",ff:"$heading",fs:"16px",mt:"5px",padding:"5px 10px",br:"3px",bg:"#201D2C","@sm":{fs:"10px"}}),E=e("div",{d:"flex",direction:"column",mt:"20px","@sm":{div:{top:"20px",left:"5px",fs:"10px"}}}),M=e("div",{d:"flex",gap:"5px",mt:"30px"}),x=e("div",{d:"flex",alignItems:"center",justifyContent:"center",w:"100%",direction:"column",span:{d:"flex",alignItems:"center",justifyContent:"center",padding:"5px 10px",w:"100%",br:"5px 5px 0 0 ",color:"#FFFFFF",ff:"$heading",fs:"10px",fw:"$thin",bg:"#201D2C"}}),d=e("div",{d:"flex",alignItems:"center",justifyContent:"center",gap:"5px",padding:"5px",br:"0 0 5px 5px",w:"100%",color:"#FFFFFF",ff:"$heading",fs:"12px",fw:"normal",bg:"#1C1A26",img:{objectFit:"contain",w:"20px",my:"0px"}}),N=f.lazy(()=>A(()=>import("./index-8bbc28f9.js"),["assets/index-8bbc28f9.js","assets/index-4a337f59.js","assets/index-55fec1ff.css","assets/index-55e74d58.js"])),P=()=>{var m,h,b,u;const{data:o}=z(),{buildingBoost:a,setBuildingBoost:F,selectedBuild:s}=B();function j(D){const[c]=D,p=((s==null?void 0:s.boost_score)||0)/1e4;let l=c;c<n&&p<n?l=n:c<p&&(l=p),F([l])}const _=((m=o==null?void 0:o[0])==null?void 0:m.boost_base_cost)||0,y=((h=o==null?void 0:o[0])==null?void 0:h.boost_cost_first_percent)||0,w=(s==null?void 0:s.boost_score)||0,r=Number(((b=o==null?void 0:o[0])==null?void 0:b.boost_cost_mod)||0),v=(1-Math.pow(r,a[0]+1))/(1-r),C=(1-Math.pow(r,w/1e4+1))/(1-r),I=_+y*(v-C),n=(((u=o==null?void 0:o[0])==null?void 0:u.start_boost_score)||0)/1e4,g=I,i=((s==null?void 0:s.boost_score)||0)/1e4;return t.jsxs(S,{children:[t.jsx($,{style:{width:`${i}%`,backgroundColor:i>80?"green":i>50?"yellow":"red"}}),t.jsxs(T,{children:[t.jsx("img",{loading:"lazy",src:`/assets/buildings/${s==null?void 0:s.img}.png`,alt:s==null?void 0:s.building_name,title:s==null?void 0:s.building_name,className:"build-image"}),t.jsx("span",{children:s==null?void 0:s.building_name})]}),t.jsxs(L,{children:[s.img==="tavern"&&`Allows players to recruit fighters on your land - and you earn for every fighter recruited
        on your land. A higher tavern rating means your tavern is suggested to players more often.`,t.jsx("br",{}),s.img==="dungeon"&&`Allows players to fight in the dungeon on your land - and you earn whenever a player wins
        this battle. A higher dungeon rating means higher rewards.`,t.jsx("br",{}),s.img==="arena"&&`Allows players to fight in the arena on your land - and you earn whenever a player wins this
        battle. A higher arena rating means higher rewards.`]}),t.jsxs(R,{children:[t.jsx(V,{children:"Building Boost"}),t.jsx(k,{children:"Boosting a building raises its perks, but usage and time reduce boost levels. If boost drops below 1%, the building becomes unusable."}),t.jsx(E,{children:t.jsx(N,{onValueChange:j,value:a})})]}),t.jsxs(M,{children:[t.jsxs(x,{children:[t.jsx("span",{children:"Total Cost"}),t.jsxs(d,{children:[g.toFixed(2),t.jsx("img",{loading:"lazy",src:"/assets/icons/credits.png",alt:""})]})]}),t.jsxs(x,{children:[t.jsx("span",{children:"Cost per 1%"}),t.jsxs(d,{children:[(g/(a[0]-n||1)).toFixed(2),t.jsx("img",{loading:"lazy",src:"/assets/icons/credits.png",alt:""})]})]}),t.jsxs(x,{children:[t.jsx("span",{children:"Start Score"}),t.jsxs(d,{children:[i<n?n:i,"%"]})]})]})]})},G=f.memo(P);export{G as default};

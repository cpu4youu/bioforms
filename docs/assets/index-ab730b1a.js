import{s as r,r as h,j as n,x as z,N as A}from"./index-4a337f59.js";import{u as T}from"./config-query-73a5c687.js";import{u as D}from"./classtemps-query-d32c749e.js";import"./useQuery-48081c09.js";const k=r("img",{w:"100%",maxW:"500px",br:"15px",h:"100%",overflowY:"auto"}),C=r("div",{d:"flex",align:"center",justify:"flex-start",direction:"column",position:"relative",gap:"10px",w:"100%",bg:"#141423",br:"15px",h:"100%",overflowY:"auto",variants:{isHidden:{true:{"@sm":{display:"none"}}}}}),P=r("div",{d:"flex",align:"center",justify:"center",gap:"3px",w:"100%",h:"180px",position:"relative"}),E=r("img",{zIndex:"1",w:"100%",h:"180px",objectFit:"contain"}),M=r("img",{position:"absolute",top:"0",left:"0",w:"100%",h:"180px",objectFit:"cover",objectPosition:"center bottom",br:"15px 15px 0 0"}),B=r("button",{d:"flex",align:"flex-start",justify:"center",zIndex:"2",textShadow:"0 0 5px rgba(0,0,0)",color:"#fff",fs:"30px",w:"50px",top:"0px",right:"0px",position:"absolute"}),R=r("div",{d:"flex",align:"center",justify:"center",direction:"column",padding:"0 40px 0 40px",w:"100%"}),S=r("div",{d:"flex",align:"center",justify:"center",gap:"10px",mb:"5px",color:"#787878",fw:"bold",ff:"$heading",fs:"12px"}),N=r("h3",{color:"#fff",textTransform:"capitalize",textAlign:"center",fs:"20px",w:"100%"}),I=r("span",{color:"#C7C7C7",textTransform:"capitalize",textAlign:"center",ff:"$heading",fs:"15px",w:"100%","@lgxx":{fs:"12px"}}),j=r("div",{d:"flex",align:"center",justify:"space-between",w:"100%",color:"#fff",textTransform:"capitalize",textAlign:"center",ff:"$heading",fs:"15px",span:{"&:first-child":{fw:"bold",color:"#fff"},"&:last-child":{color:"#B8B8B8"}},"@lgxx":{fs:"12px"}}),L=r("div",{d:"flex",align:"center",justify:"center",direction:"column",gap:"10px",padding:"20px 40px 40px",w:"100%"}),W=r("div",{d:"flex",align:"center",justify:"center",direction:"column",gap:"5px",padding:"20px",w:"100%",bg:"rgba(192, 192, 192, 0.15)",br:"10px"}),H=r("div",{d:"flex",align:"center",justify:"space-between",w:"100%",strong:{color:"#fff",ff:"$heading",fs:"15px",textAlign:"center",textTransform:"capitalize"},span:{d:"flex",align:"center",gap:"5px",color:"#fff",ff:"$heading",fs:"15px",textAlign:"center",textTransform:"capitalize","span:nth-child(2)":{color:"#339DFF"}},"&:last-child img":{filter:"grayscale(.9)"},"@lgxx":{span:{fs:"12px"}}}),Q=r("div",{d:"flex",align:"center",justify:"center",direction:"column",gap:"5px",w:"100%"}),V=r("div",{d:"flex",align:"center",justify:"center",gap:"5px",w:"100%"}),Y=r("div",{d:"flex",align:"center",justify:"center",direction:"column",gap:"7px",padding:"10px 0",w:"100%",bg:"rgba(192, 192, 192, 0.15)",br:"10px",strong:{w:"100%",color:"#fff",ff:"$heading",fs:"13px",textAlign:"center",textTransform:"capitalize"},span:{w:"100%",color:"#D5D5D5",ff:"$heading",fs:"12px",textAlign:"center",textTransform:"capitalize"},"@lgxx":{span:{fs:"12px"}}}),q=r("div",{d:"flex",direction:"column",gap:"10px",w:"100%",h3:{w:"100%",color:"#fff",textTransform:"capitalize",ff:"$heading",fs:"15px"},p:{w:"100%",color:"#fff",ff:"$heading",fs:"15px"}}),X=({selectedFighter:e,onCloseFighterDetail:w,isHidden:b})=>{const{data:m}=T(),{data:x}=D(),p=e,v=h.useMemo(()=>{if(e.agePenalty)return e.agePenalty;let a=0;e.creation_date&&(a=Math.floor((Date.now()-new Date(e.creation_date).getTime())/(1e3*60*60*24)));const s=((m==null?void 0:m.age_penaly_percent_day)??0)/100||0;return Math.floor(a*s)},[e,m]),_=h.useCallback((a,s)=>{const i=x==null?void 0:x.find(d=>d.classname===e.classname);if(!i)return;const t=i.total_min_max_stats,o=(t==null?void 0:t[`${a}_min_min`])??0,c=(t==null?void 0:t[`${a}_max_min`])??0,u=(t==null?void 0:t[`${a}_min_max`])??0,$=(t==null?void 0:t[`${a}_max_max`])??0,f=(o+c)/2,l=(u+$)/2-f;if(a==="attackspeed"||a==="initiative"){const d=s*10;return d<f+l*.1?"gold-up":d<f+l*.3?"green-duble-up":d<f+l*.5?"green-up":d<f+l*.7?"middle":d<f+l*.9?"red-down":"red-duble-down"}const g=s*10-f;return g<=l*.1?"red-duble-down":g<=l*.3?"red-down":g<=l*.5?"middle":g<=l*.7?"green-up":g<=l*.9?"green-duble-up":"gold-up"},[x,e]),y=h.useCallback((a,s)=>{const i=x==null?void 0:x.find(u=>u.classname===e.classname);if(!i)return;const t=i.total_min_max_stats,o=(t==null?void 0:t[`${a}_max`])??0,c=s*10;return c<=o*.2?"red-duble-down":c<=o*.4?"red-down":c<=o*.6?"middle":c<=o*.8?"green-up":c<=o*.95?"green-duble-up":"gold-up"},[x,e]);return e.classname?n.jsxs(C,{isHidden:b,children:[n.jsxs(P,{children:[n.jsx(B,{onClick:()=>w(null),children:"x"}),n.jsx(E,{src:`/assets/fighter/classes/avatar_${e.classname}_${e.racename}.png`,alt:`${e.classname}_${e.racename}`,title:`${e.classname}_${e.racename}`,loading:"lazy"}),n.jsx(M,{src:`/assets/fighter/classes/backgrounds/avatar/avatar_background_${e.classname==="unknown"?"unknown":e.element}.jpeg`,alt:"",loading:"lazy"})]}),n.jsxs(R,{children:[n.jsxs(N,{children:[e.racename," ",e.classname]}),n.jsxs(S,{children:["(Level ",e.level||e.stats.level,")"]}),n.jsxs(I,{children:["Element: ",e==null?void 0:e.element]})]}),n.jsxs(L,{children:[n.jsxs(j,{children:[n.jsx("span",{children:"BASE STATS "}),n.jsxs("span",{children:["Age Penalty: - ",v,"%"]})]}),n.jsx(W,{children:z.map(a=>{const s=(p==null?void 0:p[`${a}_min`])??0,i=(p==null?void 0:p[`${a}_max`])??0,t=Math.floor((s+i)/2),o=Math.floor(Math.abs(i-s)/2),c=_(a,t);return n.jsxs(H,{children:[n.jsxs("strong",{children:[a,":"]}),n.jsxs("span",{children:[n.jsx("span",{children:t}),o>0&&n.jsxs("span",{children:["(+-",o,")"]}),c&&n.jsx("img",{src:`/assets/icons/arrows/${c}.png`,alt:"arrow-up",loading:"lazy"})]})]},a)})}),n.jsxs(Q,{children:[n.jsxs(j,{children:[n.jsx("span",{children:"RESISTANCES"}),n.jsx("span",{})]}),n.jsx(V,{children:A.map(a=>{const s=p[a.value],i=y(a.value,Number(s));return n.jsxs(Y,{children:[n.jsx("strong",{children:a.displayname}),n.jsxs("span",{children:[Number(s),"%"]}),i&&n.jsx("img",{src:`/assets/icons/arrows/${i}.png`,alt:i,loading:"lazy"})]},a.value)})})]}),n.jsxs(q,{children:[n.jsx("h3",{children:"CLASS"}),n.jsx("p",{children:"Very high Taunt, Medium health, and Above average Damage and initiative. They draw attention away from the rest of the team and seek glory, but are often the first unit hit."})]})]})]}):n.jsx(k,{src:"/assets/fighter/unknown-fighter.jpeg",alt:"",loading:"lazy"})};export{X as default};

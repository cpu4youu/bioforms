import{s as r,g as y,S as f,q as h,e as j,u as v,R as _,_ as b,r as w,j as n}from"./index-d01263a9.js";import{u as A}from"./useQuery-c6b1f23e.js";const T=r("img",{w:"100%",maxW:"500px",br:"15px",h:"100%",overflowY:"auto"}),R=r("div",{d:"flex",align:"center",justify:"flex-start",direction:"column",position:"relative",padding:"40px 40px",gap:"10px",w:"100%",maxW:"465px",mt:"10px",mx:"auto",bg:"#141423",br:"15px",h:"100%",overflowY:"auto",variants:{isHidden:{true:{"@sm":{display:"none"}}}}}),S=r("button",{d:"flex",align:"flex-start",justify:"center",color:"#fff",fs:"30px",w:"50px",h:"50px",top:"0px",right:"0px",position:"absolute"}),M=r("div",{d:"flex",align:"flex-start",justify:"center",gap:"30px",w:"100%"}),P=r("div",{d:"flex",align:"center",justify:"center",direction:"column",gap:"3px",position:"relative"}),z=r("div",{d:"flex",align:"center",justify:"center",gap:"10px",w:"30px",h:"30px",br:"50%",bg:"#252525",border:"1px solid #fff",color:"#fff",fontWeight:"bold",ff:"$heading",fs:"15px",zIndex:"1",position:"absolute",top:"-10px",right:"-10px"}),C=r("div",{d:"flex",align:"center",justify:"flex-start",gap:"10px",w:"100%",bg:"#222222",div:{bg:"#00ff00",h:"10px"}}),D=r("div",{d:"flex",align:"center",justify:"center",direction:"column",gap:"5px",w:"100%"}),E=r("h3",{color:"#fff",textTransform:"capitalize",fs:"15px",w:"100%",mb:"5px"}),o=r("span",{color:"#fff",textTransform:"capitalize",ff:"$heading",fs:"15px",w:"100%","@lgxx":{fs:"12px"}}),W=r("div",{d:"flex",align:"center",justify:"center",direction:"column",gap:"10px",w:"100%",mt:"10px",hr:{my:"10px",h:"3px",w:"100%",bg:"#00BAFF",border:"none"}}),u=r("div",{d:"flex",align:"center",justify:"space-between",w:"100%",strong:{color:"#fff",ff:"$heading",fs:"15px",textAlign:"center",textTransform:"capitalize"},span:{color:"#fff",ff:"$heading",fs:"15px",textAlign:"center",textTransform:"capitalize","span:last-child":{ml:"10px",color:"#72D9FF"}},"@lgxx":{span:{fs:"12px"}}}),$=["health","damage","attackspeed","initiative","taunt"],B=[{value:"res_gem",displayname:"Gem Resistance"},{value:"res_metal",displayname:"Metal Resistance"},{value:"res_air",displayname:"Air Resistance"},{value:"res_fire",displayname:"Fire Resistance"},{value:"res_nature",displayname:"Nature Resistance"},{value:"res_neutral",displayname:"Neutral Resistance"}],O=async()=>{const a=await y({options:{code:f.battleAle,index_position:1,limit:"1000",scope:f.battleAle,table:h.config}});return(a==null?void 0:a[0])||null},I=()=>A({queryKey:[j.BattleConfigState],queryFn:()=>N(),staleTime:1e3*60*60,enabled:!!v.getState().user});async function N(){try{return await O()}catch(a){return console.log(a),null}}const H=_.lazy(()=>b(()=>import("./index-aa3fa949.js"),["assets/index-aa3fa949.js","assets/index-d01263a9.js","assets/index-55fec1ff.css"])),L=({selectedFighter:a,onCloseFighterDetail:d,isHidden:g})=>{var l,p,x;const{data:s}=I(),e=a,m=w.useMemo(()=>{if(a.agePenalty)return a.agePenalty;let t=0;a.creation_date&&(t=Math.floor((Date.now()-new Date(a.creation_date).getTime())/(1e3*60*60*24)));const i=((s==null?void 0:s.age_penaly_percent_day)??0)/100||0;return Math.floor(t*i)},[a,s]);return a.classname?n.jsxs(R,{isHidden:g,children:[n.jsx(S,{onClick:()=>d(null),children:"x"}),n.jsxs(M,{children:[n.jsxs(P,{children:[n.jsx(z,{children:a.level||a.stats.level}),n.jsx(H,{fighter:a}),n.jsx(C,{children:n.jsx("div",{style:{width:`${((p=(l=a==null?void 0:a.fighter)==null?void 0:l.stats)==null?void 0:p.health)??100}%`}})})]}),n.jsxs(D,{children:[n.jsxs(E,{children:[a.racename," ",a.classname]}),n.jsxs(o,{children:["Element: ",a==null?void 0:a.element]}),n.jsxs(o,{children:["Level: ",(x=a==null?void 0:a.stats)==null?void 0:x.level]}),n.jsxs(o,{children:["Age Penalty: - ",m,"%"]}),n.jsx(o,{children:"Origin: Magor"})]})]}),n.jsxs(W,{children:[$.map(t=>{const i=(e==null?void 0:e[`${t}_min`])??0,c=(e==null?void 0:e[`${t}_max`])??0;return n.jsxs(u,{children:[n.jsxs("strong",{children:[t,":"]}),n.jsxs("span",{children:[n.jsx("span",{children:Math.floor((i+c)/2)}),n.jsxs("span",{children:["(+-",Math.floor(Math.abs(c-i)/2),")"]})]})]},t)}),n.jsx("hr",{}),B.map(t=>n.jsxs(u,{children:[n.jsxs("span",{children:[t.displayname,":"]}),n.jsx("span",{children:Array.isArray(e==null?void 0:e[t.value])?JSON.stringify(e==null?void 0:e[t.value]):String(e==null?void 0:e[t.value])})]},t.value))]})]}):n.jsx(T,{src:"/assets/fighter/unknown-fighter.jpeg",alt:"",loading:"lazy"})},q=Object.freeze(Object.defineProperty({__proto__:null,default:L},Symbol.toStringTag,{value:"Module"}));export{L as F,q as i,$ as s,I as u};

import{s as n,f as W,r as F,R as M,_ as L,u as B,a as E,j as t}from"./index-e967e66d.js";import{u as D}from"./fighters-query-c4d7ac49.js";import{u as R}from"./index-53be5cdf.js";import O from"./index-9a611eba.js";import{e as N}from"./elements-a94bd2b3.js";import{u as Q}from"./use-media-f222daa6.js";import{u as U}from"./inventory-query-34016488.js";import{c as H}from"./index-2ff86c36.js";import{m as V}from"./markers-45cb96d1.js";import"./useQuery-74fac7bf.js";import"./adapters-99079144.js";import"./atomic-api-115924ad.js";import"./toast-options-bd85cbdc.js";import"./index-1d03a7d0.js";import"./classtemps-query-c7ce030d.js";import"./sleep-da79c358.js";import"./use-transaction-9bb94975.js";import"./generateRandomWaxName-ee0d1ff2.js";const Y=n("div",{display:"flex",direction:"column",w:"100%"}),q=n("div",{display:"flex",direction:"column",gap:"10px"}),G=n("div",{display:"flex",justify:"start",gap:"15px","@xlg":{justify:"center"},"@xsm":{gap:"5px"}}),J=n("h4",{display:"flex",textTransform:"uppercase",color:"#fff",ff:"$heading","@xlg":{justify:"center"}}),K=n("div",{gridArea:"content",ml:"20px",mt:"20px",img:{"&:hover":{transform:"scale(1.05)",zIndex:"4","-webkit-filter":"drop-shadow(0px 0px 8px #00BAFF)",filter:"drop-shadow(0px 0px 5px #00BAFF)"},"&:nth-of-type(1)":{transform:"translate(5px,20px) rotate(-20deg)",zIndex:"3","&:hover":{transform:"scale(1.05) translate(5px,20px) rotate(-20deg)",zIndex:"4"}},"&:nth-of-type(2)":{transform:"translate(-5px,20px) rotate(20deg)",zIndex:"1","&:hover":{transform:"scale(1.05) translate(-5px,20px) rotate(20deg)",zIndex:"4"}}},variants:{cardSelected:{0:{img:{"&:nth-of-type(1)":{zIndex:"3"},"&:nth-of-type(2)":{opacity:"0.2"}}},1:{img:{"&:nth-of-type(1)":{opacity:"0.2"},"&:nth-of-type(2)":{}}}}},"@xlg":{display:"flex",justify:"center"},"@sm":{mb:"30px"}}),k=n("img",{cursor:"pointer",transition:"all 0.2s ease-in-out",w:"75px",h:"100px",zIndex:"2",variants:{isSelected:{true:{filter:"grayscale(100%)"}}},"@sm":{w:"65px",h:"90px"}}),X=n("div",{gridArea:"inventory",display:"flex",direction:"column",w:"100%",mt:"50px",span:{ff:"$heading",fs:"16px",fw:"bold",color:"#fff",textAlign:"center"},"@sm":{mt:"20px"}});n("div",{d:"flex",align:"center",gap:"20px",mb:"20px","@sm":{m:"0px 0 20px",gap:"10px",flexWrap:"wrap",span:{my:"10px"}}});n("button",{d:"flex",align:"center",justify:"center",fs:"12px",ff:"$heading",fw:"$bold",color:"$white500",variants:{isSelected:{true:{textUnderlineOffset:"0.5em",textDecoration:"underline"}}},"@sm":{fs:"14px"}});const Z=n("div",{d:"flex",flexWrap:"wrap",gap:"10px",overflow:"auto",w:"100%",maxH:"calc(100vh - 590px)"}),ee=W({"0%":{backgroundPosition:"0% 0%"},"100%":{backgroundPosition:"-135% 0%"}}),te=n("div",{w:"75px",h:"100px",background:"linear-gradient( -90deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.25) ,rgba(255, 255, 255, 0.15))",br:"10px",backgroundSize:"400% 400%",animation:`${ee} 1.2s ease-in-out infinite`,"@sm":{width:"70px",height:"100px"}}),se=n("div",{display:"flex",direction:"column",mt:"40px"}),ne=n("span",{ff:"$heading",fs:"16px",fw:"bold",color:"#00BAFF",mb:"20px","@xlg":{textAlign:"center"}}),re=n("div",{display:"flex"}),oe=n("div",{display:"flex",direction:"column",gap:"10px"}),ie=n("div",{display:"flex",justify:"space-between",alignItems:"center",h3:{ff:"$heading",fs:"16px",fw:"bold",color:"#00BAFF"}}),ae=n("div",{display:"flex",gap:"5px"}),le=n("button",{zIndex:"2",w:"17px",h:"17px",img:{w:"17px",h:"17px",objectFit:"cover",objectPosition:"center","-webkit-filter":"drop-shadow(0px 0px 4px #000)",filter:"drop-shadow(0px 0px 4px #000)"},variants:{isSelected:{true:{img:{zIndex:"4","-webkit-filter":"drop-shadow(0px 0px 4px #00BAFF)",filter:"drop-shadow(0px 0px 4px #00BAFF)"}}}}}),de=n("div",{display:"flex",gap:"5px",mb:"20px",button:{w:"unset",h:"unset",borderWidth:"1px",minW:"unset",padding:"2px 5px",fs:"10px",br:"6px",textTransform:"capitalize"},"@sm":{width:"100%",flexWrap:"wrap"}}),pe=n("div",{display:"flex"}),ce=n("div",{display:"flex",flexWrap:"wrap",gap:"10px"});function xe(){const{selectedCards:d,setSelectedCards:u,myTeam:m,setMyTeam:g}=H(),[o,w]=F.useState([]),[x,y]=F.useState("fighter"),[h,c]=F.useState(0),[A,v]=F.useState("level.worlds"),[f,l]=F.useState(-1),{data:z,isLoading:b}=U(A);function S(s){if(l(-1),y("fighter"),s===h){c(-1);return}c(s)}function T(s){if(c(-1),y("nft"),s===f){l(-1);return}l(s),v(s===0?"crew.worlds":s===1?"arms.worlds":"crew.worlds")}function I(s){if(!s){const a=d.map((r,j)=>{if(j!==f)return r}),e=f+1;if(l(e),u(a),v(e===0?"crew.worlds":e===1?"arms.worlds":"crew.worlds"),e>1){l(-1);return}return}if(d.some(a=>(a==null?void 0:a.asset_id)===(s==null?void 0:s.asset_id))){l(-1);return}const i=d.map((a,e)=>e===f?s:a),p=f+1;if(l(p),u(i),v(p===0?"crew.worlds":p===1?"arms.worlds":"crew.worlds"),p>1){l(-1);return}}function _(s){if(o.includes(s)){w(o.filter(i=>i!==s));return}w([...o,s])}function P(s){const i=m.map((a,e)=>e===h?s:a);g(i);const p=h+1;if(p===5){c(-1);return}c(p)}function C(s){return d.some(i=>(i==null?void 0:i.asset_id)!==s.asset_id)}return{selectedCards:d,inventoryPosition:f,filterSelected:o,myTeam:m,fighterPosition:h,itemSelected:x,inventory:z,isInventoryLoading:b,handleFighterPosition:S,handleInventoryPosition:T,handleSelectCard:I,handleSelectFilter:_,handleAddFighter:P,filterInventoryCards:C}}const $=M.lazy(()=>L(()=>import("./index-877ed9d3.js"),["assets/index-877ed9d3.js","assets/index-e967e66d.js","assets/index-55fec1ff.css","assets/iconBase-46a3cb11.js"])),fe=()=>{var I,_,P,C,s,i,p,a;const{setSelectedFighter:d}=R(),{isSuperLarge:u}=Q(),m=B(E(e=>e.user)),{data:g}=D(m==null?void 0:m.name),{selectedCards:o,inventoryPosition:w,filterSelected:x,myTeam:y,fighterPosition:h,inventory:c,isInventoryLoading:A,itemSelected:v,handleAddFighter:f,handleInventoryPosition:l,handleFighterPosition:z,handleSelectCard:b,handleSelectFilter:S,filterInventoryCards:T}=xe();return t.jsxs(Y,{children:[t.jsxs(q,{children:[t.jsx(J,{children:"YOUR TEAM"}),t.jsx(G,{children:y.map((e,r)=>t.jsx($,{onMouseEnter:()=>u&&e?null:d(e),onMouseLeave:()=>u?null:d(null),onMouseDown:()=>z(r),isSelected:h===r,fighter:e},e==null?void 0:e.fighter_id))})]}),t.jsxs(K,{cardSelected:w,children:[t.jsx(k,{onClick:()=>l(0),loading:"lazy",src:o[0]?`/assets/aw-nft-images/${(I=o[0])==null?void 0:I.template.template_id}.webp`:"/assets/default-card.png",alt:(P=(_=o[0])==null?void 0:_.data)==null?void 0:P.name}),t.jsx(k,{onClick:()=>l(1),loading:"lazy",src:o[1]?`/assets/aw-nft-images/${(C=o[1])==null?void 0:C.template.template_id}.webp`:"/assets/default-card.png",alt:(i=(s=o[1])==null?void 0:s.data)==null?void 0:i.name})]}),v==="fighter"?t.jsxs(se,{children:[t.jsx(ne,{children:"Select your Team"}),t.jsxs(re,{children:[t.jsxs(oe,{children:[t.jsxs(ie,{children:[t.jsx("h3",{children:"Filter"}),t.jsx(ae,{children:V.map(e=>t.jsx(le,{isSelected:x.includes(e),onClick:()=>S(e),children:t.jsx("img",{src:`/assets/markers/${e}.png`,alt:e})},e))})]}),t.jsx(de,{children:N.map(e=>t.jsx(O,{color:x.includes(e)?"blue":"black",onClick:()=>S(e),children:e},e))})]}),t.jsx(pe,{})]}),t.jsx(ce,{children:(p=g==null?void 0:g.filter(e=>x!=null&&x.length?x.some(r=>e.element===r||e.marker===r):!0))==null?void 0:p.map(e=>t.jsx($,{disabled:y.some(r=>e.fighter_id===(r==null?void 0:r.fighter_id)),onMouseEnter:()=>u?null:d(e),onMouseLeave:()=>u?null:d(null),onClick:()=>f(e),fighter:e},e==null?void 0:e.fighter_id))})]}):t.jsx(X,{children:o.length!==0&&w===-1?t.jsx("span",{children:"Select a card"}):t.jsx(Z,{children:A?new Array(12).fill(0).map((e,r)=>t.jsx(te,{},r)):t.jsxs(t.Fragment,{children:[t.jsx(k,{onClick:()=>b(void 0),src:"/assets/default-card.png",alt:"default card"}),(a=c==null?void 0:c.filter(T))==null?void 0:a.map(e=>{var r;return t.jsx(k,{isSelected:o.some(j=>(j==null?void 0:j.asset_id)===(e==null?void 0:e.asset_id)),onClick:()=>b(e),loading:"lazy",src:`/assets/aw-nft-images/${e==null?void 0:e.template.template_id}.webp`,alt:(r=e==null?void 0:e.data)==null?void 0:r.name},e==null?void 0:e.asset_id)})]})})})]})},Te=M.memo(fe);export{Te as default};

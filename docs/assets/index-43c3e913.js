import{s,Q as z,u as g,g as D,R as B,_ as T,r as y,j as e}from"./index-ae214071.js";import{u as L}from"./useQuery-38d22e3d.js";import{A as I}from"./atomic-api-4825be7a.js";import"./toast-options-64873d26.js";const $=s("div",{d:"grid",gridTemplateAreas:`
    "empty empty header"
    "main main side"
  `,gridTemplateRows:"auto 1fr",gap:"10px",br:"15px",w:"100%",h:"100%",maxH:"calc(100vh - 160px)",variants:{isLandSelected:{true:{"@xmd":{gridTemplateAreas:`
            "header header header"
            "side side side"
          `}},false:{"@xmd":{gridTemplateAreas:`
              "header header header"
              "main main main"
            `}}}},"@xmd":{gap:"0px"},"@sm":{}}),E=s("div",{gridArea:"header",d:"flex",justifyContent:"space-between",gap:"10px",button:{padding:"20px",maxW:"33%",div:{d:"flex",alignItems:"center",gap:"5px",color:"#828282",img:{objectFit:"contain",w:"24px"}}},"@sm":{gap:"5px",button:{fs:"12px",padding:"10px",div:{img:{w:"20px"}}}},"@xsm":{button:{gap:"3px",justify:"space-between",padding:"9px 0px 9px 3px",fs:"10px"}}}),N=s("div",{gridArea:"main",padding:"0px 18px",br:"15px",bg:"#141423",variants:{isLandSelected:{false:{"@sm":{display:"none"}}}}}),h=s("div",{w:"100%",h:"45px",bg:"#201D2C",padding:"10px 20px",fontSize:"16px",fontWeight:"bold",ff:"$heading",color:"#C9C9C9","@sm":{h:"initial",fontSize:"14px"}}),R=s("div",{mt:"20px","@sm":{mt:"5px"}}),W=s("div",{d:"grid",gridTemplateColumns:"1fr 1fr 1fr",w:"100%",bg:"#242438",padding:"10px 20px",fontSize:"14px",fontWeight:"bold",ff:"$heading",color:"#C9C9C9","@md":{gap:"10px",fontSize:"12px",padding:"10px 10px",span:{textAlign:"center"}}}),k=s("div",{d:"flex",direction:"column",gap:"10px",overflowY:"auto",h:"calc(100vh - 280px)",pb:"20px"}),M=s("button",{d:"grid",gridTemplateColumns:"1fr 1fr 1fr",bg:"#201D2C",padding:"8px",variants:{isSelected:{true:{bg:"rgb(255 255 255 / 17%)"}}},"@sm":{gap:"3px"}}),q=s("div",{d:"flex",w:"100%",h:"100%",mt:"10px",img:{objectFit:"contain",w:"69px",h:"69px"},span:{ml:"10px",fontSize:"14px",ff:"$heading",color:"#C9C9C9"},"@md":{span:{fontSize:"12px"}},"@sm":{direction:"column-reverse",alignItems:"center",justify:"flex-end",gap:"10px",img:{w:"100%",h:"auto"}}}),Q=s("div",{d:"flex",flexWrap:"wrap",gap:"2px 3px",w:"100%",h:"100%",mt:"10px","@sm":{}}),x=s("div",{d:"flex",w:"49%",h:"34px",gap:"2px",img:{objectFit:"contain",w:"34px",h:"34px",bg:"#242438"},span:{d:"flex",alignItems:"center",justifyContent:"center",w:"100%",fontSize:"14px",ff:"$heading",fw:"bold",color:"#C9C9C9",bg:"#242438"},"@md":{w:"100%",span:{fontSize:"10px"}}}),F=s("div",{d:"flex",w:"100%",h:"100%",gap:"3px",mt:"6px",variants:{isSide:{true:{mt:"0px","@sm":{mt:"8px"}}}},"@sm":{gap:"3px",flexWrap:"wrap"}}),C=s("div",{d:"flex",justifyContent:"center",alignItems:"center",direction:"column",position:"relative",bg:"#242438",w:"100%",span:{position:"absolute",top:"8px",left:"5px",ff:"$heading",fw:"bold",fs:"16px",color:"#D9CA9A"},img:{objectFit:"contain",w:"45px"},variants:{isSide:{true:{span:{position:"relative",top:"0px",left:"0px"},"@sm":{w:"24%"}}},disabled:{true:{filter:"grayscale(100%)"}}},"@md":{span:{fontSize:"12px"}},"@sm":{maxW:"48%",span:{fontSize:"12px"},img:{objectFit:"contain",w:"30px"}}}),S=s("div",{position:"absolute",w:"100%",h:"7px",top:0,left:0,bg:"red","@sm":{h:"3px"}}),H=s("div",{display:"flex",flexDirection:"column",gridArea:"side",padding:"0px 18px",br:"15px",bg:"#141423",overflowY:"auto",maxHeight:"calc(100vh - 160px)",variants:{isLandSelected:{false:{"@sm":{display:"none"}}}},"@sm":{mt:"5px"}}),Y=s("div",{d:"flex",alignItems:"center",justifyContent:"center",direction:"column",h:"45px",padding:"0px 18px",bg:"#242438",fs:"16px",ff:"$heading",fw:"bold",color:"rgba(255, 255, 255, 0.56)",variants:{isSelected:{true:{bg:"#5DC3E8",color:"rgba(0, 0, 0, 0.83)"}}},"@sm":{h:"initial",padding:"5px 10px",fs:"12px"}}),K=s("div",{d:"flex",alignItems:"center",justifyContent:"center",direction:"column",fs:"16px",ff:"$heading",fw:"bold",color:"rgba(255, 255, 255, 0.56)",position:"relative",w:"100%",h:"125px",">img":{zIndex:1,objectFit:"contain",w:"60px","&:first-child":{w:"105%",h:"100%",objectFit:"cover",left:"-4px",top:"0px",position:"absolute"}},span:{zIndex:2,textStroke:"2px #000",textShadow:"1px 1px 3px #000"},variants:{isSelected:{true:{bg:"#5DC3E8",color:"rgba(0, 0, 0, 0.83)"}}},"@sm":{h:"auto",">img":{h:"40px","&:first-child":{left:"-3px"}}}}),O=s("div",{d:"flex",w:"100%",direction:"column",img:{my:"20px",objectFit:"contain",w:"100%"},"@sm":{pb:"20px",">img":{d:"none"}}}),P=s("div",{d:"flex",gap:"3px",direction:"column",mt:"10px"}),V=s("div",{d:"flex",padding:"5px",ff:"$heading",fs:"16px",color:"#FFFFFF",br:"3px",bg:"#201D2C","@sm":{fs:"12px"}}),U=s("div",{d:"flex",gap:"3px",span:{w:"50%",ff:"$heading",fs:"13px",color:"#FFFFFF",padding:"5px 10px",br:"3px",bg:"#201D2C","&:last-child":{w:"100%"},"@sm":{fs:"10px"}}}),G=s("div",{d:"flex",direction:"column",mt:"30px"}),J=s("h3",{color:"#FFFFFF","@sm":{fs:"12px"}}),X=s("p",{color:"#FFFFFF",ff:"$heading",fs:"16px",mt:"5px",padding:"5px 10px",br:"3px",bg:"#201D2C","@sm":{fs:"10px"}}),Z=s("div",{d:"flex",direction:"column",mt:"20px","@sm":{div:{top:"20px",left:"5px",fs:"10px"}}}),ee=s("div",{d:"none",gap:"5px",mt:"30px","@sm":{d:"flex"}}),u=s("div",{d:"flex",alignItems:"center",justifyContent:"center",w:"100%",direction:"column",span:{d:"flex",alignItems:"center",justifyContent:"center",padding:"5px 10px",w:"100%",br:"5px 5px 0 0 ",color:"#FFFFFF",ff:"$heading",fs:"10px",fw:"$thin",bg:"#201D2C"}}),j=s("div",{d:"flex",alignItems:"center",justifyContent:"center",gap:"5px",padding:"5px",br:"0 0 5px 5px",w:"100%",color:"#FFFFFF",ff:"$heading",fs:"12px",fw:"normal",bg:"#1C1A26",img:{objectFit:"contain",w:"20px",my:"0px"}}),se=s("h4",{d:"flex",alignItems:"center",justifyContent:"center",w:"100%",h:"100%",color:"#FFFFFF",ff:"$heading",fs:"24px",fw:"normal"}),ne=()=>L({queryKey:[z.myLandsState],queryFn:()=>te(),staleTime:1e3*60*60,enabled:!!g.getState().user});async function te(){var o;try{const{getAssets:i}=new I,d=await i({collection_name:"alien.worlds",schema_name:"land.worlds",owner:(o=g.getState().user)==null?void 0:o.name,page:1,limit:1e3,order:"desc",sort:"asset_id"});return ie(d)}catch(i){return console.log(i),null}}function ie(o){return o.map(i=>({...i,asset_id:Number(i.asset_id),data:{...i.data,planetName:i.data.name.split("on ")[1].toLowerCase()}}))}const b=["eyeke","kavian","veles","magor","neri","naron"],ae=()=>L({queryKey:[z.allBuildingsState],queryFn:()=>oe(),staleTime:1e3*60*60,enabled:!!g.getState().user});async function oe(){try{const o={};for(let i=0;i<b.length;i++){const d=await D(b[i]);if(d){const p=(d==null?void 0:d.filter(n=>{var c;return!!((c=n.buildings)!=null&&c.length)}))||[];o[b[i]]=p}}return o}catch(o){return console.log(o),null}}const v=B.lazy(()=>T(()=>import("./index-0a39ed3f.js"),["assets/index-0a39ed3f.js","assets/index-ae214071.js","assets/index-55fec1ff.css"])),re=B.lazy(()=>T(()=>import("./index-6736b2a7.js"),["assets/index-6736b2a7.js","assets/index-ae214071.js","assets/index-55fec1ff.css","assets/index-ac282601.js"])),_=[{name:"Tavern",img:"/assets/buildings/tavern.png"},{name:"Mine",img:"/assets/buildings/mine.png"},{name:"Training",img:"/assets/buildings/training-center.png"},{name:"Ascension",img:"/assets/buildings/ascension-hall.png"}],xe=()=>{var w;const{data:o}=ne(),{data:i}=ae();g(a=>a.user);const[d,p]=y.useState([0]),[n,c]=y.useState(null);return e.jsxs($,{isLandSelected:!!n,children:[e.jsxs(E,{children:[e.jsxs(v,{children:["Boost"," ",e.jsxs("div",{children:["1223 ",e.jsx("img",{src:"/assets/icons/shard.png",alt:"Land"})," "]})]}),e.jsxs(v,{children:["Build"," ",e.jsxs("div",{children:["1231 ",e.jsx("img",{src:"/assets/icons/shard.png",alt:"Land"})," "]})]}),e.jsxs(v,{children:["Travel"," ",e.jsxs("div",{children:["1223 ",e.jsx("img",{src:"/assets/icons/potion.png",alt:"Land"})," "]})]})]}),e.jsxs(N,{isLandSelected:!n,children:[e.jsx(h,{children:"My Lands"}),e.jsxs(R,{children:[e.jsxs(W,{children:[e.jsx("span",{children:"Land"}),e.jsx("span",{children:"Income since last claim"}),e.jsx("span",{children:"Buildings"})]}),e.jsx(k,{children:o==null?void 0:o.map(a=>{const l=i==null?void 0:i[a.data.planetName].find(t=>t.x===a.data.x&&t.y===a.data.y);return console.log({landBuilding:l}),e.jsxs(M,{isSelected:a.asset_id===(n==null?void 0:n.asset_id),onClick:()=>c({...a,...l}),children:[e.jsxs(q,{children:[e.jsx("img",{loading:"lazy",src:"/assets/lands/vulcano.png",alt:"Land"}),e.jsxs("span",{children:[a.data.name," (",a.data.x,":",a.data.y,")"]})]}),e.jsxs(Q,{children:[e.jsxs(x,{children:[e.jsx("img",{loading:"lazy",src:"/assets/icons/dust.png",alt:""}),e.jsx("span",{children:"76.1253"})]}),e.jsxs(x,{children:[e.jsx("img",{loading:"lazy",src:"/assets/icons/credit.png",alt:""}),e.jsx("span",{children:"76.1253"})]}),e.jsxs(x,{children:[e.jsx("img",{loading:"lazy",src:"/assets/icons/shard.png",alt:""}),e.jsx("span",{children:"76.1253"})]}),e.jsxs(x,{children:[e.jsx("img",{loading:"lazy",src:"/assets/icons/tlm.png",alt:""}),e.jsx("span",{children:"76.1253"})]})]}),e.jsx(F,{children:_.map((t,m)=>{const r=l==null?void 0:l.buildings.find(A=>A.building_name===t.name.toLowerCase()),f=((r==null?void 0:r.boost_score)||0)/1e4;return e.jsxs(C,{disabled:!l||!r,children:[e.jsx(S,{style:{width:`${f}%`}}),e.jsx("span",{children:r==null?void 0:r.level}),e.jsx("img",{loading:"lazy",src:t.img,alt:t.name,title:t.name})]},m)})})]},a.asset_id)})})]})]}),e.jsx(H,{isLandSelected:!!n,children:n?e.jsxs(e.Fragment,{children:[e.jsxs(h,{children:[(w=n==null?void 0:n.data)==null?void 0:w.name," (",n==null?void 0:n.data.x,":",n==null?void 0:n.data.y,")"]}),e.jsx(F,{isSide:!0,children:_.map((a,l)=>{var r;const t=(r=n==null?void 0:n.buildings)==null?void 0:r.find(f=>f.building_name===a.name.toLowerCase()),m=((t==null?void 0:t.boost_score)||0)/1e4;return e.jsxs(C,{isSide:!0,disabled:!t,children:[e.jsx(S,{style:{width:`${m}%`}}),e.jsx(Y,{children:a.name}),e.jsxs(K,{children:[e.jsx("img",{loading:"lazy",src:"/assets/lands/vulcano.png",alt:"Land"}),e.jsx("img",{loading:"lazy",src:a.img,alt:a.name,title:a.name}),e.jsxs("span",{children:[" ",(t==null?void 0:t.level)!==void 0?`Level ${t==null?void 0:t.level}`:""]})]})]},l)})}),e.jsxs(O,{children:[e.jsxs(P,{children:[e.jsx(V,{children:"This building currently gets selected 5.4 times more often than a level 1 tavern at 100% boost."}),e.jsxs(U,{children:[e.jsx("span",{children:"Next Level"}),e.jsx("span",{children:"Selection Frequency +20%"})]})]}),e.jsxs(G,{children:[e.jsx(J,{children:"Building Boost"}),e.jsx(X,{children:"Boosting a building raises its perks, but usage and time reduce boost levels. If boost drops below 1%, the building becomes unusable."}),e.jsx(Z,{children:e.jsx(re,{onValueChange:p,value:d})})]}),e.jsx("img",{loading:"lazy",src:"/assets/mock/building.png",alt:"Land"}),e.jsxs(ee,{children:[e.jsxs(u,{children:[e.jsx("span",{children:"Total Cost"}),e.jsxs(j,{children:["22",e.jsx("img",{loading:"lazy",src:"/assets/icons/shard.png",alt:""})]})]}),e.jsxs(u,{children:[e.jsx("span",{children:"Cost per 1%"}),e.jsxs(j,{children:["0.03",e.jsx("img",{loading:"lazy",src:"/assets/icons/shard.png",alt:""})]})]}),e.jsxs(u,{children:[e.jsx("span",{children:"Start Score"}),e.jsx(j,{children:"59.6%"})]})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(h,{children:"Select a Land"}),e.jsx(se,{children:"Select a Land"})]})})]})};export{xe as default};

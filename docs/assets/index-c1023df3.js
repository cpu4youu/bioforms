import{r as u,j as h,a8 as j,R as b}from"./index-168f3470.js";function q(e,t,{checkForDefaultPrevented:o=!0}={}){return function(n){if(e==null||e(n),o===!1||!n.defaultPrevented)return t==null?void 0:t(n)}}function A(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function M(...e){return t=>e.forEach(o=>A(o,t))}function w(...e){return u.useCallback(M(...e),e)}function F(e,t=[]){let o=[];function r(c,s){const i=u.createContext(s),l=o.length;o=[...o,s];const f=d=>{var S;const{scope:p,children:m,...a}=d,C=((S=p==null?void 0:p[e])==null?void 0:S[l])||i,x=u.useMemo(()=>a,Object.values(a));return h.jsx(C.Provider,{value:x,children:m})};f.displayName=c+"Provider";function v(d,p){var C;const m=((C=p==null?void 0:p[e])==null?void 0:C[l])||i,a=u.useContext(m);if(a)return a;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${c}\``)}return[f,v]}const n=()=>{const c=o.map(s=>u.createContext(s));return function(i){const l=(i==null?void 0:i[e])||c;return u.useMemo(()=>({[`__scope${e}`]:{...i,[e]:l}}),[i,l])}};return n.scopeName=e,[r,O(n,...t)]}function O(...e){const t=e[0];if(e.length===1)return t;const o=()=>{const r=e.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(c){const s=r.reduce((i,{useScope:l,scopeName:f})=>{const d=l(c)[`__scope${f}`];return{...i,...d}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return o.scopeName=t.scopeName,o}function _(e){const t=u.useRef(e);return u.useEffect(()=>{t.current=e}),u.useMemo(()=>(...o)=>{var r;return(r=t.current)==null?void 0:r.call(t,...o)},[])}function Z({prop:e,defaultProp:t,onChange:o=()=>{}}){const[r,n]=$({defaultProp:t,onChange:o}),c=e!==void 0,s=c?e:r,i=_(o),l=u.useCallback(f=>{if(c){const d=typeof f=="function"?f(e):f;d!==e&&i(d)}else n(f)},[c,e,n,i]);return[s,l]}function $({defaultProp:e,onChange:t}){const o=u.useState(e),[r]=o,n=u.useRef(r),c=_(t);return u.useEffect(()=>{n.current!==r&&(c(r),n.current=r)},[r,n,c]),o}var I=u.createContext(void 0);function G(e){const t=u.useContext(I);return e||t||"ltr"}var z=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{};function J(e){const[t,o]=u.useState(void 0);return z(()=>{if(e){o({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const c=n[0];let s,i;if("borderBoxSize"in c){const l=c.borderBoxSize,f=Array.isArray(l)?l[0]:l;s=f.inlineSize,i=f.blockSize}else s=e.offsetWidth,i=e.offsetHeight;o({width:s,height:i})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else o(void 0)},[e]),t}var P=u.forwardRef((e,t)=>{const{children:o,...r}=e,n=u.Children.toArray(o),c=n.find(T);if(c){const s=c.props.children,i=n.map(l=>l===c?u.Children.count(s)>1?u.Children.only(null):u.isValidElement(s)?s.props.children:null:l);return h.jsx(E,{...r,ref:t,children:u.isValidElement(s)?u.cloneElement(s,void 0,i):null})}return h.jsx(E,{...r,ref:t,children:o})});P.displayName="Slot";var E=u.forwardRef((e,t)=>{const{children:o,...r}=e;if(u.isValidElement(o)){const n=B(o);return u.cloneElement(o,{...W(r,o.props),ref:t?M(t,n):n})}return u.Children.count(o)>1?u.Children.only(null):null});E.displayName="SlotClone";var D=({children:e})=>h.jsx(h.Fragment,{children:e});function T(e){return u.isValidElement(e)&&e.type===D}function W(e,t){const o={...t};for(const r in t){const n=e[r],c=t[r];/^on[A-Z]/.test(r)?n&&c?o[r]=(...i)=>{c(...i),n(...i)}:n&&(o[r]=n):r==="style"?o[r]={...n,...c}:r==="className"&&(o[r]=[n,c].filter(Boolean).join(" "))}return{...e,...o}}function B(e){var r,n;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,o=t&&"isReactWarning"in t&&t.isReactWarning;return o?e.ref:(t=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,o=t&&"isReactWarning"in t&&t.isReactWarning,o?e.props.ref:e.props.ref||e.ref)}var L=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],K=L.reduce((e,t)=>{const o=u.forwardRef((r,n)=>{const{asChild:c,...s}=r,i=c?P:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(i,{...s,ref:n})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{});function Q(e,t){e&&j.flushSync(()=>e.dispatchEvent(t))}function V(e,t=[]){let o=[];function r(c,s){const i=u.createContext(s),l=o.length;o=[...o,s];function f(d){const{scope:p,children:m,...a}=d,C=(p==null?void 0:p[e][l])||i,x=u.useMemo(()=>a,Object.values(a));return h.jsx(C.Provider,{value:x,children:m})}function v(d,p){const m=(p==null?void 0:p[e][l])||i,a=u.useContext(m);if(a)return a;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${c}\``)}return f.displayName=c+"Provider",[f,v]}const n=()=>{const c=o.map(s=>u.createContext(s));return function(i){const l=(i==null?void 0:i[e])||c;return u.useMemo(()=>({[`__scope${e}`]:{...i,[e]:l}}),[i,l])}};return n.scopeName=e,[r,k(n,...t)]}function k(...e){const t=e[0];if(e.length===1)return t;const o=()=>{const r=e.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(c){const s=r.reduce((i,{useScope:l,scopeName:f})=>{const d=l(c)[`__scope${f}`];return{...i,...d}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return o.scopeName=t.scopeName,o}function X(e){const t=e+"CollectionProvider",[o,r]=V(t),[n,c]=o(t,{collectionRef:{current:null},itemMap:new Map}),s=m=>{const{scope:a,children:C}=m,x=b.useRef(null),S=b.useRef(new Map).current;return h.jsx(n,{scope:a,itemMap:S,collectionRef:x,children:C})};s.displayName=t;const i=e+"CollectionSlot",l=b.forwardRef((m,a)=>{const{scope:C,children:x}=m,S=c(i,C),y=w(a,S.collectionRef);return h.jsx(P,{ref:y,children:x})});l.displayName=i;const f=e+"CollectionItemSlot",v="data-radix-collection-item",d=b.forwardRef((m,a)=>{const{scope:C,children:x,...S}=m,y=b.useRef(null),g=w(a,y),R=c(f,C);return b.useEffect(()=>(R.itemMap.set(y,{ref:y,...S}),()=>void R.itemMap.delete(y))),h.jsx(P,{[v]:"",ref:g,children:x})});d.displayName=f;function p(m){const a=c(e+"CollectionConsumer",m);return b.useCallback(()=>{const x=a.collectionRef.current;if(!x)return[];const S=Array.from(x.querySelectorAll(`[${v}]`));return Array.from(a.itemMap.values()).sort((R,N)=>S.indexOf(R.ref.current)-S.indexOf(N.ref.current))},[a.collectionRef,a.itemMap])}return[{Provider:s,Slot:l,ItemSlot:d},p,r]}export{K as P,P as S,F as a,q as b,X as c,w as d,G as e,J as f,_ as g,Q as h,z as i,M as j,Z as u};

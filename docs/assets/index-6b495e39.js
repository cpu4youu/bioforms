import{s,R as P,_ as $,r as T,j as e}from"./index-27f5dc01.js";import{b}from"./index.esm-a6bcee24.js";import{u as N}from"./land-config-f8d76ce4.js";import{u as E}from"./index-bb261836.js";import{p as R}from"./constants-1566b5f3.js";import"./iconBase-90a1b39f.js";import"./useQuery-68fa67c5.js";const k=s("div",{d:"flex",w:"100%",direction:"column",">img":{my:"20px",objectFit:"contain",w:"100%"},h3:{d:"flex",alignItems:"center",gap:"10px",fs:"16px",color:"#FFFFFF",mb:"15px"},"@sm":{pb:"20px",">img":{d:"none"}}}),j=s("div",{d:"flex",gap:"3px",direction:"column",mt:"10px"}),l=s("div",{ff:"$heading",fs:"16px",color:"#FFFFFF",padding:"10px",br:"3px",bg:"#201D2C",mb:"10px",span:{color:"#FFB800"},"@sm":{fs:"12px"}}),q=s("div",{d:"flex",gap:"3px",span:{w:"50%",ff:"$heading",fs:"13px",color:"#FFFFFF",padding:"5px 10px",br:"3px",bg:"#201D2C","&:last-child":{w:"100%"},"@sm":{fs:"10px"}}}),M=s("div",{d:"flex",direction:"column",mt:"30px"}),V=s("h3",{color:"#FFFFFF","@sm":{fs:"12px"}}),A=s("p",{color:"#FFFFFF",ff:"$heading",fs:"16px",mt:"5px",padding:"5px 10px",br:"3px",bg:"#201D2C","@sm":{fs:"10px"}}),Y=s("div",{d:"flex",direction:"column",mt:"20px","@sm":{div:{top:"20px",left:"5px",fs:"10px"}}}),O=s("div",{d:"flex",gap:"5px",mt:"30px"}),d=s("div",{d:"flex",alignItems:"center",justifyContent:"center",w:"100%",direction:"column",span:{d:"flex",alignItems:"center",justifyContent:"center",padding:"5px 10px",w:"100%",br:"5px 5px 0 0 ",color:"#FFFFFF",ff:"$heading",fs:"10px",fw:"$thin",bg:"#201D2C"}}),x=s("div",{d:"flex",alignItems:"center",justifyContent:"center",gap:"5px",padding:"5px",br:"0 0 5px 5px",w:"100%",color:"#FFFFFF",ff:"$heading",fs:"12px",fw:"normal",bg:"#1C1A26",img:{objectFit:"contain",w:"20px",my:"0px"}}),Q=s("div",{d:"flex",gap:"3px",direction:"column",mt:"10px"}),W=s("div",{d:"flex",direction:"column",w:"100%",">p":{ff:"$heading",fs:"16px",color:"#FFFFFF",w:"100%",padding:"10px",br:"3px",bg:"#201D2C","@sm":{fs:"12px"}}}),G=s("div",{d:"flex",gap:"10px",w:"100%"}),H=s("button",{d:"flex",alignItems:"center",justifyContent:"center",direction:"column",position:"relative",w:"100%",h:"200px",span:{color:"#FFFFFF",ff:"$heading",fs:"16px",fw:"bold",zIndex:2},img:{objectFit:"contain",w:"80px",zIndex:2,"&:last-child":{zIndex:1,objectFit:"cover",w:"100%",h:"100%",my:"0px",top:0,left:0,position:"absolute"}},".question":{fs:"44px"},variants:{isSelected:{true:{border:"2px solid #5DC3E8"}}}}),J=P.lazy(()=>$(()=>import("./index-33998869.js"),["assets/index-33998869.js","assets/index-27f5dc01.js","assets/index-55fec1ff.css","assets/index-7ab2512c.js"])),te=()=>{var g,h,u,f;const{data:t}=N(),{buildingBoost:c,setBuildingBoost:_,selectedBuild:n,setSelectedBuild:y}=E(),[v,w]=T.useState(0);function B(i,o){y(i),w(o)}function C(i){const[o]=i,F=((n==null?void 0:n.boost_score)||0)/1e4;_(o<F?[F]:i)}const S=((g=t==null?void 0:t[0])==null?void 0:g.boost_base_cost)||0,I=((h=t==null?void 0:t[0])==null?void 0:h.boost_cost_first_percent)||0,D=(n==null?void 0:n.boost_score)||0,r=Number(((u=t==null?void 0:t[0])==null?void 0:u.boost_cost_mod)||0),z=(1-Math.pow(r,c[0]+1))/(1-r),L=(1-Math.pow(r,D/1e4+1))/(1-r),p=S+I*(z-L),a=(((f=t==null?void 0:t[0])==null?void 0:f.start_boost_score)||0)/1e4,m=p<a?a:p;return e.jsx(k,{children:n!=null&&n.boost_score?e.jsxs(e.Fragment,{children:[e.jsxs(j,{children:[e.jsx(l,{children:"This building currently gets selected 5.4 times more often than a level 1 tavern at 100% boost."}),e.jsxs(q,{children:[e.jsx("span",{children:"Next Level"}),e.jsx("span",{children:"Selection Frequency +20%"})]})]}),e.jsxs(M,{children:[e.jsx(V,{children:"Building Boost"}),e.jsx(A,{children:"Boosting a building raises its perks, but usage and time reduce boost levels. If boost drops below 1%, the building becomes unusable."}),e.jsx(Y,{children:e.jsx(J,{onValueChange:C,value:c})})]}),e.jsxs(O,{children:[e.jsxs(d,{children:[e.jsx("span",{children:"Total Cost"}),e.jsxs(x,{children:[m.toFixed(2),e.jsx("img",{loading:"lazy",src:"/assets/icons/gem.png",alt:""})]})]}),e.jsxs(d,{children:[e.jsx("span",{children:"Cost per 1%"}),e.jsxs(x,{children:[(m/(c[0]-a||1)).toFixed(2),e.jsx("img",{loading:"lazy",src:"/assets/icons/gem.png",alt:""})]})]}),e.jsxs(d,{children:[e.jsx("span",{children:"Start Score"}),e.jsxs(x,{children:[a,"%"]})]})]}),e.jsx("img",{loading:"lazy",src:"/assets/mock/building.png",alt:"Land"})]}):n.index==0?e.jsxs(Q,{children:[e.jsx("h3",{children:"Select Primary Building"}),e.jsxs(W,{children:[e.jsx("p",{children:"You can only have one primary building on your land"}),e.jsx(G,{children:R.map((i,o)=>e.jsxs(H,{isSelected:v===o,onClick:()=>B({...i,index:n.index},o),children:[e.jsx("span",{children:i.building_name}),i.img?e.jsx("img",{loading:"lazy",src:`/assets/buildings/${i.img}.png`,alt:"Tavern",title:"Tavern"}):e.jsx("span",{className:"question",children:"?"}),e.jsx("img",{loading:"lazy",src:"/assets/lands/vulcano.png",alt:"Land"})]},i.building_name))})]}),e.jsxs(l,{children:[e.jsxs("h3",{children:[e.jsx(b,{size:30})," ",n==null?void 0:n.building_name," Information"]}),"In a ",n==null?void 0:n.building_name," players can recruit new fighters to their team. Landowners earn ",e.jsx("span",{children:"Shards"})," each time a trainer recruits a fighter on their land."]})]}):e.jsx(j,{children:e.jsxs(l,{children:[e.jsxs("h3",{children:[e.jsx(b,{size:30})," ",n==null?void 0:n.building_name," Information"]}),"This building currently gets selected 5.4 times more often than a level 1 tavern at 100% boost.In an ",n==null?void 0:n.building_name," players can ascend their fighters for",e.jsx("span",{children:" credits"})," or ",e.jsx("span",{children:"gems"}),". You will receive a portion of the spent currency."]})})})};export{te as default};

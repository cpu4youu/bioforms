import{g as o,S as r,u as i,e as a,q as u}from"./index-70e0b2df.js";import{u as c}from"./useQuery-7d8e5c8d.js";import{t as f}from"./typeToImg-98b92543.js";const l=async()=>await o({options:{code:r.recoveryAle,index_position:1,limit:"1000",scope:r.recoveryAle,table:"offers"}}),m=async e=>await o({options:{code:r.recoveryAle,index_position:1,limit:"1000",scope:e,table:"contribution"}}),T=()=>c({enabled:!!i.getState().user,queryKey:[a.CandleOfferDataState],queryFn:()=>y(),staleTime:1e3*60*20});async function g(){return await u.invalidateQueries([a.CandleOfferDataState])}async function y(){try{const e=await l();return e?d(e):[]}catch(e){return console.log(e),[]}}function d(e){return Promise.all(e.map(async t=>{const n=await m(t.offer_id),s=f(t.reward_type);return{...t,rewardImg:s,contribution:n?n[0]:null}}))}export{g as o,T as u};

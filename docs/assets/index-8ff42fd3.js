import{e as w,s as a,S as x,c as _,u as f,R as u,_ as g,r as h,j as o,Q as d}from"./index-078fb701.js";import{s as v}from"./sleep-da79c358.js";import{u as y}from"./use-transaction-1e10fa41.js";const T=w({"0%":{backgroundPosition:"0% 0%"},"100%":{backgroundPosition:"-135% 0%"}}),S=a("div",{d:"grid",gridTemplateAreas:`
    "empty header"
    "main main"
  `,gridTemplateColumns:"3fr 1fr",gap:"10px",br:"15px",w:"100%",h:"100%"}),A=a("div",{gridArea:"header",d:"flex",justifyContent:"flex-end",gap:"10px",minHeight:"65px",button:{padding:"20px",w:"100%",maxW:"100%",div:{d:"flex",alignItems:"center",gap:"5px",color:"#828282",img:{objectFit:"contain",w:"24px"}}}}),j=a("div",{gridArea:"main",position:"relative",d:"flex",align:"flex-start",alignContent:"flex-start",justify:"flex-center",justifyContent:"flex-center",w:"100%",gap:"10px",padding:"10px",br:"0 15px 15px 15px",bg:"#141423","@md":{h:"calc(100vh - 175px)",direction:"column"}}),C=a("div",{d:"flex",align:"flex-start",alignContent:"flex-start",justify:"flex-center",justifyContent:"flex-center",br:"15px 15px 0 0",bg:"#19192D",position:"absolute",top:"-35px",left:"0",button:{border:"1px solid rgba(0, 0, 0, 0.25)",padding:"10px 20px",color:"#fff","&:first-child":{br:"15px 0 0 0"},"&:last-child":{br:"0 15px 0 0"}}});a("div",{d:"flex",direction:"column",w:"100%",maxW:"820px",padding:"24px 30px",minH:"calc(100vh - 175px)",maxH:"calc(100vh - 175px)",overflowY:"auto","@md":{h:"unset"}});a("div",{d:"flex",direction:"column",gap:"10px",w:"100%"});a("div",{d:"flex",gap:"10px",mt:"20px",w:"100%",img:{width:25,height:25}});a("span",{d:"flex",direction:"column",w:"100%",color:"#fff",fs:"16px",ff:"$heading"});a("span",{d:"flex",direction:"column",w:"100%",padding:"10px 10px 20px 10px",bg:"#201D2C",color:"#fff",fs:"16px",ff:"$heading"});a("div",{d:"flex",w:"100%",m:"17px 0 60px"});a("div",{display:"flex",justify:"center",gap:"10px",img:{"&:hover":{transform:"scale(1.05)",zIndex:"4","-webkit-filter":"drop-shadow(0px 0px 8px #00BAFF)",filter:"drop-shadow(0px 0px 5px #00BAFF)"}},variants:{cardSelected:{0:{img:{"&:nth-of-type(2)":{opacity:"0.2"},"&:nth-of-type(3)":{opacity:"0.2"}}},1:{img:{"&:nth-of-type(1)":{opacity:"0.2"},"&:nth-of-type(3)":{opacity:"0.2"}}},2:{img:{"&:nth-of-type(1)":{opacity:"0.2"},"&:nth-of-type(2)":{opacity:"0.2"}}}}}});a("img",{cursor:"pointer",transition:"all 0.2s ease-in-out",w:"85px",h:"116px",zIndex:"2",variants:{isSelected:{true:{filter:"grayscale(100%)"}}},"@sm":{w:"65px",h:"90px"}});a("div",{d:"flex",gap:"10px",alignContent:"flex-start",flexWrap:"wrap",overflow:"auto",w:"100%",h:"calc(100vh - 235px)","@md":{h:"unset"}});a("div",{w:"85px",h:"116px",background:"linear-gradient( -90deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.25) ,rgba(255, 255, 255, 0.15))",br:"10px",backgroundSize:"400% 400%",animation:`${T} 1.2s ease-in-out infinite`,"@sm":{width:"70px",height:"100px"}});async function z({mine_nfts:e,user:t}){const{executeTransaction:n}=y(),r=M({user:t,mine_nfts:e});return!!await n(r)}function M({mine_nfts:e,user:t}){return{actions:[{account:x.playersAle,name:"setminenfts",authorization:[{actor:t.name,permission:t.authorization.permission}],data:{wallet:t.name,mine_nfts:e}}]}}const k=_((e,t)=>{var n,r;return{selectedCards:[void 0,void 0,void 0],setSelectedCards:i=>e({selectedCards:i}),gameTag:(n=f.getState().user)==null?void 0:n.playertag,setGameTag:i=>e({gameTag:i}),selectedAvatar:(r=f.getState().user)==null?void 0:r.active_avatar,setSelectedAvatar:i=>e({selectedAvatar:i})}});async function E({user:e,playertag:t,avatar_id:n}){const{executeTransaction:r}=y(),i=P({user:e,playertag:t,avatar_id:n});return!!await r(i)}function P({playertag:e,user:t,avatar_id:n}){return{actions:[{account:x.playersAle,name:"settag",authorization:[{actor:t.name,permission:t.authorization.permission}],data:{wallet:t.name,playertag:e}},{account:x.playersAle,name:"setavatar",authorization:[{actor:t.name,permission:t.authorization.permission}],data:{wallet:t.name,avatar_id:n}}]}}const R=u.lazy(()=>g(()=>import("./index-1be0728a.js"),["assets/index-1be0728a.js","assets/index-078fb701.js","assets/index-55fec1ff.css"])),I=u.lazy(()=>g(()=>import("./index-7f307283.js"),["assets/index-7f307283.js","assets/index-078fb701.js","assets/index-55fec1ff.css","assets/inventory-query-613df0a7.js","assets/useQuery-721e9ceb.js","assets/atomic-api-e2c6fe4f.js","assets/toast-options-b5902a92.js","assets/index-04e782a6.js","assets/index-109258b3.js","assets/sleep-da79c358.js","assets/use-transaction-1e10fa41.js"])),O=u.lazy(()=>g(()=>import("./index-0e0d85c6.js"),["assets/index-0e0d85c6.js","assets/index-078fb701.js","assets/index-55fec1ff.css","assets/styles-49a8790a.js","assets/useQuery-721e9ceb.js","assets/sleep-da79c358.js","assets/use-transaction-1e10fa41.js","assets/toast-options-b5902a92.js"])),D=()=>{const e=f(({user:s})=>s),{selectedCards:t,gameTag:n,selectedAvatar:r}=k(),[i,l]=h.useState(!1),[c,m]=h.useState("mining");async function b(){try{if(l(!0),c==="mining"){const s=t.filter(p=>!!p).map(p=>+p.asset_id);if(!await z({user:e,mine_nfts:s}))return;await v(2e3),d.success("Mine nft equipped !");return}if(c==="avatar"){if(!n||!r){d.error("Please set a gamertag and select an avatar.");return}if(!await E({user:e,playertag:n,avatar_id:r}))return;await v(2e3),d.success("Mine nft equipped !");return}}catch(s){console.error(s)}finally{l(!1)}}return o.jsxs(S,{children:[o.jsx(A,{children:o.jsx(R,{isLoading:i,disabled:i,onClick:b,children:"Save Settings"})}),o.jsxs(j,{children:[o.jsxs(C,{children:[o.jsx("button",{onClick:()=>m("mining"),children:"Mining"}),o.jsx("button",{onClick:()=>m("avatar"),children:"Avatar"})]}),c==="mining"&&o.jsx(I,{}),c==="avatar"&&o.jsx(O,{})]})]})},$=Object.freeze(Object.defineProperty({__proto__:null,default:D},Symbol.toStringTag,{value:"Module"}));export{$ as i,T as s,k as u};
